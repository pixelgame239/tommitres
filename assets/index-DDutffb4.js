var bS=Object.defineProperty;var xS=(i,t,n)=>t in i?bS(i,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[t]=n;var Od=(i,t,n)=>xS(i,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Jl(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Md={exports:{}},Cl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xv;function SS(){if(Xv)return Cl;Xv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(a,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:a,key:f,ref:o!==void 0?o:null,props:u}}return Cl.Fragment=t,Cl.jsx=n,Cl.jsxs=n,Cl}var Wv;function wS(){return Wv||(Wv=1,Md.exports=SS()),Md.exports}var v=wS(),Vd={exports:{}},kt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zv;function AS(){if(Zv)return kt;Zv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.iterator;function x(k){return k===null||typeof k!="object"?null:(k=b&&k[b]||k["@@iterator"],typeof k=="function"?k:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,H={};function j(k,tt,dt){this.props=k,this.context=tt,this.refs=H,this.updater=dt||D}j.prototype.isReactComponent={},j.prototype.setState=function(k,tt){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,tt,"setState")},j.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function L(){}L.prototype=j.prototype;function Q(k,tt,dt){this.props=k,this.context=tt,this.refs=H,this.updater=dt||D}var K=Q.prototype=new L;K.constructor=Q,M(K,j.prototype),K.isPureReactComponent=!0;var rt=Array.isArray,at={H:null,A:null,T:null,S:null},ct=Object.prototype.hasOwnProperty;function V(k,tt,dt,st,ot,St){return dt=St.ref,{$$typeof:i,type:k,key:tt,ref:dt!==void 0?dt:null,props:St}}function C(k,tt){return V(k.type,tt,void 0,void 0,void 0,k.props)}function R(k){return typeof k=="object"&&k!==null&&k.$$typeof===i}function O(k){var tt={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(dt){return tt[dt]})}var U=/\/+/g;function z(k,tt){return typeof k=="object"&&k!==null&&k.key!=null?O(""+k.key):tt.toString(36)}function N(){}function Ot(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(N,N):(k.status="pending",k.then(function(tt){k.status==="pending"&&(k.status="fulfilled",k.value=tt)},function(tt){k.status==="pending"&&(k.status="rejected",k.reason=tt)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function xt(k,tt,dt,st,ot){var St=typeof k;(St==="undefined"||St==="boolean")&&(k=null);var gt=!1;if(k===null)gt=!0;else switch(St){case"bigint":case"string":case"number":gt=!0;break;case"object":switch(k.$$typeof){case i:case t:gt=!0;break;case T:return gt=k._init,xt(gt(k._payload),tt,dt,st,ot)}}if(gt)return ot=ot(k),gt=st===""?"."+z(k,0):st,rt(ot)?(dt="",gt!=null&&(dt=gt.replace(U,"$&/")+"/"),xt(ot,tt,dt,"",function(ee){return ee})):ot!=null&&(R(ot)&&(ot=C(ot,dt+(ot.key==null||k&&k.key===ot.key?"":(""+ot.key).replace(U,"$&/")+"/")+gt)),tt.push(ot)),1;gt=0;var oe=st===""?".":st+":";if(rt(k))for(var Ct=0;Ct<k.length;Ct++)st=k[Ct],St=oe+z(st,Ct),gt+=xt(st,tt,dt,St,ot);else if(Ct=x(k),typeof Ct=="function")for(k=Ct.call(k),Ct=0;!(st=k.next()).done;)st=st.value,St=oe+z(st,Ct++),gt+=xt(st,tt,dt,St,ot);else if(St==="object"){if(typeof k.then=="function")return xt(Ot(k),tt,dt,st,ot);throw tt=String(k),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return gt}function it(k,tt,dt){if(k==null)return k;var st=[],ot=0;return xt(k,st,"","",function(St){return tt.call(dt,St,ot++)}),st}function ht(k){if(k._status===-1){var tt=k._result;tt=tt(),tt.then(function(dt){(k._status===0||k._status===-1)&&(k._status=1,k._result=dt)},function(dt){(k._status===0||k._status===-1)&&(k._status=2,k._result=dt)}),k._status===-1&&(k._status=0,k._result=tt)}if(k._status===1)return k._result.default;throw k._result}var ut=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function At(){}return kt.Children={map:it,forEach:function(k,tt,dt){it(k,function(){tt.apply(this,arguments)},dt)},count:function(k){var tt=0;return it(k,function(){tt++}),tt},toArray:function(k){return it(k,function(tt){return tt})||[]},only:function(k){if(!R(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},kt.Component=j,kt.Fragment=n,kt.Profiler=o,kt.PureComponent=Q,kt.StrictMode=a,kt.Suspense=p,kt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=at,kt.act=function(){throw Error("act(...) is not supported in production builds of React.")},kt.cache=function(k){return function(){return k.apply(null,arguments)}},kt.cloneElement=function(k,tt,dt){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var st=M({},k.props),ot=k.key,St=void 0;if(tt!=null)for(gt in tt.ref!==void 0&&(St=void 0),tt.key!==void 0&&(ot=""+tt.key),tt)!ct.call(tt,gt)||gt==="key"||gt==="__self"||gt==="__source"||gt==="ref"&&tt.ref===void 0||(st[gt]=tt[gt]);var gt=arguments.length-2;if(gt===1)st.children=dt;else if(1<gt){for(var oe=Array(gt),Ct=0;Ct<gt;Ct++)oe[Ct]=arguments[Ct+2];st.children=oe}return V(k.type,ot,void 0,void 0,St,st)},kt.createContext=function(k){return k={$$typeof:f,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},kt.createElement=function(k,tt,dt){var st,ot={},St=null;if(tt!=null)for(st in tt.key!==void 0&&(St=""+tt.key),tt)ct.call(tt,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(ot[st]=tt[st]);var gt=arguments.length-2;if(gt===1)ot.children=dt;else if(1<gt){for(var oe=Array(gt),Ct=0;Ct<gt;Ct++)oe[Ct]=arguments[Ct+2];ot.children=oe}if(k&&k.defaultProps)for(st in gt=k.defaultProps,gt)ot[st]===void 0&&(ot[st]=gt[st]);return V(k,St,void 0,void 0,null,ot)},kt.createRef=function(){return{current:null}},kt.forwardRef=function(k){return{$$typeof:m,render:k}},kt.isValidElement=R,kt.lazy=function(k){return{$$typeof:T,_payload:{_status:-1,_result:k},_init:ht}},kt.memo=function(k,tt){return{$$typeof:g,type:k,compare:tt===void 0?null:tt}},kt.startTransition=function(k){var tt=at.T,dt={};at.T=dt;try{var st=k(),ot=at.S;ot!==null&&ot(dt,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(At,ut)}catch(St){ut(St)}finally{at.T=tt}},kt.unstable_useCacheRefresh=function(){return at.H.useCacheRefresh()},kt.use=function(k){return at.H.use(k)},kt.useActionState=function(k,tt,dt){return at.H.useActionState(k,tt,dt)},kt.useCallback=function(k,tt){return at.H.useCallback(k,tt)},kt.useContext=function(k){return at.H.useContext(k)},kt.useDebugValue=function(){},kt.useDeferredValue=function(k,tt){return at.H.useDeferredValue(k,tt)},kt.useEffect=function(k,tt){return at.H.useEffect(k,tt)},kt.useId=function(){return at.H.useId()},kt.useImperativeHandle=function(k,tt,dt){return at.H.useImperativeHandle(k,tt,dt)},kt.useInsertionEffect=function(k,tt){return at.H.useInsertionEffect(k,tt)},kt.useLayoutEffect=function(k,tt){return at.H.useLayoutEffect(k,tt)},kt.useMemo=function(k,tt){return at.H.useMemo(k,tt)},kt.useOptimistic=function(k,tt){return at.H.useOptimistic(k,tt)},kt.useReducer=function(k,tt,dt){return at.H.useReducer(k,tt,dt)},kt.useRef=function(k){return at.H.useRef(k)},kt.useState=function(k){return at.H.useState(k)},kt.useSyncExternalStore=function(k,tt,dt){return at.H.useSyncExternalStore(k,tt,dt)},kt.useTransition=function(){return at.H.useTransition()},kt.version="19.0.0",kt}var Jv;function Hm(){return Jv||(Jv=1,Vd.exports=AS()),Vd.exports}var S=Hm();const is=Jl(S);var jd={exports:{}},Dl={},kd={exports:{}},Ld={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t_;function RS(){return t_||(t_=1,function(i){function t(it,ht){var ut=it.length;it.push(ht);t:for(;0<ut;){var At=ut-1>>>1,k=it[At];if(0<o(k,ht))it[At]=ht,it[ut]=k,ut=At;else break t}}function n(it){return it.length===0?null:it[0]}function a(it){if(it.length===0)return null;var ht=it[0],ut=it.pop();if(ut!==ht){it[0]=ut;t:for(var At=0,k=it.length,tt=k>>>1;At<tt;){var dt=2*(At+1)-1,st=it[dt],ot=dt+1,St=it[ot];if(0>o(st,ut))ot<k&&0>o(St,st)?(it[At]=St,it[ot]=ut,At=ot):(it[At]=st,it[dt]=ut,At=dt);else if(ot<k&&0>o(St,ut))it[At]=St,it[ot]=ut,At=ot;else break t}}return ht}function o(it,ht){var ut=it.sortIndex-ht.sortIndex;return ut!==0?ut:it.id-ht.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],g=[],T=1,b=null,x=3,D=!1,M=!1,H=!1,j=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function K(it){for(var ht=n(g);ht!==null;){if(ht.callback===null)a(g);else if(ht.startTime<=it)a(g),ht.sortIndex=ht.expirationTime,t(p,ht);else break;ht=n(g)}}function rt(it){if(H=!1,K(it),!M)if(n(p)!==null)M=!0,Ot();else{var ht=n(g);ht!==null&&xt(rt,ht.startTime-it)}}var at=!1,ct=-1,V=5,C=-1;function R(){return!(i.unstable_now()-C<V)}function O(){if(at){var it=i.unstable_now();C=it;var ht=!0;try{t:{M=!1,H&&(H=!1,L(ct),ct=-1),D=!0;var ut=x;try{e:{for(K(it),b=n(p);b!==null&&!(b.expirationTime>it&&R());){var At=b.callback;if(typeof At=="function"){b.callback=null,x=b.priorityLevel;var k=At(b.expirationTime<=it);if(it=i.unstable_now(),typeof k=="function"){b.callback=k,K(it),ht=!0;break e}b===n(p)&&a(p),K(it)}else a(p);b=n(p)}if(b!==null)ht=!0;else{var tt=n(g);tt!==null&&xt(rt,tt.startTime-it),ht=!1}}break t}finally{b=null,x=ut,D=!1}ht=void 0}}finally{ht?U():at=!1}}}var U;if(typeof Q=="function")U=function(){Q(O)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,N=z.port2;z.port1.onmessage=O,U=function(){N.postMessage(null)}}else U=function(){j(O,0)};function Ot(){at||(at=!0,U())}function xt(it,ht){ct=j(function(){it(i.unstable_now())},ht)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(it){it.callback=null},i.unstable_continueExecution=function(){M||D||(M=!0,Ot())},i.unstable_forceFrameRate=function(it){0>it||125<it?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<it?Math.floor(1e3/it):5},i.unstable_getCurrentPriorityLevel=function(){return x},i.unstable_getFirstCallbackNode=function(){return n(p)},i.unstable_next=function(it){switch(x){case 1:case 2:case 3:var ht=3;break;default:ht=x}var ut=x;x=ht;try{return it()}finally{x=ut}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(it,ht){switch(it){case 1:case 2:case 3:case 4:case 5:break;default:it=3}var ut=x;x=it;try{return ht()}finally{x=ut}},i.unstable_scheduleCallback=function(it,ht,ut){var At=i.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?At+ut:At):ut=At,it){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=ut+k,it={id:T++,callback:ht,priorityLevel:it,startTime:ut,expirationTime:k,sortIndex:-1},ut>At?(it.sortIndex=ut,t(g,it),n(p)===null&&it===n(g)&&(H?(L(ct),ct=-1):H=!0,xt(rt,ut-At))):(it.sortIndex=k,t(p,it),M||D||(M=!0,Ot())),it},i.unstable_shouldYield=R,i.unstable_wrapCallback=function(it){var ht=x;return function(){var ut=x;x=ht;try{return it.apply(this,arguments)}finally{x=ut}}}}(Ld)),Ld}var e_;function CS(){return e_||(e_=1,kd.exports=RS()),kd.exports}var Ud={exports:{}},un={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_;function DS(){if(n_)return un;n_=1;var i=Hm();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:T}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,un.createPortal=function(p,g){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,T)},un.flushSync=function(p){var g=f.T,T=a.p;try{if(f.T=null,a.p=2,p)return p()}finally{f.T=g,a.p=T,a.d.f()}},un.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(p,g))},un.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},un.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var T=g.as,b=m(T,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;T==="style"?a.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:D}):T==="script"&&a.d.X(p,{crossOrigin:b,integrity:x,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},un.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var T=m(g.as,g.crossOrigin);a.d.M(p,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(p)},un.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var T=g.as,b=m(T,g.crossOrigin);a.d.L(p,T,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},un.preloadModule=function(p,g){if(typeof p=="string")if(g){var T=m(g.as,g.crossOrigin);a.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(p)},un.requestFormReset=function(p){a.d.r(p)},un.unstable_batchedUpdates=function(p,g){return p(g)},un.useFormState=function(p,g,T){return f.H.useFormState(p,g,T)},un.useFormStatus=function(){return f.H.useHostTransitionStatus()},un.version="19.0.0",un}var r_;function G0(){if(r_)return Ud.exports;r_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Ud.exports=DS(),Ud.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i_;function NS(){if(i_)return Dl;i_=1;var i=CS(),t=Hm(),n=G0();function a(e){var r="https://react.dev/errors/"+e;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),D=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),rt=Symbol.for("react.memo_cache_sentinel"),at=Symbol.iterator;function ct(e){return e===null||typeof e!="object"?null:(e=at&&e[at]||e["@@iterator"],typeof e=="function"?e:null)}var V=Symbol.for("react.client.reference");function C(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===V?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case p:return"Fragment";case m:return"Portal";case T:return"Profiler";case g:return"StrictMode";case H:return"Suspense";case j:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case D:return(e.displayName||"Context")+".Provider";case x:return(e._context.displayName||"Context")+".Consumer";case M:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case L:return r=e.displayName||null,r!==null?r:C(e.type)||"Memo";case Q:r=e._payload,e=e._init;try{return C(e(r))}catch{}}return null}var R=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=Object.assign,U,z;function N(e){if(U===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);U=r&&r[1]||"",z=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+U+e+z}var Ot=!1;function xt(e,r){if(!e||Ot)return"";Ot=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(X){var $=X}Reflect.construct(e,[],nt)}else{try{nt.call()}catch(X){$=X}e.call(nt.prototype)}}else{try{throw Error()}catch(X){$=X}(nt=e())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(X){if(X&&$&&typeof X.stack=="string")return[X.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],w=d[1];if(E&&w){var I=E.split(`
`),B=w.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===B.length)for(l=I.length-1,h=B.length-1;1<=l&&0<=h&&I[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==B[h]){var W=`
`+I[l].replace(" at new "," at ");return e.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",e.displayName)),W}while(1<=l&&0<=h);break}}}finally{Ot=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?N(s):""}function it(e){switch(e.tag){case 26:case 27:case 5:return N(e.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 15:return e=xt(e.type,!1),e;case 11:return e=xt(e.type.render,!1),e;case 1:return e=xt(e.type,!0),e;default:return""}}function ht(e){try{var r="";do r+=it(e),e=e.return;while(e);return r}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function ut(e){var r=e,s=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(s=r.return),e=r.return;while(e)}return r.tag===3?s:null}function At(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function k(e){if(ut(e)!==e)throw Error(a(188))}function tt(e){var r=e.alternate;if(!r){if(r=ut(e),r===null)throw Error(a(188));return r!==e?null:e}for(var s=e,l=r;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return k(h),e;if(d===l)return k(h),r;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=d;else{for(var E=!1,w=h.child;w;){if(w===s){E=!0,s=h,l=d;break}if(w===l){E=!0,l=h,s=d;break}w=w.sibling}if(!E){for(w=d.child;w;){if(w===s){E=!0,s=d,l=h;break}if(w===l){E=!0,l=d,s=h;break}w=w.sibling}if(!E)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:r}function dt(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e;for(e=e.child;e!==null;){if(r=dt(e),r!==null)return r;e=e.sibling}return null}var st=Array.isArray,ot=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,St={pending:!1,data:null,method:null,action:null},gt=[],oe=-1;function Ct(e){return{current:e}}function ee(e){0>oe||(e.current=gt[oe],gt[oe]=null,oe--)}function Lt(e,r){oe++,gt[oe]=e.current,e.current=r}var ne=Ct(null),le=Ct(null),Te=Ct(null),Fe=Ct(null);function jt(e,r){switch(Lt(Te,r),Lt(le,e),Lt(ne,null),e=r.nodeType,e){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?wv(r):0;break;default:if(e=e===8?r.parentNode:r,r=e.tagName,e=e.namespaceURI)e=wv(e),r=Av(e,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ee(ne),Lt(ne,r)}function on(){ee(ne),ee(le),ee(Te)}function Cn(e){e.memoizedState!==null&&Lt(Fe,e);var r=ne.current,s=Av(r,e.type);r!==s&&(Lt(le,e),Lt(ne,s))}function gr(e){le.current===e&&(ee(ne),ee(le)),Fe.current===e&&(ee(Fe),xl._currentValue=St)}var yr=Object.prototype.hasOwnProperty,nr=i.unstable_scheduleCallback,vr=i.unstable_cancelCallback,ba=i.unstable_shouldYield,_r=i.unstable_requestPaint,be=i.unstable_now,Gr=i.unstable_getCurrentPriorityLevel,Et=i.unstable_ImmediatePriority,ue=i.unstable_UserBlockingPriority,En=i.unstable_NormalPriority,xa=i.unstable_LowPriority,Qr=i.unstable_IdlePriority,ds=i.log,Tt=i.unstable_setDisableYieldValue,qt=null,he=null;function rr(e){if(he&&typeof he.onCommitFiberRoot=="function")try{he.onCommitFiberRoot(qt,e,void 0,(e.current.flags&128)===128)}catch{}}function Ln(e){if(typeof ds=="function"&&Tt(e),he&&typeof he.setStrictMode=="function")try{he.setStrictMode(qt,e)}catch{}}var mn=Math.clz32?Math.clz32:fu,Ro=Math.log,hu=Math.LN2;function fu(e){return e>>>=0,e===0?32:31-(Ro(e)/hu|0)|0}var Er=128,Si=4194304;function ir(e){var r=e&42;if(r!==0)return r;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Un(e,r){var s=e.pendingLanes;if(s===0)return 0;var l=0,h=e.suspendedLanes,d=e.pingedLanes,E=e.warmLanes;e=e.finishedLanes!==0;var w=s&134217727;return w!==0?(s=w&~h,s!==0?l=ir(s):(d&=w,d!==0?l=ir(d):e||(E=w&~E,E!==0&&(l=ir(E))))):(w=s&~h,w!==0?l=ir(w):d!==0?l=ir(d):e||(E=s&~E,E!==0&&(l=ir(E)))),l===0?0:r!==0&&r!==l&&(r&h)===0&&(h=l&-l,E=r&-r,h>=E||h===32&&(E&4194176)!==0)?r:l}function wi(e,r){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&r)===0}function ms(e,r){switch(e){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Co(){var e=Er;return Er<<=1,(Er&4194176)===0&&(Er=128),e}function Ai(){var e=Si;return Si<<=1,(Si&62914560)===0&&(Si=4194304),e}function ps(e){for(var r=[],s=0;31>s;s++)r.push(e);return r}function De(e,r){e.pendingLanes|=r,r!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function du(e,r,s,l,h,d){var E=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var w=e.entanglements,I=e.expirationTimes,B=e.hiddenUpdates;for(s=E&~s;0<s;){var W=31-mn(s),nt=1<<W;w[W]=0,I[W]=-1;var $=B[W];if($!==null)for(B[W]=null,W=0;W<$.length;W++){var X=$[W];X!==null&&(X.lane&=-536870913)}s&=~nt}l!==0&&Ri(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(E&~r))}function Ri(e,r,s){e.pendingLanes|=r,e.suspendedLanes&=~r;var l=31-mn(r);e.entangledLanes|=r,e.entanglements[l]=e.entanglements[l]|1073741824|s&4194218}function Ci(e,r){var s=e.entangledLanes|=r;for(e=e.entanglements;s;){var l=31-mn(s),h=1<<l;h&r|e[l]&r&&(e[l]|=r),s&=~h}}function mu(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function pu(){var e=ot.p;return e!==0?e:(e=window.event,e===void 0?32:Fv(e.type))}function Di(e,r){var s=ot.p;try{return ot.p=e,r()}finally{ot.p=s}}var Tr=Math.random().toString(36).slice(2),Ge="__reactFiber$"+Tr,Le="__reactProps$"+Tr,$r="__reactContainer$"+Tr,Sa="__reactEvents$"+Tr,gs="__reactListeners$"+Tr,br="__reactHandles$"+Tr,Do="__reactResources$"+Tr,Ni="__reactMarker$"+Tr;function wa(e){delete e[Ge],delete e[Le],delete e[Sa],delete e[gs],delete e[br]}function ar(e){var r=e[Ge];if(r)return r;for(var s=e.parentNode;s;){if(r=s[$r]||s[Ge]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(e=Dv(e);e!==null;){if(s=e[Ge])return s;e=Dv(e)}return r}e=s,s=e.parentNode}return null}function Kr(e){if(e=e[Ge]||e[$r]){var r=e.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return e}return null}function Ii(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e.stateNode;throw Error(a(33))}function Oi(e){var r=e[Do];return r||(r=e[Do]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ge(e){e[Ni]=!0}var No=new Set,ys={};function Dn(e,r){Tn(e,r),Tn(e+"Capture",r)}function Tn(e,r){for(ys[e]=r,e=0;e<r.length;e++)No.add(r[e])}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Io={},Oo={};function gu(e){return yr.call(Oo,e)?!0:yr.call(Io,e)?!1:jh.test(e)?Oo[e]=!0:(Io[e]=!0,!1)}function Mi(e,r,s){if(gu(r))if(s===null)e.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(r);return}}e.setAttribute(r,""+s)}}function Vi(e,r,s){if(s===null)e.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttribute(r,""+s)}}function Pn(e,r,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(r,s,""+l)}}function pn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yu(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function kh(e){var r=yu(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),l=""+e[r];if(!e.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,d=s.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return h.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(e,r,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function Aa(e){e._valueTracker||(e._valueTracker=kh(e))}function Mo(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var s=r.getValue(),l="";return e&&(l=yu(e)?e.checked?"true":"false":e.value),e=l,e!==s?(r.setValue(e),!0):!1}function vs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Yr=/[\n"\\]/g;function xe(e){return e.replace(Yr,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function ji(e,r,s,l,h,d,E,w){e.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.type=E:e.removeAttribute("type"),r!=null?E==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+pn(r)):e.value!==""+pn(r)&&(e.value=""+pn(r)):E!=="submit"&&E!=="reset"||e.removeAttribute("value"),r!=null?_s(e,E,pn(r)):s!=null?_s(e,E,pn(s)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+pn(w):e.removeAttribute("name")}function Ra(e,r,s,l,h,d,E,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),r!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;s=s!=null?""+pn(s):"",r=r!=null?""+pn(r):s,w||r===e.value||(e.value=r),e.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=w?e.checked:!!l,e.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(e.name=E)}function _s(e,r,s){r==="number"&&vs(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Zt(e,r,s,l){if(e=e.options,r){r={};for(var h=0;h<s.length;h++)r["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=r.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&l&&(e[s].defaultSelected=!0)}else{for(s=""+pn(s),r=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}r!==null||e[h].disabled||(r=e[h])}r!==null&&(r.selected=!0)}}function Ca(e,r,s){if(r!=null&&(r=""+pn(r),r!==e.value&&(e.value=r),s==null)){e.defaultValue!==r&&(e.defaultValue=r);return}e.defaultValue=s!=null?""+pn(s):""}function ki(e,r,s,l){if(r==null){if(l!=null){if(s!=null)throw Error(a(92));if(st(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),r=s}s=pn(r),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l)}function Bn(e,r){if(r){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=r;return}}e.textContent=r}var Lh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vo(e,r,s){var l=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="":l?e.setProperty(r,s):typeof s!="number"||s===0||Lh.has(r)?r==="float"?e.cssFloat=s:e[r]=(""+s).trim():e[r]=s+"px"}function vu(e,r,s){if(r!=null&&typeof r!="object")throw Error(a(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&s[h]!==l&&Vo(e,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Vo(e,d,r[d])}function jo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ph=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xr(e){return Ph.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var zn=null;function Es(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xr=null,Wr=null;function Zr(e){var r=Kr(e);if(r&&(e=r.stateNode)){var s=e[Le]||null;t:switch(e=r.stateNode,r.type){case"input":if(ji(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+xe(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var l=s[r];if(l!==e&&l.form===e.form){var h=l[Le]||null;if(!h)throw Error(a(90));ji(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<s.length;r++)l=s[r],l.form===e.form&&Mo(l)}break t;case"textarea":Ca(e,s.value,s.defaultValue);break t;case"select":r=s.value,r!=null&&Zt(e,!!s.multiple,r,!1)}}}var ko=!1;function _u(e,r,s){if(ko)return e(r,s);ko=!0;try{var l=e(r);return l}finally{if(ko=!1,(Xr!==null||Wr!==null)&&(cc(),Xr&&(r=Xr,e=Wr,Wr=Xr=null,Zr(r),e)))for(r=0;r<e.length;r++)Zr(e[r])}}function Da(e,r){var s=e.stateNode;if(s===null)return null;var l=s[Le]||null;if(l===null)return null;s=l[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,r,typeof s));return s}var qn=!1;if(Nn)try{var Na={};Object.defineProperty(Na,"passive",{get:function(){qn=!0}}),window.addEventListener("test",Na,Na),window.removeEventListener("test",Na,Na)}catch{qn=!1}var Sr=null,Li=null,Jr=null;function Lo(){if(Jr)return Jr;var e,r=Li,s=r.length,l,h="value"in Sr?Sr.value:Sr.textContent,d=h.length;for(e=0;e<s&&r[e]===h[e];e++);var E=s-e;for(l=1;l<=E&&r[s-l]===h[d-l];l++);return Jr=h.slice(e,1<l?1-l:void 0)}function wr(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function Ar(){return!0}function Uo(){return!1}function Qe(e){function r(s,l,h,d,E){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(s=e[w],this[w]=s?s(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ar:Uo,this.isPropagationStopped=Uo,this}return O(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ar)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ar)},persist:function(){},isPersistent:Ar}),r}var re={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ts=Qe(re),Ia=O({},re,{view:0,detail:0}),Eu=Qe(Ia),bs,xs,Rr,Oa=O({},Ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ja,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Rr&&(Rr&&e.type==="mousemove"?(bs=e.screenX-Rr.screenX,xs=e.screenY-Rr.screenY):xs=bs=0,Rr=e),bs)},movementY:function(e){return"movementY"in e?e.movementY:xs}}),Hn=Qe(Oa),Tu=O({},Oa,{dataTransfer:0}),Bh=Qe(Tu),Ma=O({},Ia,{relatedTarget:0}),Ss=Qe(Ma),Po=O({},re,{animationName:0,elapsedTime:0,pseudoElement:0}),ws=Qe(Po),bu=O({},re,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),As=Qe(bu),zh=O({},re,{data:0}),Bo=Qe(zh),Va={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Su={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zo(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=Su[e])?!!r[e]:!1}function ja(){return zo}var wu=O({},Ia,{key:function(e){if(e.key){var r=Va[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=wr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ja,charCode:function(e){return e.type==="keypress"?wr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rs=Qe(wu),Au=O({},Oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qo=Qe(Au),ti=O({},Ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ja}),Ru=Qe(ti),Cu=O({},re,{propertyName:0,elapsedTime:0,pseudoElement:0}),Du=Qe(Cu),Nu=O({},Oa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Cs=Qe(Nu),gn=O({},re,{newState:0,oldState:0}),Iu=Qe(gn),Ou=[9,13,27,32],Cr=Nn&&"CompositionEvent"in window,c=null;Nn&&"documentMode"in document&&(c=document.documentMode);var y=Nn&&"TextEvent"in window&&!c,_=Nn&&(!Cr||c&&8<c&&11>=c),A=" ",F=!1;function Y(e,r){switch(e){case"keyup":return Ou.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gt=!1;function Ue(e,r){switch(e){case"compositionend":return lt(r);case"keypress":return r.which!==32?null:(F=!0,A);case"textInput":return e=r.data,e===A&&F?null:e;default:return null}}function Qt(e,r){if(Gt)return e==="compositionend"||!Cr&&Y(e,r)?(e=Lo(),Jr=Li=Sr=null,Gt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var $e={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pe(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!$e[e.type]:r==="textarea"}function ei(e,r,s,l){Xr?Wr?Wr.push(l):Wr=[l]:Xr=l,r=pc(r,"onChange"),0<r.length&&(s=new Ts("onChange","change",null,s,l),e.push({event:s,listeners:r}))}var Ze=null,Dr=null;function Ho(e){Ev(e,0)}function Mu(e){var r=Ii(e);if(Mo(r))return e}function Yp(e,r){if(e==="change")return r}var Xp=!1;if(Nn){var qh;if(Nn){var Hh="oninput"in document;if(!Hh){var Wp=document.createElement("div");Wp.setAttribute("oninput","return;"),Hh=typeof Wp.oninput=="function"}qh=Hh}else qh=!1;Xp=qh&&(!document.documentMode||9<document.documentMode)}function Zp(){Ze&&(Ze.detachEvent("onpropertychange",Jp),Dr=Ze=null)}function Jp(e){if(e.propertyName==="value"&&Mu(Dr)){var r=[];ei(r,Dr,e,Es(e)),_u(Ho,r)}}function Zb(e,r,s){e==="focusin"?(Zp(),Ze=r,Dr=s,Ze.attachEvent("onpropertychange",Jp)):e==="focusout"&&Zp()}function Jb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Mu(Dr)}function tx(e,r){if(e==="click")return Mu(r)}function ex(e,r){if(e==="input"||e==="change")return Mu(r)}function nx(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var In=typeof Object.is=="function"?Object.is:nx;function Fo(e,r){if(In(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var s=Object.keys(e),l=Object.keys(r);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!yr.call(r,h)||!In(e[h],r[h]))return!1}return!0}function tg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function eg(e,r){var s=tg(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=r&&l>=r)return{node:s,offset:r-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=tg(s)}}function ng(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?ng(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function rg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var r=vs(e.document);r instanceof e.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)e=r.contentWindow;else break;r=vs(e.document)}return r}function Fh(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}function rx(e,r){var s=rg(r);r=e.focusedElem;var l=e.selectionRange;if(s!==r&&r&&r.ownerDocument&&ng(r.ownerDocument.documentElement,r)){if(l!==null&&Fh(r)){if(e=l.start,s=l.end,s===void 0&&(s=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(s,r.value.length);else if(s=(e=r.ownerDocument||document)&&e.defaultView||window,s.getSelection){s=s.getSelection();var h=r.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!s.extend&&d>l&&(h=l,l=d,d=h),h=eg(r,d);var E=eg(r,l);h&&E&&(s.rangeCount!==1||s.anchorNode!==h.node||s.anchorOffset!==h.offset||s.focusNode!==E.node||s.focusOffset!==E.offset)&&(e=e.createRange(),e.setStart(h.node,h.offset),s.removeAllRanges(),d>l?(s.addRange(e),s.extend(E.node,E.offset)):(e.setEnd(E.node,E.offset),s.addRange(e)))}}for(e=[],s=r;s=s.parentNode;)s.nodeType===1&&e.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)s=e[r],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var ix=Nn&&"documentMode"in document&&11>=document.documentMode,Ds=null,Gh=null,Go=null,Qh=!1;function ig(e,r,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Qh||Ds==null||Ds!==vs(l)||(l=Ds,"selectionStart"in l&&Fh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Go&&Fo(Go,l)||(Go=l,l=pc(Gh,"onSelect"),0<l.length&&(r=new Ts("onSelect","select",null,r,s),e.push({event:r,listeners:l}),r.target=Ds)))}function ka(e,r){var s={};return s[e.toLowerCase()]=r.toLowerCase(),s["Webkit"+e]="webkit"+r,s["Moz"+e]="moz"+r,s}var Ns={animationend:ka("Animation","AnimationEnd"),animationiteration:ka("Animation","AnimationIteration"),animationstart:ka("Animation","AnimationStart"),transitionrun:ka("Transition","TransitionRun"),transitionstart:ka("Transition","TransitionStart"),transitioncancel:ka("Transition","TransitionCancel"),transitionend:ka("Transition","TransitionEnd")},$h={},ag={};Nn&&(ag=document.createElement("div").style,"AnimationEvent"in window||(delete Ns.animationend.animation,delete Ns.animationiteration.animation,delete Ns.animationstart.animation),"TransitionEvent"in window||delete Ns.transitionend.transition);function La(e){if($h[e])return $h[e];if(!Ns[e])return e;var r=Ns[e],s;for(s in r)if(r.hasOwnProperty(s)&&s in ag)return $h[e]=r[s];return e}var sg=La("animationend"),og=La("animationiteration"),lg=La("animationstart"),ax=La("transitionrun"),sx=La("transitionstart"),ox=La("transitioncancel"),ug=La("transitionend"),cg=new Map,hg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function sr(e,r){cg.set(e,r),Dn(r,[e])}var Fn=[],Is=0,Kh=0;function Vu(){for(var e=Is,r=Kh=Is=0;r<e;){var s=Fn[r];Fn[r++]=null;var l=Fn[r];Fn[r++]=null;var h=Fn[r];Fn[r++]=null;var d=Fn[r];if(Fn[r++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}d!==0&&fg(s,h,d)}}function ju(e,r,s,l){Fn[Is++]=e,Fn[Is++]=r,Fn[Is++]=s,Fn[Is++]=l,Kh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Yh(e,r,s,l){return ju(e,r,s,l),ku(e)}function Ui(e,r){return ju(e,null,null,r),ku(e)}function fg(e,r,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var h=!1,d=e.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;h&&r!==null&&e.tag===3&&(d=e.stateNode,h=31-mn(s),d=d.hiddenUpdates,e=d[h],e===null?d[h]=[r]:e.push(r),r.lane=s|536870912)}function ku(e){if(50<gl)throw gl=0,nd=null,Error(a(185));for(var r=e.return;r!==null;)e=r,r=e.return;return e.tag===3?e.stateNode:null}var Os={},dg=new WeakMap;function Gn(e,r){if(typeof e=="object"&&e!==null){var s=dg.get(e);return s!==void 0?s:(r={value:e,source:r,stack:ht(r)},dg.set(e,r),r)}return{value:e,source:r,stack:ht(r)}}var Ms=[],Vs=0,Lu=null,Uu=0,Qn=[],$n=0,Ua=null,ni=1,ri="";function Pa(e,r){Ms[Vs++]=Uu,Ms[Vs++]=Lu,Lu=e,Uu=r}function mg(e,r,s){Qn[$n++]=ni,Qn[$n++]=ri,Qn[$n++]=Ua,Ua=e;var l=ni;e=ri;var h=32-mn(l)-1;l&=~(1<<h),s+=1;var d=32-mn(r)+h;if(30<d){var E=h-h%5;d=(l&(1<<E)-1).toString(32),l>>=E,h-=E,ni=1<<32-mn(r)+h|s<<h|l,ri=d+e}else ni=1<<d|s<<h|l,ri=e}function Xh(e){e.return!==null&&(Pa(e,1),mg(e,1,0))}function Wh(e){for(;e===Lu;)Lu=Ms[--Vs],Ms[Vs]=null,Uu=Ms[--Vs],Ms[Vs]=null;for(;e===Ua;)Ua=Qn[--$n],Qn[$n]=null,ri=Qn[--$n],Qn[$n]=null,ni=Qn[--$n],Qn[$n]=null}var yn=null,Je=null,Jt=!1,or=null,Nr=!1,Zh=Error(a(519));function Ba(e){var r=Error(a(418,""));throw Ko(Gn(r,e)),Zh}function pg(e){var r=e.stateNode,s=e.type,l=e.memoizedProps;switch(r[Ge]=e,r[Le]=l,s){case"dialog":Ht("cancel",r),Ht("close",r);break;case"iframe":case"object":case"embed":Ht("load",r);break;case"video":case"audio":for(s=0;s<vl.length;s++)Ht(vl[s],r);break;case"source":Ht("error",r);break;case"img":case"image":case"link":Ht("error",r),Ht("load",r);break;case"details":Ht("toggle",r);break;case"input":Ht("invalid",r),Ra(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Aa(r);break;case"select":Ht("invalid",r);break;case"textarea":Ht("invalid",r),ki(r,l.value,l.defaultValue,l.children),Aa(r)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||l.suppressHydrationWarning===!0||Sv(r.textContent,s)?(l.popover!=null&&(Ht("beforetoggle",r),Ht("toggle",r)),l.onScroll!=null&&Ht("scroll",r),l.onScrollEnd!=null&&Ht("scrollend",r),l.onClick!=null&&(r.onclick=gc),r=!0):r=!1,r||Ba(e)}function gg(e){for(yn=e.return;yn;)switch(yn.tag){case 3:case 27:Nr=!0;return;case 5:case 13:Nr=!1;return;default:yn=yn.return}}function Qo(e){if(e!==yn)return!1;if(!Jt)return gg(e),Jt=!0,!1;var r=!1,s;if((s=e.tag!==3&&e.tag!==27)&&((s=e.tag===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||_d(e.type,e.memoizedProps)),s=!s),s&&(r=!0),r&&Je&&Ba(e),gg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));t:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(r===0){Je=ur(e.nextSibling);break t}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++;e=e.nextSibling}Je=null}}else Je=yn?ur(e.stateNode.nextSibling):null;return!0}function $o(){Je=yn=null,Jt=!1}function Ko(e){or===null?or=[e]:or.push(e)}var Yo=Error(a(460)),yg=Error(a(474)),Jh={then:function(){}};function vg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Pu(){}function _g(e,r,s){switch(s=e[s],s===void 0?e.push(r):s!==r&&(r.then(Pu,Pu),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,e===Yo?Error(a(483)):e;default:if(typeof r.status=="string")r.then(Pu,Pu);else{if(e=fe,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=r,e.status="pending",e.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,e===Yo?Error(a(483)):e}throw Xo=r,Yo}}var Xo=null;function Eg(){if(Xo===null)throw Error(a(459));var e=Xo;return Xo=null,e}var js=null,Wo=0;function Bu(e){var r=Wo;return Wo+=1,js===null&&(js=[]),_g(js,e,r)}function Zo(e,r){r=r.props.ref,e.ref=r!==void 0?r:null}function zu(e,r){throw r.$$typeof===u?Error(a(525)):(e=Object.prototype.toString.call(r),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)))}function Tg(e){var r=e._init;return r(e._payload)}function bg(e){function r(q,P){if(e){var G=q.deletions;G===null?(q.deletions=[P],q.flags|=16):G.push(P)}}function s(q,P){if(!e)return null;for(;P!==null;)r(q,P),P=P.sibling;return null}function l(q){for(var P=new Map;q!==null;)q.key!==null?P.set(q.key,q):P.set(q.index,q),q=q.sibling;return P}function h(q,P){return q=Xi(q,P),q.index=0,q.sibling=null,q}function d(q,P,G){return q.index=G,e?(G=q.alternate,G!==null?(G=G.index,G<P?(q.flags|=33554434,P):G):(q.flags|=33554434,P)):(q.flags|=1048576,P)}function E(q){return e&&q.alternate===null&&(q.flags|=33554434),q}function w(q,P,G,Z){return P===null||P.tag!==6?(P=Kf(G,q.mode,Z),P.return=q,P):(P=h(P,G),P.return=q,P)}function I(q,P,G,Z){var pt=G.type;return pt===p?W(q,P,G.props.children,Z,G.key):P!==null&&(P.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===Q&&Tg(pt)===P.type)?(P=h(P,G.props),Zo(P,G),P.return=q,P):(P=ac(G.type,G.key,G.props,null,q.mode,Z),Zo(P,G),P.return=q,P)}function B(q,P,G,Z){return P===null||P.tag!==4||P.stateNode.containerInfo!==G.containerInfo||P.stateNode.implementation!==G.implementation?(P=Yf(G,q.mode,Z),P.return=q,P):(P=h(P,G.children||[]),P.return=q,P)}function W(q,P,G,Z,pt){return P===null||P.tag!==7?(P=Xa(G,q.mode,Z,pt),P.return=q,P):(P=h(P,G),P.return=q,P)}function nt(q,P,G){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Kf(""+P,q.mode,G),P.return=q,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case f:return G=ac(P.type,P.key,P.props,null,q.mode,G),Zo(G,P),G.return=q,G;case m:return P=Yf(P,q.mode,G),P.return=q,P;case Q:var Z=P._init;return P=Z(P._payload),nt(q,P,G)}if(st(P)||ct(P))return P=Xa(P,q.mode,G,null),P.return=q,P;if(typeof P.then=="function")return nt(q,Bu(P),G);if(P.$$typeof===D)return nt(q,nc(q,P),G);zu(q,P)}return null}function $(q,P,G,Z){var pt=P!==null?P.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return pt!==null?null:w(q,P,""+G,Z);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case f:return G.key===pt?I(q,P,G,Z):null;case m:return G.key===pt?B(q,P,G,Z):null;case Q:return pt=G._init,G=pt(G._payload),$(q,P,G,Z)}if(st(G)||ct(G))return pt!==null?null:W(q,P,G,Z,null);if(typeof G.then=="function")return $(q,P,Bu(G),Z);if(G.$$typeof===D)return $(q,P,nc(q,G),Z);zu(q,G)}return null}function X(q,P,G,Z,pt){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return q=q.get(G)||null,w(P,q,""+Z,pt);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case f:return q=q.get(Z.key===null?G:Z.key)||null,I(P,q,Z,pt);case m:return q=q.get(Z.key===null?G:Z.key)||null,B(P,q,Z,pt);case Q:var Pt=Z._init;return Z=Pt(Z._payload),X(q,P,G,Z,pt)}if(st(Z)||ct(Z))return q=q.get(G)||null,W(P,q,Z,pt,null);if(typeof Z.then=="function")return X(q,P,G,Bu(Z),pt);if(Z.$$typeof===D)return X(q,P,G,nc(P,Z),pt);zu(P,Z)}return null}function yt(q,P,G,Z){for(var pt=null,Pt=null,vt=P,bt=P=0,Xe=null;vt!==null&&bt<G.length;bt++){vt.index>bt?(Xe=vt,vt=null):Xe=vt.sibling;var te=$(q,vt,G[bt],Z);if(te===null){vt===null&&(vt=Xe);break}e&&vt&&te.alternate===null&&r(q,vt),P=d(te,P,bt),Pt===null?pt=te:Pt.sibling=te,Pt=te,vt=Xe}if(bt===G.length)return s(q,vt),Jt&&Pa(q,bt),pt;if(vt===null){for(;bt<G.length;bt++)vt=nt(q,G[bt],Z),vt!==null&&(P=d(vt,P,bt),Pt===null?pt=vt:Pt.sibling=vt,Pt=vt);return Jt&&Pa(q,bt),pt}for(vt=l(vt);bt<G.length;bt++)Xe=X(vt,q,bt,G[bt],Z),Xe!==null&&(e&&Xe.alternate!==null&&vt.delete(Xe.key===null?bt:Xe.key),P=d(Xe,P,bt),Pt===null?pt=Xe:Pt.sibling=Xe,Pt=Xe);return e&&vt.forEach(function(ra){return r(q,ra)}),Jt&&Pa(q,bt),pt}function Dt(q,P,G,Z){if(G==null)throw Error(a(151));for(var pt=null,Pt=null,vt=P,bt=P=0,Xe=null,te=G.next();vt!==null&&!te.done;bt++,te=G.next()){vt.index>bt?(Xe=vt,vt=null):Xe=vt.sibling;var ra=$(q,vt,te.value,Z);if(ra===null){vt===null&&(vt=Xe);break}e&&vt&&ra.alternate===null&&r(q,vt),P=d(ra,P,bt),Pt===null?pt=ra:Pt.sibling=ra,Pt=ra,vt=Xe}if(te.done)return s(q,vt),Jt&&Pa(q,bt),pt;if(vt===null){for(;!te.done;bt++,te=G.next())te=nt(q,te.value,Z),te!==null&&(P=d(te,P,bt),Pt===null?pt=te:Pt.sibling=te,Pt=te);return Jt&&Pa(q,bt),pt}for(vt=l(vt);!te.done;bt++,te=G.next())te=X(vt,q,bt,te.value,Z),te!==null&&(e&&te.alternate!==null&&vt.delete(te.key===null?bt:te.key),P=d(te,P,bt),Pt===null?pt=te:Pt.sibling=te,Pt=te);return e&&vt.forEach(function(TS){return r(q,TS)}),Jt&&Pa(q,bt),pt}function Ae(q,P,G,Z){if(typeof G=="object"&&G!==null&&G.type===p&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case f:t:{for(var pt=G.key;P!==null;){if(P.key===pt){if(pt=G.type,pt===p){if(P.tag===7){s(q,P.sibling),Z=h(P,G.props.children),Z.return=q,q=Z;break t}}else if(P.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===Q&&Tg(pt)===P.type){s(q,P.sibling),Z=h(P,G.props),Zo(Z,G),Z.return=q,q=Z;break t}s(q,P);break}else r(q,P);P=P.sibling}G.type===p?(Z=Xa(G.props.children,q.mode,Z,G.key),Z.return=q,q=Z):(Z=ac(G.type,G.key,G.props,null,q.mode,Z),Zo(Z,G),Z.return=q,q=Z)}return E(q);case m:t:{for(pt=G.key;P!==null;){if(P.key===pt)if(P.tag===4&&P.stateNode.containerInfo===G.containerInfo&&P.stateNode.implementation===G.implementation){s(q,P.sibling),Z=h(P,G.children||[]),Z.return=q,q=Z;break t}else{s(q,P);break}else r(q,P);P=P.sibling}Z=Yf(G,q.mode,Z),Z.return=q,q=Z}return E(q);case Q:return pt=G._init,G=pt(G._payload),Ae(q,P,G,Z)}if(st(G))return yt(q,P,G,Z);if(ct(G)){if(pt=ct(G),typeof pt!="function")throw Error(a(150));return G=pt.call(G),Dt(q,P,G,Z)}if(typeof G.then=="function")return Ae(q,P,Bu(G),Z);if(G.$$typeof===D)return Ae(q,P,nc(q,G),Z);zu(q,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,P!==null&&P.tag===6?(s(q,P.sibling),Z=h(P,G),Z.return=q,q=Z):(s(q,P),Z=Kf(G,q.mode,Z),Z.return=q,q=Z),E(q)):s(q,P)}return function(q,P,G,Z){try{Wo=0;var pt=Ae(q,P,G,Z);return js=null,pt}catch(vt){if(vt===Yo)throw vt;var Pt=Wn(29,vt,null,q.mode);return Pt.lanes=Z,Pt.return=q,Pt}finally{}}}var za=bg(!0),xg=bg(!1),ks=Ct(null),qu=Ct(0);function Sg(e,r){e=mi,Lt(qu,e),Lt(ks,r),mi=e|r.baseLanes}function tf(){Lt(qu,mi),Lt(ks,ks.current)}function ef(){mi=qu.current,ee(ks),ee(qu)}var Kn=Ct(null),Ir=null;function Pi(e){var r=e.alternate;Lt(Be,Be.current&1),Lt(Kn,e),Ir===null&&(r===null||ks.current!==null||r.memoizedState!==null)&&(Ir=e)}function wg(e){if(e.tag===22){if(Lt(Be,Be.current),Lt(Kn,e),Ir===null){var r=e.alternate;r!==null&&r.memoizedState!==null&&(Ir=e)}}else Bi()}function Bi(){Lt(Be,Be.current),Lt(Kn,Kn.current)}function ii(e){ee(Kn),Ir===e&&(Ir=null),ee(Be)}var Be=Ct(0);function Hu(e){for(var r=e;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var lx=typeof AbortController<"u"?AbortController:function(){var e=[],r=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){r.aborted=!0,e.forEach(function(s){return s()})}},ux=i.unstable_scheduleCallback,cx=i.unstable_NormalPriority,ze={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nf(){return{controller:new lx,data:new Map,refCount:0}}function Jo(e){e.refCount--,e.refCount===0&&ux(cx,function(){e.controller.abort()})}var tl=null,rf=0,Ls=0,Us=null;function hx(e,r){if(tl===null){var s=tl=[];rf=0,Ls=cd(),Us={status:"pending",value:void 0,then:function(l){s.push(l)}}}return rf++,r.then(Ag,Ag),r}function Ag(){if(--rf===0&&tl!==null){Us!==null&&(Us.status="fulfilled");var e=tl;tl=null,Ls=0,Us=null;for(var r=0;r<e.length;r++)(0,e[r])()}}function fx(e,r){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<s.length;h++)(0,s[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Rg=R.S;R.S=function(e,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&hx(e,r),Rg!==null&&Rg(e,r)};var qa=Ct(null);function af(){var e=qa.current;return e!==null?e:fe.pooledCache}function Fu(e,r){r===null?Lt(qa,qa.current):Lt(qa,r.pool)}function Cg(){var e=af();return e===null?null:{parent:ze._currentValue,pool:e}}var zi=0,Ut=null,ae=null,Oe=null,Gu=!1,Ps=!1,Ha=!1,Qu=0,el=0,Bs=null,dx=0;function Ne(){throw Error(a(321))}function sf(e,r){if(r===null)return!1;for(var s=0;s<r.length&&s<e.length;s++)if(!In(e[s],r[s]))return!1;return!0}function of(e,r,s,l,h,d){return zi=d,Ut=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,R.H=e===null||e.memoizedState===null?Fa:qi,Ha=!1,d=s(l,h),Ha=!1,Ps&&(d=Ng(r,s,l,h)),Dg(e),d}function Dg(e){R.H=Or;var r=ae!==null&&ae.next!==null;if(zi=0,Oe=ae=Ut=null,Gu=!1,el=0,Bs=null,r)throw Error(a(300));e===null||Ke||(e=e.dependencies,e!==null&&ec(e)&&(Ke=!0))}function Ng(e,r,s,l){Ut=e;var h=0;do{if(Ps&&(Bs=null),el=0,Ps=!1,25<=h)throw Error(a(301));if(h+=1,Oe=ae=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}R.H=Ga,d=r(s,l)}while(Ps);return d}function mx(){var e=R.H,r=e.useState()[0];return r=typeof r.then=="function"?nl(r):r,e=e.useState()[0],(ae!==null?ae.memoizedState:null)!==e&&(Ut.flags|=1024),r}function lf(){var e=Qu!==0;return Qu=0,e}function uf(e,r,s){r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~s}function cf(e){if(Gu){for(e=e.memoizedState;e!==null;){var r=e.queue;r!==null&&(r.pending=null),e=e.next}Gu=!1}zi=0,Oe=ae=Ut=null,Ps=!1,el=Qu=0,Bs=null}function bn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?Ut.memoizedState=Oe=e:Oe=Oe.next=e,Oe}function Me(){if(ae===null){var e=Ut.alternate;e=e!==null?e.memoizedState:null}else e=ae.next;var r=Oe===null?Ut.memoizedState:Oe.next;if(r!==null)Oe=r,ae=e;else{if(e===null)throw Ut.alternate===null?Error(a(467)):Error(a(310));ae=e,e={memoizedState:ae.memoizedState,baseState:ae.baseState,baseQueue:ae.baseQueue,queue:ae.queue,next:null},Oe===null?Ut.memoizedState=Oe=e:Oe=Oe.next=e}return Oe}var $u;$u=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function nl(e){var r=el;return el+=1,Bs===null&&(Bs=[]),e=_g(Bs,e,r),r=Ut,(Oe===null?r.memoizedState:Oe.next)===null&&(r=r.alternate,R.H=r===null||r.memoizedState===null?Fa:qi),e}function Ku(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return nl(e);if(e.$$typeof===D)return ln(e)}throw Error(a(438,String(e)))}function hf(e){var r=null,s=Ut.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var l=Ut.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=$u(),Ut.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(e),l=0;l<e;l++)s[l]=rt;return r.index++,s}function ai(e,r){return typeof r=="function"?r(e):r}function Yu(e){var r=Me();return ff(r,ae,e)}function ff(e,r,s){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var E=h.next;h.next=d.next,d.next=E}r.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{r=h.next;var w=E=null,I=null,B=r,W=!1;do{var nt=B.lane&-536870913;if(nt!==B.lane?($t&nt)===nt:(zi&nt)===nt){var $=B.revertLane;if($===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),nt===Ls&&(W=!0);else if((zi&$)===$){B=B.next,$===Ls&&(W=!0);continue}else nt={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(w=I=nt,E=d):I=I.next=nt,Ut.lanes|=$,Wi|=$;nt=B.action,Ha&&s(d,nt),d=B.hasEagerState?B.eagerState:s(d,nt)}else $={lane:nt,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(w=I=$,E=d):I=I.next=$,Ut.lanes|=nt,Wi|=nt;B=B.next}while(B!==null&&B!==r);if(I===null?E=d:I.next=w,!In(d,e.memoizedState)&&(Ke=!0,W&&(s=Us,s!==null)))throw s;e.memoizedState=d,e.baseState=E,e.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function df(e){var r=Me(),s=r.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var l=s.dispatch,h=s.pending,d=r.memoizedState;if(h!==null){s.pending=null;var E=h=h.next;do d=e(d,E.action),E=E.next;while(E!==h);In(d,r.memoizedState)||(Ke=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),s.lastRenderedState=d}return[d,l]}function Ig(e,r,s){var l=Ut,h=Me(),d=Jt;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=r();var E=!In((ae||h).memoizedState,s);if(E&&(h.memoizedState=s,Ke=!0),h=h.queue,gf(Vg.bind(null,l,h,e),[e]),h.getSnapshot!==r||E||Oe!==null&&Oe.memoizedState.tag&1){if(l.flags|=2048,zs(9,Mg.bind(null,l,h,s,r),{destroy:void 0},null),fe===null)throw Error(a(349));d||(zi&60)!==0||Og(l,r,s)}return s}function Og(e,r,s){e.flags|=16384,e={getSnapshot:r,value:s},r=Ut.updateQueue,r===null?(r=$u(),Ut.updateQueue=r,r.stores=[e]):(s=r.stores,s===null?r.stores=[e]:s.push(e))}function Mg(e,r,s,l){r.value=s,r.getSnapshot=l,jg(r)&&kg(e)}function Vg(e,r,s){return s(function(){jg(r)&&kg(e)})}function jg(e){var r=e.getSnapshot;e=e.value;try{var s=r();return!In(e,s)}catch{return!0}}function kg(e){var r=Ui(e,2);r!==null&&vn(r,e,2)}function mf(e){var r=bn();if(typeof e=="function"){var s=e;if(e=s(),Ha){Ln(!0);try{s()}finally{Ln(!1)}}}return r.memoizedState=r.baseState=e,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ai,lastRenderedState:e},r}function Lg(e,r,s,l){return e.baseState=s,ff(e,ae,typeof l=="function"?l:ai)}function px(e,r,s,l,h){if(Zu(e))throw Error(a(485));if(e=r.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};R.T!==null?s(!0):d.isTransition=!1,l(d),s=r.pending,s===null?(d.next=r.pending=d,Ug(r,d)):(d.next=s.next,r.pending=s.next=d)}}function Ug(e,r){var s=r.action,l=r.payload,h=e.state;if(r.isTransition){var d=R.T,E={};R.T=E;try{var w=s(h,l),I=R.S;I!==null&&I(E,w),Pg(e,r,w)}catch(B){pf(e,r,B)}finally{R.T=d}}else try{d=s(h,l),Pg(e,r,d)}catch(B){pf(e,r,B)}}function Pg(e,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Bg(e,r,l)},function(l){return pf(e,r,l)}):Bg(e,r,s)}function Bg(e,r,s){r.status="fulfilled",r.value=s,zg(r),e.state=s,r=e.pending,r!==null&&(s=r.next,s===r?e.pending=null:(s=s.next,r.next=s,Ug(e,s)))}function pf(e,r,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=s,zg(r),r=r.next;while(r!==l)}e.action=null}function zg(e){e=e.listeners;for(var r=0;r<e.length;r++)(0,e[r])()}function qg(e,r){return r}function Hg(e,r){if(Jt){var s=fe.formState;if(s!==null){t:{var l=Ut;if(Jt){if(Je){e:{for(var h=Je,d=Nr;h.nodeType!==8;){if(!d){h=null;break e}if(h=ur(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Je=ur(h.nextSibling),l=h.data==="F!";break t}}Ba(l)}l=!1}l&&(r=s[0])}}return s=bn(),s.memoizedState=s.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qg,lastRenderedState:r},s.queue=l,s=oy.bind(null,Ut,l),l.dispatch=s,l=mf(!1),d=Tf.bind(null,Ut,!1,l.queue),l=bn(),h={state:r,dispatch:null,action:e,pending:null},l.queue=h,s=px.bind(null,Ut,h,d,s),h.dispatch=s,l.memoizedState=e,[r,s,!1]}function Fg(e){var r=Me();return Gg(r,ae,e)}function Gg(e,r,s){r=ff(e,r,qg)[0],e=Yu(ai)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?nl(r):r;var l=Me(),h=l.queue,d=h.dispatch;return s!==l.memoizedState&&(Ut.flags|=2048,zs(9,gx.bind(null,h,s),{destroy:void 0},null)),[r,d,e]}function gx(e,r){e.action=r}function Qg(e){var r=Me(),s=ae;if(s!==null)return Gg(r,s,e);Me(),r=r.memoizedState,s=Me();var l=s.queue.dispatch;return s.memoizedState=e,[r,l,!1]}function zs(e,r,s,l){return e={tag:e,create:r,inst:s,deps:l,next:null},r=Ut.updateQueue,r===null&&(r=$u(),Ut.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,r.lastEffect=e),e}function $g(){return Me().memoizedState}function Xu(e,r,s,l){var h=bn();Ut.flags|=e,h.memoizedState=zs(1|r,s,{destroy:void 0},l===void 0?null:l)}function Wu(e,r,s,l){var h=Me();l=l===void 0?null:l;var d=h.memoizedState.inst;ae!==null&&l!==null&&sf(l,ae.memoizedState.deps)?h.memoizedState=zs(r,s,d,l):(Ut.flags|=e,h.memoizedState=zs(1|r,s,d,l))}function Kg(e,r){Xu(8390656,8,e,r)}function gf(e,r){Wu(2048,8,e,r)}function Yg(e,r){return Wu(4,2,e,r)}function Xg(e,r){return Wu(4,4,e,r)}function Wg(e,r){if(typeof r=="function"){e=e();var s=r(e);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function Zg(e,r,s){s=s!=null?s.concat([e]):null,Wu(4,4,Wg.bind(null,r,e),s)}function yf(){}function Jg(e,r){var s=Me();r=r===void 0?null:r;var l=s.memoizedState;return r!==null&&sf(r,l[1])?l[0]:(s.memoizedState=[e,r],e)}function ty(e,r){var s=Me();r=r===void 0?null:r;var l=s.memoizedState;if(r!==null&&sf(r,l[1]))return l[0];if(l=e(),Ha){Ln(!0);try{e()}finally{Ln(!1)}}return s.memoizedState=[l,r],l}function vf(e,r,s){return s===void 0||(zi&1073741824)!==0?e.memoizedState=r:(e.memoizedState=s,e=nv(),Ut.lanes|=e,Wi|=e,s)}function ey(e,r,s,l){return In(s,r)?s:ks.current!==null?(e=vf(e,s,l),In(e,r)||(Ke=!0),e):(zi&42)===0?(Ke=!0,e.memoizedState=s):(e=nv(),Ut.lanes|=e,Wi|=e,r)}function ny(e,r,s,l,h){var d=ot.p;ot.p=d!==0&&8>d?d:8;var E=R.T,w={};R.T=w,Tf(e,!1,r,s);try{var I=h(),B=R.S;if(B!==null&&B(w,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var W=fx(I,l);rl(e,r,W,jn(e))}else rl(e,r,l,jn(e))}catch(nt){rl(e,r,{then:function(){},status:"rejected",reason:nt},jn())}finally{ot.p=d,R.T=E}}function yx(){}function _f(e,r,s,l){if(e.tag!==5)throw Error(a(476));var h=ry(e).queue;ny(e,h,r,St,s===null?yx:function(){return iy(e),s(l)})}function ry(e){var r=e.memoizedState;if(r!==null)return r;r={memoizedState:St,baseState:St,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ai,lastRenderedState:St},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ai,lastRenderedState:s},next:null},e.memoizedState=r,e=e.alternate,e!==null&&(e.memoizedState=r),r}function iy(e){var r=ry(e).next.queue;rl(e,r,{},jn())}function Ef(){return ln(xl)}function ay(){return Me().memoizedState}function sy(){return Me().memoizedState}function vx(e){for(var r=e.return;r!==null;){switch(r.tag){case 24:case 3:var s=jn();e=Gi(s);var l=Qi(r,e,s);l!==null&&(vn(l,r,s),sl(l,r,s)),r={cache:nf()},e.payload=r;return}r=r.return}}function _x(e,r,s){var l=jn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Zu(e)?ly(r,s):(s=Yh(e,r,s,l),s!==null&&(vn(s,e,l),uy(s,r,l)))}function oy(e,r,s){var l=jn();rl(e,r,s,l)}function rl(e,r,s,l){var h={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Zu(e))ly(r,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var E=r.lastRenderedState,w=d(E,s);if(h.hasEagerState=!0,h.eagerState=w,In(w,E))return ju(e,r,h,0),fe===null&&Vu(),!1}catch{}finally{}if(s=Yh(e,r,h,l),s!==null)return vn(s,e,l),uy(s,r,l),!0}return!1}function Tf(e,r,s,l){if(l={lane:2,revertLane:cd(),action:l,hasEagerState:!1,eagerState:null,next:null},Zu(e)){if(r)throw Error(a(479))}else r=Yh(e,s,l,2),r!==null&&vn(r,e,2)}function Zu(e){var r=e.alternate;return e===Ut||r!==null&&r===Ut}function ly(e,r){Ps=Gu=!0;var s=e.pending;s===null?r.next=r:(r.next=s.next,s.next=r),e.pending=r}function uy(e,r,s){if((s&4194176)!==0){var l=r.lanes;l&=e.pendingLanes,s|=l,r.lanes=s,Ci(e,s)}}var Or={readContext:ln,use:Ku,useCallback:Ne,useContext:Ne,useEffect:Ne,useImperativeHandle:Ne,useLayoutEffect:Ne,useInsertionEffect:Ne,useMemo:Ne,useReducer:Ne,useRef:Ne,useState:Ne,useDebugValue:Ne,useDeferredValue:Ne,useTransition:Ne,useSyncExternalStore:Ne,useId:Ne};Or.useCacheRefresh=Ne,Or.useMemoCache=Ne,Or.useHostTransitionStatus=Ne,Or.useFormState=Ne,Or.useActionState=Ne,Or.useOptimistic=Ne;var Fa={readContext:ln,use:Ku,useCallback:function(e,r){return bn().memoizedState=[e,r===void 0?null:r],e},useContext:ln,useEffect:Kg,useImperativeHandle:function(e,r,s){s=s!=null?s.concat([e]):null,Xu(4194308,4,Wg.bind(null,r,e),s)},useLayoutEffect:function(e,r){return Xu(4194308,4,e,r)},useInsertionEffect:function(e,r){Xu(4,2,e,r)},useMemo:function(e,r){var s=bn();r=r===void 0?null:r;var l=e();if(Ha){Ln(!0);try{e()}finally{Ln(!1)}}return s.memoizedState=[l,r],l},useReducer:function(e,r,s){var l=bn();if(s!==void 0){var h=s(r);if(Ha){Ln(!0);try{s(r)}finally{Ln(!1)}}}else h=r;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=_x.bind(null,Ut,e),[l.memoizedState,e]},useRef:function(e){var r=bn();return e={current:e},r.memoizedState=e},useState:function(e){e=mf(e);var r=e.queue,s=oy.bind(null,Ut,r);return r.dispatch=s,[e.memoizedState,s]},useDebugValue:yf,useDeferredValue:function(e,r){var s=bn();return vf(s,e,r)},useTransition:function(){var e=mf(!1);return e=ny.bind(null,Ut,e.queue,!0,!1),bn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,r,s){var l=Ut,h=bn();if(Jt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=r(),fe===null)throw Error(a(349));($t&60)!==0||Og(l,r,s)}h.memoizedState=s;var d={value:s,getSnapshot:r};return h.queue=d,Kg(Vg.bind(null,l,d,e),[e]),l.flags|=2048,zs(9,Mg.bind(null,l,d,s,r),{destroy:void 0},null),s},useId:function(){var e=bn(),r=fe.identifierPrefix;if(Jt){var s=ri,l=ni;s=(l&~(1<<32-mn(l)-1)).toString(32)+s,r=":"+r+"R"+s,s=Qu++,0<s&&(r+="H"+s.toString(32)),r+=":"}else s=dx++,r=":"+r+"r"+s.toString(32)+":";return e.memoizedState=r},useCacheRefresh:function(){return bn().memoizedState=vx.bind(null,Ut)}};Fa.useMemoCache=hf,Fa.useHostTransitionStatus=Ef,Fa.useFormState=Hg,Fa.useActionState=Hg,Fa.useOptimistic=function(e){var r=bn();r.memoizedState=r.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=Tf.bind(null,Ut,!0,s),s.dispatch=r,[e,r]};var qi={readContext:ln,use:Ku,useCallback:Jg,useContext:ln,useEffect:gf,useImperativeHandle:Zg,useInsertionEffect:Yg,useLayoutEffect:Xg,useMemo:ty,useReducer:Yu,useRef:$g,useState:function(){return Yu(ai)},useDebugValue:yf,useDeferredValue:function(e,r){var s=Me();return ey(s,ae.memoizedState,e,r)},useTransition:function(){var e=Yu(ai)[0],r=Me().memoizedState;return[typeof e=="boolean"?e:nl(e),r]},useSyncExternalStore:Ig,useId:ay};qi.useCacheRefresh=sy,qi.useMemoCache=hf,qi.useHostTransitionStatus=Ef,qi.useFormState=Fg,qi.useActionState=Fg,qi.useOptimistic=function(e,r){var s=Me();return Lg(s,ae,e,r)};var Ga={readContext:ln,use:Ku,useCallback:Jg,useContext:ln,useEffect:gf,useImperativeHandle:Zg,useInsertionEffect:Yg,useLayoutEffect:Xg,useMemo:ty,useReducer:df,useRef:$g,useState:function(){return df(ai)},useDebugValue:yf,useDeferredValue:function(e,r){var s=Me();return ae===null?vf(s,e,r):ey(s,ae.memoizedState,e,r)},useTransition:function(){var e=df(ai)[0],r=Me().memoizedState;return[typeof e=="boolean"?e:nl(e),r]},useSyncExternalStore:Ig,useId:ay};Ga.useCacheRefresh=sy,Ga.useMemoCache=hf,Ga.useHostTransitionStatus=Ef,Ga.useFormState=Qg,Ga.useActionState=Qg,Ga.useOptimistic=function(e,r){var s=Me();return ae!==null?Lg(s,ae,e,r):(s.baseState=e,[e,s.queue.dispatch])};function bf(e,r,s,l){r=e.memoizedState,s=s(l,r),s=s==null?r:O({},r,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var xf={isMounted:function(e){return(e=e._reactInternals)?ut(e)===e:!1},enqueueSetState:function(e,r,s){e=e._reactInternals;var l=jn(),h=Gi(l);h.payload=r,s!=null&&(h.callback=s),r=Qi(e,h,l),r!==null&&(vn(r,e,l),sl(r,e,l))},enqueueReplaceState:function(e,r,s){e=e._reactInternals;var l=jn(),h=Gi(l);h.tag=1,h.payload=r,s!=null&&(h.callback=s),r=Qi(e,h,l),r!==null&&(vn(r,e,l),sl(r,e,l))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var s=jn(),l=Gi(s);l.tag=2,r!=null&&(l.callback=r),r=Qi(e,l,s),r!==null&&(vn(r,e,s),sl(r,e,s))}};function cy(e,r,s,l,h,d,E){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,E):r.prototype&&r.prototype.isPureReactComponent?!Fo(s,l)||!Fo(h,d):!0}function hy(e,r,s,l){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,l),r.state!==e&&xf.enqueueReplaceState(r,r.state,null)}function Qa(e,r){var s=r;if("ref"in r){s={};for(var l in r)l!=="ref"&&(s[l]=r[l])}if(e=e.defaultProps){s===r&&(s=O({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}var Ju=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function fy(e){Ju(e)}function dy(e){console.error(e)}function my(e){Ju(e)}function tc(e,r){try{var s=e.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function py(e,r,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Sf(e,r,s){return s=Gi(s),s.tag=3,s.payload={element:null},s.callback=function(){tc(e,r)},s}function gy(e){return e=Gi(e),e.tag=3,e}function yy(e,r,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){py(r,s,l)}}var E=s.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(e.callback=function(){py(r,s,l),typeof h!="function"&&(Zi===null?Zi=new Set([this]):Zi.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function Ex(e,r,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=s.alternate,r!==null&&al(r,s,h,!0),s=Kn.current,s!==null){switch(s.tag){case 13:return Ir===null?ad():s.alternate===null&&we===0&&(we=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Jh?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([l]):r.add(l),od(e,l,h)),!1;case 22:return s.flags|=65536,l===Jh?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([l]):s.add(l)),od(e,l,h)),!1}throw Error(a(435,s.tag))}return od(e,l,h),ad(),!1}if(Jt)return r=Kn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Zh&&(e=Error(a(422),{cause:l}),Ko(Gn(e,s)))):(l!==Zh&&(r=Error(a(423),{cause:l}),Ko(Gn(r,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Gn(l,s),h=Sf(e.stateNode,l,h),Pf(e,h),we!==4&&(we=2)),!1;var d=Error(a(520),{cause:l});if(d=Gn(d,s),ml===null?ml=[d]:ml.push(d),we!==4&&(we=2),r===null)return!0;l=Gn(l,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Sf(s.stateNode,l,e),Pf(s,e),!1;case 1:if(r=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Zi===null||!Zi.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=gy(h),yy(h,e,s,l),Pf(s,h),!1}s=s.return}while(s!==null);return!1}var vy=Error(a(461)),Ke=!1;function tn(e,r,s,l){r.child=e===null?xg(r,null,s,l):za(r,e.child,s,l)}function _y(e,r,s,l,h){s=s.render;var d=r.ref;if("ref"in l){var E={};for(var w in l)w!=="ref"&&(E[w]=l[w])}else E=l;return Ka(r),l=of(e,r,s,E,d,h),w=lf(),e!==null&&!Ke?(uf(e,r,h),si(e,r,h)):(Jt&&w&&Xh(r),r.flags|=1,tn(e,r,l,h),r.child)}function Ey(e,r,s,l,h){if(e===null){var d=s.type;return typeof d=="function"&&!$f(d)&&d.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=d,Ty(e,r,d,l,h)):(e=ac(s.type,null,l,r,r.mode,h),e.ref=r.ref,e.return=r,r.child=e)}if(d=e.child,!Mf(e,h)){var E=d.memoizedProps;if(s=s.compare,s=s!==null?s:Fo,s(E,l)&&e.ref===r.ref)return si(e,r,h)}return r.flags|=1,e=Xi(d,l),e.ref=r.ref,e.return=r,r.child=e}function Ty(e,r,s,l,h){if(e!==null){var d=e.memoizedProps;if(Fo(d,l)&&e.ref===r.ref)if(Ke=!1,r.pendingProps=l=d,Mf(e,h))(e.flags&131072)!==0&&(Ke=!0);else return r.lanes=e.lanes,si(e,r,h)}return wf(e,r,s,l,h)}function by(e,r,s){var l=r.pendingProps,h=l.children,d=(r.stateNode._pendingVisibility&2)!==0,E=e!==null?e.memoizedState:null;if(il(e,r),l.mode==="hidden"||d){if((r.flags&128)!==0){if(l=E!==null?E.baseLanes|s:s,e!==null){for(h=r.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return xy(e,r,l,s)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},e!==null&&Fu(r,E!==null?E.cachePool:null),E!==null?Sg(r,E):tf(),wg(r);else return r.lanes=r.childLanes=536870912,xy(e,r,E!==null?E.baseLanes|s:s,s)}else E!==null?(Fu(r,E.cachePool),Sg(r,E),Bi(),r.memoizedState=null):(e!==null&&Fu(r,null),tf(),Bi());return tn(e,r,h,s),r.child}function xy(e,r,s,l){var h=af();return h=h===null?null:{parent:ze._currentValue,pool:h},r.memoizedState={baseLanes:s,cachePool:h},e!==null&&Fu(r,null),tf(),wg(r),e!==null&&al(e,r,l,!0),null}function il(e,r){var s=r.ref;if(s===null)e!==null&&e.ref!==null&&(r.flags|=2097664);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(r.flags|=2097664)}}function wf(e,r,s,l,h){return Ka(r),s=of(e,r,s,l,void 0,h),l=lf(),e!==null&&!Ke?(uf(e,r,h),si(e,r,h)):(Jt&&l&&Xh(r),r.flags|=1,tn(e,r,s,h),r.child)}function Sy(e,r,s,l,h,d){return Ka(r),r.updateQueue=null,s=Ng(r,l,s,h),Dg(e),l=lf(),e!==null&&!Ke?(uf(e,r,d),si(e,r,d)):(Jt&&l&&Xh(r),r.flags|=1,tn(e,r,s,d),r.child)}function wy(e,r,s,l,h){if(Ka(r),r.stateNode===null){var d=Os,E=s.contextType;typeof E=="object"&&E!==null&&(d=ln(E)),d=new s(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=xf,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Lf(r),E=s.contextType,d.context=typeof E=="object"&&E!==null?ln(E):Os,d.state=r.memoizedState,E=s.getDerivedStateFromProps,typeof E=="function"&&(bf(r,s,E,l),d.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&xf.enqueueReplaceState(d,d.state,null),ll(r,l,d,h),ol(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(e===null){d=r.stateNode;var w=r.memoizedProps,I=Qa(s,w);d.props=I;var B=d.context,W=s.contextType;E=Os,typeof W=="object"&&W!==null&&(E=ln(W));var nt=s.getDerivedStateFromProps;W=typeof nt=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||B!==E)&&hy(r,d,l,E),Fi=!1;var $=r.memoizedState;d.state=$,ll(r,l,d,h),ol(),B=r.memoizedState,w||$!==B||Fi?(typeof nt=="function"&&(bf(r,s,nt,l),B=r.memoizedState),(I=Fi||cy(r,s,I,l,$,B,E))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=B),d.props=l,d.state=B,d.context=E,l=I):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Uf(e,r),E=r.memoizedProps,W=Qa(s,E),d.props=W,nt=r.pendingProps,$=d.context,B=s.contextType,I=Os,typeof B=="object"&&B!==null&&(I=ln(B)),w=s.getDerivedStateFromProps,(B=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==nt||$!==I)&&hy(r,d,l,I),Fi=!1,$=r.memoizedState,d.state=$,ll(r,l,d,h),ol();var X=r.memoizedState;E!==nt||$!==X||Fi||e!==null&&e.dependencies!==null&&ec(e.dependencies)?(typeof w=="function"&&(bf(r,s,w,l),X=r.memoizedState),(W=Fi||cy(r,s,W,l,$,X,I)||e!==null&&e.dependencies!==null&&ec(e.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,X,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,X,I)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===e.memoizedProps&&$===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&$===e.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=X),d.props=l,d.state=X,d.context=I,l=W):(typeof d.componentDidUpdate!="function"||E===e.memoizedProps&&$===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&$===e.memoizedState||(r.flags|=1024),l=!1)}return d=l,il(e,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,e!==null&&l?(r.child=za(r,e.child,null,h),r.child=za(r,null,s,h)):tn(e,r,s,h),r.memoizedState=d.state,e=r.child):e=si(e,r,h),e}function Ay(e,r,s,l){return $o(),r.flags|=256,tn(e,r,s,l),r.child}var Af={dehydrated:null,treeContext:null,retryLane:0};function Rf(e){return{baseLanes:e,cachePool:Cg()}}function Cf(e,r,s){return e=e!==null?e.childLanes&~s:0,r&&(e|=Zn),e}function Ry(e,r,s){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,E;if((E=d)||(E=e!==null&&e.memoizedState===null?!1:(Be.current&2)!==0),E&&(h=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,e===null){if(Jt){if(h?Pi(r):Bi(),Jt){var w=Je,I;if(I=w){t:{for(I=w,w=Nr;I.nodeType!==8;){if(!w){w=null;break t}if(I=ur(I.nextSibling),I===null){w=null;break t}}w=I}w!==null?(r.memoizedState={dehydrated:w,treeContext:Ua!==null?{id:ni,overflow:ri}:null,retryLane:536870912},I=Wn(18,null,null,0),I.stateNode=w,I.return=r,r.child=I,yn=r,Je=null,I=!0):I=!1}I||Ba(r)}if(w=r.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return w.data==="$!"?r.lanes=16:r.lanes=536870912,null;ii(r)}return w=l.children,l=l.fallback,h?(Bi(),h=r.mode,w=Nf({mode:"hidden",children:w},h),l=Xa(l,h,s,null),w.return=r,l.return=r,w.sibling=l,r.child=w,h=r.child,h.memoizedState=Rf(s),h.childLanes=Cf(e,E,s),r.memoizedState=Af,l):(Pi(r),Df(r,w))}if(I=e.memoizedState,I!==null&&(w=I.dehydrated,w!==null)){if(d)r.flags&256?(Pi(r),r.flags&=-257,r=If(e,r,s)):r.memoizedState!==null?(Bi(),r.child=e.child,r.flags|=128,r=null):(Bi(),h=l.fallback,w=r.mode,l=Nf({mode:"visible",children:l.children},w),h=Xa(h,w,s,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,za(r,e.child,null,s),l=r.child,l.memoizedState=Rf(s),l.childLanes=Cf(e,E,s),r.memoizedState=Af,r=h);else if(Pi(r),w.data==="$!"){if(E=w.nextSibling&&w.nextSibling.dataset,E)var B=E.dgst;E=B,l=Error(a(419)),l.stack="",l.digest=E,Ko({value:l,source:null,stack:null}),r=If(e,r,s)}else if(Ke||al(e,r,s,!1),E=(s&e.childLanes)!==0,Ke||E){if(E=fe,E!==null){if(l=s&-s,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(E.suspendedLanes|s))!==0?0:l,l!==0&&l!==I.retryLane)throw I.retryLane=l,Ui(e,l),vn(E,e,l),vy}w.data==="$?"||ad(),r=If(e,r,s)}else w.data==="$?"?(r.flags|=128,r.child=e.child,r=jx.bind(null,e),w._reactRetry=r,r=null):(e=I.treeContext,Je=ur(w.nextSibling),yn=r,Jt=!0,or=null,Nr=!1,e!==null&&(Qn[$n++]=ni,Qn[$n++]=ri,Qn[$n++]=Ua,ni=e.id,ri=e.overflow,Ua=r),r=Df(r,l.children),r.flags|=4096);return r}return h?(Bi(),h=l.fallback,w=r.mode,I=e.child,B=I.sibling,l=Xi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&31457280,B!==null?h=Xi(B,h):(h=Xa(h,w,s,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,w=e.child.memoizedState,w===null?w=Rf(s):(I=w.cachePool,I!==null?(B=ze._currentValue,I=I.parent!==B?{parent:B,pool:B}:I):I=Cg(),w={baseLanes:w.baseLanes|s,cachePool:I}),h.memoizedState=w,h.childLanes=Cf(e,E,s),r.memoizedState=Af,l):(Pi(r),s=e.child,e=s.sibling,s=Xi(s,{mode:"visible",children:l.children}),s.return=r,s.sibling=null,e!==null&&(E=r.deletions,E===null?(r.deletions=[e],r.flags|=16):E.push(e)),r.child=s,r.memoizedState=null,s)}function Df(e,r){return r=Nf({mode:"visible",children:r},e.mode),r.return=e,e.child=r}function Nf(e,r){return Jy(e,r,0,null)}function If(e,r,s){return za(r,e.child,null,s),e=Df(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function Cy(e,r,s){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r),jf(e.return,r,s)}function Of(e,r,s,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=h)}function Dy(e,r,s){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(tn(e,r,l.children,s),l=Be.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Cy(e,s,r);else if(e.tag===19)Cy(e,s,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break t;for(;e.sibling===null;){if(e.return===null||e.return===r)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(Lt(Be,l),h){case"forwards":for(s=r.child,h=null;s!==null;)e=s.alternate,e!==null&&Hu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=r.child,r.child=null):(h=s.sibling,s.sibling=null),Of(r,!1,h,s,d);break;case"backwards":for(s=null,h=r.child,r.child=null;h!==null;){if(e=h.alternate,e!==null&&Hu(e)===null){r.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Of(r,!0,s,null,d);break;case"together":Of(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function si(e,r,s){if(e!==null&&(r.dependencies=e.dependencies),Wi|=r.lanes,(s&r.childLanes)===0)if(e!==null){if(al(e,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(e!==null&&r.child!==e.child)throw Error(a(153));if(r.child!==null){for(e=r.child,s=Xi(e,e.pendingProps),r.child=s,s.return=r;e.sibling!==null;)e=e.sibling,s=s.sibling=Xi(e,e.pendingProps),s.return=r;s.sibling=null}return r.child}function Mf(e,r){return(e.lanes&r)!==0?!0:(e=e.dependencies,!!(e!==null&&ec(e)))}function Tx(e,r,s){switch(r.tag){case 3:jt(r,r.stateNode.containerInfo),Hi(r,ze,e.memoizedState.cache),$o();break;case 27:case 5:Cn(r);break;case 4:jt(r,r.stateNode.containerInfo);break;case 10:Hi(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Pi(r),r.flags|=128,null):(s&r.child.childLanes)!==0?Ry(e,r,s):(Pi(r),e=si(e,r,s),e!==null?e.sibling:null);Pi(r);break;case 19:var h=(e.flags&128)!==0;if(l=(s&r.childLanes)!==0,l||(al(e,r,s,!1),l=(s&r.childLanes)!==0),h){if(l)return Dy(e,r,s);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Lt(Be,Be.current),l)break;return null;case 22:case 23:return r.lanes=0,by(e,r,s);case 24:Hi(r,ze,e.memoizedState.cache)}return si(e,r,s)}function Ny(e,r,s){if(e!==null)if(e.memoizedProps!==r.pendingProps)Ke=!0;else{if(!Mf(e,s)&&(r.flags&128)===0)return Ke=!1,Tx(e,r,s);Ke=(e.flags&131072)!==0}else Ke=!1,Jt&&(r.flags&1048576)!==0&&mg(r,Uu,r.index);switch(r.lanes=0,r.tag){case 16:t:{e=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")$f(l)?(e=Qa(l,e),r.tag=1,r=wy(null,r,l,e,s)):(r.tag=0,r=wf(null,r,l,e,s));else{if(l!=null){if(h=l.$$typeof,h===M){r.tag=11,r=_y(null,r,l,e,s);break t}else if(h===L){r.tag=14,r=Ey(null,r,l,e,s);break t}}throw r=C(l)||l,Error(a(306,r,""))}}return r;case 0:return wf(e,r,r.type,r.pendingProps,s);case 1:return l=r.type,h=Qa(l,r.pendingProps),wy(e,r,l,h,s);case 3:t:{if(jt(r,r.stateNode.containerInfo),e===null)throw Error(a(387));var d=r.pendingProps;h=r.memoizedState,l=h.element,Uf(e,r),ll(r,d,null,s);var E=r.memoizedState;if(d=E.cache,Hi(r,ze,d),d!==h.cache&&kf(r,[ze],s,!0),ol(),d=E.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=h,r.memoizedState=h,r.flags&256){r=Ay(e,r,d,s);break t}else if(d!==l){l=Gn(Error(a(424)),r),Ko(l),r=Ay(e,r,d,s);break t}else for(Je=ur(r.stateNode.containerInfo.firstChild),yn=r,Jt=!0,or=null,Nr=!0,s=xg(r,null,d,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if($o(),d===l){r=si(e,r,s);break t}tn(e,r,d,s)}r=r.child}return r;case 26:return il(e,r),e===null?(s=Mv(r.type,null,r.pendingProps,null))?r.memoizedState=s:Jt||(s=r.type,e=r.pendingProps,l=yc(Te.current).createElement(s),l[Ge]=r,l[Le]=e,en(l,s,e),ge(l),r.stateNode=l):r.memoizedState=Mv(r.type,e.memoizedProps,r.pendingProps,e.memoizedState),null;case 27:return Cn(r),e===null&&Jt&&(l=r.stateNode=Nv(r.type,r.pendingProps,Te.current),yn=r,Nr=!0,Je=ur(l.firstChild)),l=r.pendingProps.children,e!==null||Jt?tn(e,r,l,s):r.child=za(r,null,l,s),il(e,r),r.child;case 5:return e===null&&Jt&&((h=l=Je)&&(l=Wx(l,r.type,r.pendingProps,Nr),l!==null?(r.stateNode=l,yn=r,Je=ur(l.firstChild),Nr=!1,h=!0):h=!1),h||Ba(r)),Cn(r),h=r.type,d=r.pendingProps,E=e!==null?e.memoizedProps:null,l=d.children,_d(h,d)?l=null:E!==null&&_d(h,E)&&(r.flags|=32),r.memoizedState!==null&&(h=of(e,r,mx,null,null,s),xl._currentValue=h),il(e,r),tn(e,r,l,s),r.child;case 6:return e===null&&Jt&&((e=s=Je)&&(s=Zx(s,r.pendingProps,Nr),s!==null?(r.stateNode=s,yn=r,Je=null,e=!0):e=!1),e||Ba(r)),null;case 13:return Ry(e,r,s);case 4:return jt(r,r.stateNode.containerInfo),l=r.pendingProps,e===null?r.child=za(r,null,l,s):tn(e,r,l,s),r.child;case 11:return _y(e,r,r.type,r.pendingProps,s);case 7:return tn(e,r,r.pendingProps,s),r.child;case 8:return tn(e,r,r.pendingProps.children,s),r.child;case 12:return tn(e,r,r.pendingProps.children,s),r.child;case 10:return l=r.pendingProps,Hi(r,r.type,l.value),tn(e,r,l.children,s),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Ka(r),h=ln(h),l=l(h),r.flags|=1,tn(e,r,l,s),r.child;case 14:return Ey(e,r,r.type,r.pendingProps,s);case 15:return Ty(e,r,r.type,r.pendingProps,s);case 19:return Dy(e,r,s);case 22:return by(e,r,s);case 24:return Ka(r),l=ln(ze),e===null?(h=af(),h===null&&(h=fe,d=nf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),r.memoizedState={parent:l,cache:h},Lf(r),Hi(r,ze,h)):((e.lanes&s)!==0&&(Uf(e,r),ll(r,null,null,s),ol()),h=e.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Hi(r,ze,l)):(l=d.cache,Hi(r,ze,l),l!==h.cache&&kf(r,[ze],s,!0))),tn(e,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}var Vf=Ct(null),$a=null,oi=null;function Hi(e,r,s){Lt(Vf,r._currentValue),r._currentValue=s}function li(e){e._currentValue=Vf.current,ee(Vf)}function jf(e,r,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),e===s)break;e=e.return}}function kf(e,r,s,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var E=h.child;d=d.firstContext;t:for(;d!==null;){var w=d;d=h;for(var I=0;I<r.length;I++)if(w.context===r[I]){d.lanes|=s,w=d.alternate,w!==null&&(w.lanes|=s),jf(d.return,s,e),l||(E=null);break t}d=w.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(a(341));E.lanes|=s,d=E.alternate,d!==null&&(d.lanes|=s),jf(E,s,e),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===e){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function al(e,r,s,l){e=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var w=h.type;In(h.pendingProps.value,E.value)||(e!==null?e.push(w):e=[w])}}else if(h===Fe.current){if(E=h.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(xl):e=[xl])}h=h.return}e!==null&&kf(r,e,s,l),r.flags|=262144}function ec(e){for(e=e.firstContext;e!==null;){if(!In(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ka(e){$a=e,oi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ln(e){return Iy($a,e)}function nc(e,r){return $a===null&&Ka(e),Iy(e,r)}function Iy(e,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},oi===null){if(e===null)throw Error(a(308));oi=r,e.dependencies={lanes:0,firstContext:r},e.flags|=524288}else oi=oi.next=r;return s}var Fi=!1;function Lf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uf(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Gi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Qi(e,r,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(ve&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=ku(e),fg(e,null,s),r}return ju(e,l,r,s),ku(e)}function sl(e,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194176)!==0)){var l=r.lanes;l&=e.pendingLanes,s|=l,r.lanes=s,Ci(e,s)}}function Pf(e,r){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var E={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=E:d=d.next=E,s=s.next}while(s!==null);d===null?h=d=r:d=d.next=r}else h=d=r;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=r:e.next=r,s.lastBaseUpdate=r}var Bf=!1;function ol(){if(Bf){var e=Us;if(e!==null)throw e}}function ll(e,r,s,l){Bf=!1;var h=e.updateQueue;Fi=!1;var d=h.firstBaseUpdate,E=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var I=w,B=I.next;I.next=null,E===null?d=B:E.next=B,E=I;var W=e.alternate;W!==null&&(W=W.updateQueue,w=W.lastBaseUpdate,w!==E&&(w===null?W.firstBaseUpdate=B:w.next=B,W.lastBaseUpdate=I))}if(d!==null){var nt=h.baseState;E=0,W=B=I=null,w=d;do{var $=w.lane&-536870913,X=$!==w.lane;if(X?($t&$)===$:(l&$)===$){$!==0&&$===Ls&&(Bf=!0),W!==null&&(W=W.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var yt=e,Dt=w;$=r;var Ae=s;switch(Dt.tag){case 1:if(yt=Dt.payload,typeof yt=="function"){nt=yt.call(Ae,nt,$);break t}nt=yt;break t;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=Dt.payload,$=typeof yt=="function"?yt.call(Ae,nt,$):yt,$==null)break t;nt=O({},nt,$);break t;case 2:Fi=!0}}$=w.callback,$!==null&&(e.flags|=64,X&&(e.flags|=8192),X=h.callbacks,X===null?h.callbacks=[$]:X.push($))}else X={lane:$,tag:w.tag,payload:w.payload,callback:w.callback,next:null},W===null?(B=W=X,I=nt):W=W.next=X,E|=$;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;X=w,w=X.next,X.next=null,h.lastBaseUpdate=X,h.shared.pending=null}}while(!0);W===null&&(I=nt),h.baseState=I,h.firstBaseUpdate=B,h.lastBaseUpdate=W,d===null&&(h.shared.lanes=0),Wi|=E,e.lanes=E,e.memoizedState=nt}}function Oy(e,r){if(typeof e!="function")throw Error(a(191,e));e.call(r)}function My(e,r){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Oy(s[e],r)}function ul(e,r){try{var s=r.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&e)===e){l=void 0;var d=s.create,E=s.inst;l=d(),E.destroy=l}s=s.next}while(s!==h)}}catch(w){ce(r,r.return,w)}}function $i(e,r,s){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var E=l.inst,w=E.destroy;if(w!==void 0){E.destroy=void 0,h=r;var I=s;try{w()}catch(B){ce(h,I,B)}}}l=l.next}while(l!==d)}}catch(B){ce(r,r.return,B)}}function Vy(e){var r=e.updateQueue;if(r!==null){var s=e.stateNode;try{My(r,s)}catch(l){ce(e,e.return,l)}}}function jy(e,r,s){s.props=Qa(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){ce(e,r,l)}}function Ya(e,r){try{var s=e.ref;if(s!==null){var l=e.stateNode;switch(e.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof s=="function"?e.refCleanup=s(h):s.current=h}}catch(d){ce(e,r,d)}}function On(e,r){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){ce(e,r,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){ce(e,r,h)}else s.current=null}function ky(e){var r=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){ce(e,e.return,h)}}function Ly(e,r,s){try{var l=e.stateNode;Qx(l,e.type,s,r),l[Le]=r}catch(h){ce(e,e.return,h)}}function Uy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function zf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Uy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qf(e,r,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?s.nodeType===8?s.parentNode.insertBefore(e,r):s.insertBefore(e,r):(s.nodeType===8?(r=s.parentNode,r.insertBefore(e,s)):(r=s,r.appendChild(e)),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=gc));else if(l!==4&&l!==27&&(e=e.child,e!==null))for(qf(e,r,s),e=e.sibling;e!==null;)qf(e,r,s),e=e.sibling}function rc(e,r,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?s.insertBefore(e,r):s.appendChild(e);else if(l!==4&&l!==27&&(e=e.child,e!==null))for(rc(e,r,s),e=e.sibling;e!==null;)rc(e,r,s),e=e.sibling}var ui=!1,Se=!1,Hf=!1,Py=typeof WeakSet=="function"?WeakSet:Set,Ye=null,By=!1;function bx(e,r){if(e=e.containerInfo,yd=xc,e=rg(e),Fh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break t}var E=0,w=-1,I=-1,B=0,W=0,nt=e,$=null;e:for(;;){for(var X;nt!==s||h!==0&&nt.nodeType!==3||(w=E+h),nt!==d||l!==0&&nt.nodeType!==3||(I=E+l),nt.nodeType===3&&(E+=nt.nodeValue.length),(X=nt.firstChild)!==null;)$=nt,nt=X;for(;;){if(nt===e)break e;if($===s&&++B===h&&(w=E),$===d&&++W===l&&(I=E),(X=nt.nextSibling)!==null)break;nt=$,$=nt.parentNode}nt=X}s=w===-1||I===-1?null:{start:w,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(vd={focusedElem:e,selectionRange:s},xc=!1,Ye=r;Ye!==null;)if(r=Ye,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,Ye=e;else for(;Ye!==null;){switch(r=Ye,d=r.alternate,e=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,s=r,h=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var yt=Qa(s.type,h,s.elementType===s.type);e=l.getSnapshotBeforeUpdate(yt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(Dt){ce(s,s.return,Dt)}}break;case 3:if((e&1024)!==0){if(e=r.stateNode.containerInfo,s=e.nodeType,s===9)bd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":bd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=r.sibling,e!==null){e.return=r.return,Ye=e;break}Ye=r.return}return yt=By,By=!1,yt}function zy(e,r,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:hi(e,s),l&4&&ul(5,s);break;case 1:if(hi(e,s),l&4)if(e=s.stateNode,r===null)try{e.componentDidMount()}catch(w){ce(s,s.return,w)}else{var h=Qa(s.type,r.memoizedProps);r=r.memoizedState;try{e.componentDidUpdate(h,r,e.__reactInternalSnapshotBeforeUpdate)}catch(w){ce(s,s.return,w)}}l&64&&Vy(s),l&512&&Ya(s,s.return);break;case 3:if(hi(e,s),l&64&&(l=s.updateQueue,l!==null)){if(e=null,s.child!==null)switch(s.child.tag){case 27:case 5:e=s.child.stateNode;break;case 1:e=s.child.stateNode}try{My(l,e)}catch(w){ce(s,s.return,w)}}break;case 26:hi(e,s),l&512&&Ya(s,s.return);break;case 27:case 5:hi(e,s),r===null&&l&4&&ky(s),l&512&&Ya(s,s.return);break;case 12:hi(e,s);break;case 13:hi(e,s),l&4&&Fy(e,s);break;case 22:if(h=s.memoizedState!==null||ui,!h){r=r!==null&&r.memoizedState!==null||Se;var d=ui,E=Se;ui=h,(Se=r)&&!E?Ki(e,s,(s.subtreeFlags&8772)!==0):hi(e,s),ui=d,Se=E}l&512&&(s.memoizedProps.mode==="manual"?Ya(s,s.return):On(s,s.return));break;default:hi(e,s)}}function qy(e){var r=e.alternate;r!==null&&(e.alternate=null,qy(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&wa(r)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ve=null,Mn=!1;function ci(e,r,s){for(s=s.child;s!==null;)Hy(e,r,s),s=s.sibling}function Hy(e,r,s){if(he&&typeof he.onCommitFiberUnmount=="function")try{he.onCommitFiberUnmount(qt,s)}catch{}switch(s.tag){case 26:Se||On(s,r),ci(e,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Se||On(s,r);var l=Ve,h=Mn;for(Ve=s.stateNode,ci(e,r,s),s=s.stateNode,r=s.attributes;r.length;)s.removeAttributeNode(r[0]);wa(s),Ve=l,Mn=h;break;case 5:Se||On(s,r);case 6:h=Ve;var d=Mn;if(Ve=null,ci(e,r,s),Ve=h,Mn=d,Ve!==null)if(Mn)try{e=Ve,l=s.stateNode,e.nodeType===8?e.parentNode.removeChild(l):e.removeChild(l)}catch(E){ce(s,r,E)}else try{Ve.removeChild(s.stateNode)}catch(E){ce(s,r,E)}break;case 18:Ve!==null&&(Mn?(r=Ve,s=s.stateNode,r.nodeType===8?Td(r.parentNode,s):r.nodeType===1&&Td(r,s),Rl(r)):Td(Ve,s.stateNode));break;case 4:l=Ve,h=Mn,Ve=s.stateNode.containerInfo,Mn=!0,ci(e,r,s),Ve=l,Mn=h;break;case 0:case 11:case 14:case 15:Se||$i(2,s,r),Se||$i(4,s,r),ci(e,r,s);break;case 1:Se||(On(s,r),l=s.stateNode,typeof l.componentWillUnmount=="function"&&jy(s,r,l)),ci(e,r,s);break;case 21:ci(e,r,s);break;case 22:Se||On(s,r),Se=(l=Se)||s.memoizedState!==null,ci(e,r,s),Se=l;break;default:ci(e,r,s)}}function Fy(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Rl(e)}catch(s){ce(r,r.return,s)}}function xx(e){switch(e.tag){case 13:case 19:var r=e.stateNode;return r===null&&(r=e.stateNode=new Py),r;case 22:return e=e.stateNode,r=e._retryCache,r===null&&(r=e._retryCache=new Py),r;default:throw Error(a(435,e.tag))}}function Ff(e,r){var s=xx(e);r.forEach(function(l){var h=kx.bind(null,e,l);s.has(l)||(s.add(l),l.then(h,h))})}function Yn(e,r){var s=r.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],d=e,E=r,w=E;t:for(;w!==null;){switch(w.tag){case 27:case 5:Ve=w.stateNode,Mn=!1;break t;case 3:Ve=w.stateNode.containerInfo,Mn=!0;break t;case 4:Ve=w.stateNode.containerInfo,Mn=!0;break t}w=w.return}if(Ve===null)throw Error(a(160));Hy(d,E,h),Ve=null,Mn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Gy(r,e),r=r.sibling}var lr=null;function Gy(e,r){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Yn(r,e),Xn(e),l&4&&($i(3,e,e.return),ul(3,e),$i(5,e,e.return));break;case 1:Yn(r,e),Xn(e),l&512&&(Se||s===null||On(s,s.return)),l&64&&ui&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=lr;if(Yn(r,e),Xn(e),l&512&&(Se||s===null||On(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Ni]||d[Ge]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),en(d,l,s),d[Ge]=e,ge(d),l=d;break t;case"link":var E=kv("link","href",h).get(l+(s.href||""));if(E){for(var w=0;w<E.length;w++)if(d=E[w],d.getAttribute("href")===(s.href==null?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){E.splice(w,1);break e}}d=h.createElement(l),en(d,l,s),h.head.appendChild(d);break;case"meta":if(E=kv("meta","content",h).get(l+(s.content||""))){for(w=0;w<E.length;w++)if(d=E[w],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){E.splice(w,1);break e}}d=h.createElement(l),en(d,l,s),h.head.appendChild(d);break;default:throw Error(a(468,l))}d[Ge]=e,ge(d),l=d}e.stateNode=l}else Lv(h,e.type,e.stateNode);else e.stateNode=jv(h,l,e.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?Lv(h,e.type,e.stateNode):jv(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Ly(e,e.memoizedProps,s.memoizedProps)}break;case 27:if(l&4&&e.alternate===null){h=e.stateNode,d=e.memoizedProps;try{for(var I=h.firstChild;I;){var B=I.nextSibling,W=I.nodeName;I[Ni]||W==="HEAD"||W==="BODY"||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&I.rel.toLowerCase()==="stylesheet"||h.removeChild(I),I=B}for(var nt=e.type,$=h.attributes;$.length;)h.removeAttributeNode($[0]);en(h,nt,d),h[Ge]=e,h[Le]=d}catch(yt){ce(e,e.return,yt)}}case 5:if(Yn(r,e),Xn(e),l&512&&(Se||s===null||On(s,s.return)),e.flags&32){h=e.stateNode;try{Bn(h,"")}catch(yt){ce(e,e.return,yt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Ly(e,h,s!==null?s.memoizedProps:h)),l&1024&&(Hf=!0);break;case 6:if(Yn(r,e),Xn(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(yt){ce(e,e.return,yt)}}break;case 3:if(Ec=null,h=lr,lr=vc(r.containerInfo),Yn(r,e),lr=h,Xn(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Rl(r.containerInfo)}catch(yt){ce(e,e.return,yt)}Hf&&(Hf=!1,Qy(e));break;case 4:l=lr,lr=vc(e.stateNode.containerInfo),Yn(r,e),Xn(e),lr=l;break;case 12:Yn(r,e),Xn(e);break;case 13:Yn(r,e),Xn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Jf=be()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ff(e,l)));break;case 22:if(l&512&&(Se||s===null||On(s,s.return)),I=e.memoizedState!==null,B=s!==null&&s.memoizedState!==null,W=ui,nt=Se,ui=W||I,Se=nt||B,Yn(r,e),Se=nt,ui=W,Xn(e),r=e.stateNode,r._current=e,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,l&8192&&(r._visibility=I?r._visibility&-2:r._visibility|1,I&&(r=ui||Se,s===null||B||r||qs(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(s=null,r=e;;){if(r.tag===5||r.tag===26||r.tag===27){if(s===null){B=s=r;try{if(h=B.stateNode,I)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{E=B.stateNode,w=B.memoizedProps.style;var X=w!=null&&w.hasOwnProperty("display")?w.display:null;E.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(yt){ce(B,B.return,yt)}}}else if(r.tag===6){if(s===null){B=r;try{B.stateNode.nodeValue=I?"":B.memoizedProps}catch(yt){ce(B,B.return,yt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break t;for(;r.sibling===null;){if(r.return===null||r.return===e)break t;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Ff(e,s))));break;case 19:Yn(r,e),Xn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ff(e,l)));break;case 21:break;default:Yn(r,e),Xn(e)}}function Xn(e){var r=e.flags;if(r&2){try{if(e.tag!==27){t:{for(var s=e.return;s!==null;){if(Uy(s)){var l=s;break t}s=s.return}throw Error(a(160))}switch(l.tag){case 27:var h=l.stateNode,d=zf(e);rc(e,d,h);break;case 5:var E=l.stateNode;l.flags&32&&(Bn(E,""),l.flags&=-33);var w=zf(e);rc(e,w,E);break;case 3:case 4:var I=l.stateNode.containerInfo,B=zf(e);qf(e,B,I);break;default:throw Error(a(161))}}}catch(W){ce(e,e.return,W)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function Qy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var r=e;Qy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),e=e.sibling}}function hi(e,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)zy(e,r.alternate,r),r=r.sibling}function qs(e){for(e=e.child;e!==null;){var r=e;switch(r.tag){case 0:case 11:case 14:case 15:$i(4,r,r.return),qs(r);break;case 1:On(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&jy(r,r.return,s),qs(r);break;case 26:case 27:case 5:On(r,r.return),qs(r);break;case 22:On(r,r.return),r.memoizedState===null&&qs(r);break;default:qs(r)}e=e.sibling}}function Ki(e,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=e,d=r,E=d.flags;switch(d.tag){case 0:case 11:case 15:Ki(h,d,s),ul(4,d);break;case 1:if(Ki(h,d,s),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){ce(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var w=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Oy(I[h],w)}catch(B){ce(l,l.return,B)}}s&&E&64&&Vy(d),Ya(d,d.return);break;case 26:case 27:case 5:Ki(h,d,s),s&&l===null&&E&4&&ky(d),Ya(d,d.return);break;case 12:Ki(h,d,s);break;case 13:Ki(h,d,s),s&&E&4&&Fy(h,d);break;case 22:d.memoizedState===null&&Ki(h,d,s),Ya(d,d.return);break;default:Ki(h,d,s)}r=r.sibling}}function Gf(e,r){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(e=r.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Jo(s))}function Qf(e,r){e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&Jo(e))}function Yi(e,r,s,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)$y(e,r,s,l),r=r.sibling}function $y(e,r,s,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:Yi(e,r,s,l),h&2048&&ul(9,r);break;case 3:Yi(e,r,s,l),h&2048&&(e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&Jo(e)));break;case 12:if(h&2048){Yi(e,r,s,l),e=r.stateNode;try{var d=r.memoizedProps,E=d.id,w=d.onPostCommit;typeof w=="function"&&w(E,r.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){ce(r,r.return,I)}}else Yi(e,r,s,l);break;case 23:break;case 22:d=r.stateNode,r.memoizedState!==null?d._visibility&4?Yi(e,r,s,l):cl(e,r):d._visibility&4?Yi(e,r,s,l):(d._visibility|=4,Hs(e,r,s,l,(r.subtreeFlags&10256)!==0)),h&2048&&Gf(r.alternate,r);break;case 24:Yi(e,r,s,l),h&2048&&Qf(r.alternate,r);break;default:Yi(e,r,s,l)}}function Hs(e,r,s,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=e,E=r,w=s,I=l,B=E.flags;switch(E.tag){case 0:case 11:case 15:Hs(d,E,w,I,h),ul(8,E);break;case 23:break;case 22:var W=E.stateNode;E.memoizedState!==null?W._visibility&4?Hs(d,E,w,I,h):cl(d,E):(W._visibility|=4,Hs(d,E,w,I,h)),h&&B&2048&&Gf(E.alternate,E);break;case 24:Hs(d,E,w,I,h),h&&B&2048&&Qf(E.alternate,E);break;default:Hs(d,E,w,I,h)}r=r.sibling}}function cl(e,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=e,l=r,h=l.flags;switch(l.tag){case 22:cl(s,l),h&2048&&Gf(l.alternate,l);break;case 24:cl(s,l),h&2048&&Qf(l.alternate,l);break;default:cl(s,l)}r=r.sibling}}var hl=8192;function Fs(e){if(e.subtreeFlags&hl)for(e=e.child;e!==null;)Ky(e),e=e.sibling}function Ky(e){switch(e.tag){case 26:Fs(e),e.flags&hl&&e.memoizedState!==null&&hS(lr,e.memoizedState,e.memoizedProps);break;case 5:Fs(e);break;case 3:case 4:var r=lr;lr=vc(e.stateNode.containerInfo),Fs(e),lr=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=hl,hl=16777216,Fs(e),hl=r):Fs(e));break;default:Fs(e)}}function Yy(e){var r=e.alternate;if(r!==null&&(e=r.child,e!==null)){r.child=null;do r=e.sibling,e.sibling=null,e=r;while(e!==null)}}function fl(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];Ye=l,Wy(l,e)}Yy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Xy(e),e=e.sibling}function Xy(e){switch(e.tag){case 0:case 11:case 15:fl(e),e.flags&2048&&$i(9,e,e.return);break;case 3:fl(e);break;case 12:fl(e);break;case 22:var r=e.stateNode;e.memoizedState!==null&&r._visibility&4&&(e.return===null||e.return.tag!==13)?(r._visibility&=-5,ic(e)):fl(e);break;default:fl(e)}}function ic(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];Ye=l,Wy(l,e)}Yy(e)}for(e=e.child;e!==null;){switch(r=e,r.tag){case 0:case 11:case 15:$i(8,r,r.return),ic(r);break;case 22:s=r.stateNode,s._visibility&4&&(s._visibility&=-5,ic(r));break;default:ic(r)}e=e.sibling}}function Wy(e,r){for(;Ye!==null;){var s=Ye;switch(s.tag){case 0:case 11:case 15:$i(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Jo(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Ye=l;else t:for(s=e;Ye!==null;){l=Ye;var h=l.sibling,d=l.return;if(qy(l),l===s){Ye=null;break t}if(h!==null){h.return=d,Ye=h;break t}Ye=d}}}function Sx(e,r,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(e,r,s,l){return new Sx(e,r,s,l)}function $f(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Xi(e,r){var s=e.alternate;return s===null?(s=Wn(e.tag,r,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=r,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&31457280,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,r=e.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Zy(e,r){e.flags&=31457282;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=r,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,r=s.dependencies,e.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),e}function ac(e,r,s,l,h,d){var E=0;if(l=e,typeof e=="function")$f(e)&&(E=1);else if(typeof e=="string")E=uS(e,s,ne.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case p:return Xa(s.children,h,d,r);case g:E=8,h|=24;break;case T:return e=Wn(12,s,r,h|2),e.elementType=T,e.lanes=d,e;case H:return e=Wn(13,s,r,h),e.elementType=H,e.lanes=d,e;case j:return e=Wn(19,s,r,h),e.elementType=j,e.lanes=d,e;case K:return Jy(s,h,d,r);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case b:case D:E=10;break t;case x:E=9;break t;case M:E=11;break t;case L:E=14;break t;case Q:E=16,l=null;break t}E=29,s=Error(a(130,e===null?"null":typeof e,"")),l=null}return r=Wn(E,s,r,h),r.elementType=e,r.type=l,r.lanes=d,r}function Xa(e,r,s,l){return e=Wn(7,e,l,r),e.lanes=s,e}function Jy(e,r,s,l){e=Wn(22,e,l,r),e.elementType=K,e.lanes=s;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(a(456));if((h._pendingVisibility&2)===0){var E=Ui(d,2);E!==null&&(h._pendingVisibility|=2,vn(E,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(a(456));if((h._pendingVisibility&2)!==0){var E=Ui(d,2);E!==null&&(h._pendingVisibility&=-3,vn(E,d,2))}}};return e.stateNode=h,e}function Kf(e,r,s){return e=Wn(6,e,null,r),e.lanes=s,e}function Yf(e,r,s){return r=Wn(4,e.children!==null?e.children:[],e.key,r),r.lanes=s,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function fi(e){e.flags|=4}function tv(e,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Uv(r)){if(r=Kn.current,r!==null&&(($t&4194176)===$t?Ir!==null:($t&62914560)!==$t&&($t&536870912)===0||r!==Ir))throw Xo=Jh,yg;e.flags|=8192}}function sc(e,r){r!==null&&(e.flags|=4),e.flags&16384&&(r=e.tag!==22?Ai():536870912,e.lanes|=r,Qs|=r)}function dl(e,r){if(!Jt)switch(e.tailMode){case"hidden":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ye(e){var r=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(r)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=s,r}function wx(e,r,s){var l=r.pendingProps;switch(Wh(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ye(r),null;case 1:return ye(r),null;case 3:return s=r.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),li(ze),on(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Qo(r)?fi(r):e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,or!==null&&(rd(or),or=null))),ye(r),null;case 26:return s=r.memoizedState,e===null?(fi(r),s!==null?(ye(r),tv(r,s)):(ye(r),r.flags&=-16777217)):s?s!==e.memoizedState?(fi(r),ye(r),tv(r,s)):(ye(r),r.flags&=-16777217):(e.memoizedProps!==l&&fi(r),ye(r),r.flags&=-16777217),null;case 27:gr(r),s=Te.current;var h=r.type;if(e!==null&&r.stateNode!=null)e.memoizedProps!==l&&fi(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return ye(r),null}e=ne.current,Qo(r)?pg(r):(e=Nv(h,l,s),r.stateNode=e,fi(r))}return ye(r),null;case 5:if(gr(r),s=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==l&&fi(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return ye(r),null}if(e=ne.current,Qo(r))pg(r);else{switch(h=yc(Te.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(s,{is:l.is}):h.createElement(s)}}e[Ge]=r,e[Le]=l;t:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break t;for(;h.sibling===null;){if(h.return===null||h.return===r)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=e;t:switch(en(e,s,l),s){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&fi(r)}}return ye(r),r.flags&=-16777217,null;case 6:if(e&&r.stateNode!=null)e.memoizedProps!==l&&fi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(a(166));if(e=Te.current,Qo(r)){if(e=r.stateNode,s=r.memoizedProps,l=null,h=yn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Ge]=r,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Sv(e.nodeValue,s)),e||Ba(r)}else e=yc(e).createTextNode(l),e[Ge]=r,r.stateNode=e}return ye(r),null;case 13:if(l=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Qo(r),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ge]=r}else $o(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ye(r),h=!1}else or!==null&&(rd(or),or=null),h=!0;if(!h)return r.flags&256?(ii(r),r):(ii(r),null)}if(ii(r),(r.flags&128)!==0)return r.lanes=s,r;if(s=l!==null,e=e!==null&&e.memoizedState!==null,s){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return s!==e&&s&&(r.child.flags|=8192),sc(r,r.updateQueue),ye(r),null;case 4:return on(),e===null&&md(r.stateNode.containerInfo),ye(r),null;case 10:return li(r.type),ye(r),null;case 19:if(ee(Be),h=r.memoizedState,h===null)return ye(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)dl(h,!1);else{if(we!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(d=Hu(e),d!==null){for(r.flags|=128,dl(h,!1),e=d.updateQueue,r.updateQueue=e,sc(r,e),r.subtreeFlags=0,e=s,s=r.child;s!==null;)Zy(s,e),s=s.sibling;return Lt(Be,Be.current&1|2),r.child}e=e.sibling}h.tail!==null&&be()>oc&&(r.flags|=128,l=!0,dl(h,!1),r.lanes=4194304)}else{if(!l)if(e=Hu(d),e!==null){if(r.flags|=128,l=!0,e=e.updateQueue,r.updateQueue=e,sc(r,e),dl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Jt)return ye(r),null}else 2*be()-h.renderingStartTime>oc&&s!==536870912&&(r.flags|=128,l=!0,dl(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(e=h.last,e!==null?e.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=be(),r.sibling=null,e=Be.current,Lt(Be,l?e&1|2:e&1),r):(ye(r),null);case 22:case 23:return ii(r),ef(),l=r.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(s&536870912)!==0&&(r.flags&128)===0&&(ye(r),r.subtreeFlags&6&&(r.flags|=8192)):ye(r),s=r.updateQueue,s!==null&&sc(r,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==s&&(r.flags|=2048),e!==null&&ee(qa),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),li(ze),ye(r),null;case 25:return null}throw Error(a(156,r.tag))}function Ax(e,r){switch(Wh(r),r.tag){case 1:return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return li(ze),on(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 26:case 27:case 5:return gr(r),null;case 13:if(ii(r),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(a(340));$o()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return ee(Be),null;case 4:return on(),null;case 10:return li(r.type),null;case 22:case 23:return ii(r),ef(),e!==null&&ee(qa),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 24:return li(ze),null;case 25:return null;default:return null}}function ev(e,r){switch(Wh(r),r.tag){case 3:li(ze),on();break;case 26:case 27:case 5:gr(r);break;case 4:on();break;case 13:ii(r);break;case 19:ee(Be);break;case 10:li(r.type);break;case 22:case 23:ii(r),ef(),e!==null&&ee(qa);break;case 24:li(ze)}}var Rx={getCacheForType:function(e){var r=ln(ze),s=r.data.get(e);return s===void 0&&(s=e(),r.data.set(e,s)),s}},Cx=typeof WeakMap=="function"?WeakMap:Map,ve=0,fe=null,Bt=null,$t=0,de=0,Vn=null,di=!1,Gs=!1,Xf=!1,mi=0,we=0,Wi=0,Wa=0,Wf=0,Zn=0,Qs=0,ml=null,Mr=null,Zf=!1,Jf=0,oc=1/0,lc=null,Zi=null,uc=!1,Za=null,pl=0,td=0,ed=null,gl=0,nd=null;function jn(){if((ve&2)!==0&&$t!==0)return $t&-$t;if(R.T!==null){var e=Ls;return e!==0?e:cd()}return pu()}function nv(){Zn===0&&(Zn=($t&536870912)===0||Jt?Co():536870912);var e=Kn.current;return e!==null&&(e.flags|=32),Zn}function vn(e,r,s){(e===fe&&de===2||e.cancelPendingCommit!==null)&&($s(e,0),pi(e,$t,Zn,!1)),De(e,s),((ve&2)===0||e!==fe)&&(e===fe&&((ve&2)===0&&(Wa|=s),we===4&&pi(e,$t,Zn,!1)),Vr(e))}function rv(e,r,s){if((ve&6)!==0)throw Error(a(327));var l=!s&&(r&60)===0&&(r&e.expiredLanes)===0||wi(e,r),h=l?Ix(e,r):sd(e,r,!0),d=l;do{if(h===0){Gs&&!l&&pi(e,r,0,!1);break}else if(h===6)pi(e,r,0,!di);else{if(s=e.current.alternate,d&&!Dx(s)){h=sd(e,r,!1),d=!1;continue}if(h===2){if(d=r,e.errorRecoveryDisabledLanes&d)var E=0;else E=e.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;t:{var w=e;h=ml;var I=w.current.memoizedState.isDehydrated;if(I&&($s(w,E).flags|=256),E=sd(w,E,!1),E!==2){if(Xf&&!I){w.errorRecoveryDisabledLanes|=d,Wa|=d,h=4;break t}d=Mr,Mr=h,d!==null&&rd(d)}h=E}if(d=!1,h!==2)continue}}if(h===1){$s(e,0),pi(e,r,0,!0);break}t:{switch(l=e,h){case 0:case 1:throw Error(a(345));case 4:if((r&4194176)===r){pi(l,r,Zn,!di);break t}break;case 2:Mr=null;break;case 3:case 5:break;default:throw Error(a(329))}if(l.finishedWork=s,l.finishedLanes=r,(r&62914560)===r&&(d=Jf+300-be(),10<d)){if(pi(l,r,Zn,!di),Un(l,0)!==0)break t;l.timeoutHandle=Rv(iv.bind(null,l,s,Mr,lc,Zf,r,Zn,Wa,Qs,di,2,-0,0),d);break t}iv(l,s,Mr,lc,Zf,r,Zn,Wa,Qs,di,0,-0,0)}}break}while(!0);Vr(e)}function rd(e){Mr===null?Mr=e:Mr.push.apply(Mr,e)}function iv(e,r,s,l,h,d,E,w,I,B,W,nt,$){var X=r.subtreeFlags;if((X&8192||(X&16785408)===16785408)&&(bl={stylesheets:null,count:0,unsuspend:cS},Ky(r),r=fS(),r!==null)){e.cancelPendingCommit=r(hv.bind(null,e,s,l,h,E,w,I,1,nt,$)),pi(e,d,E,!B);return}hv(e,s,l,h,E,w,I,W,nt,$)}function Dx(e){for(var r=e;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],d=h.getSnapshot;h=h.value;try{if(!In(d(),h))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function pi(e,r,s,l){r&=~Wf,r&=~Wa,e.suspendedLanes|=r,e.pingedLanes&=~r,l&&(e.warmLanes|=r),l=e.expirationTimes;for(var h=r;0<h;){var d=31-mn(h),E=1<<d;l[d]=-1,h&=~E}s!==0&&Ri(e,s,r)}function cc(){return(ve&6)===0?(yl(0),!1):!0}function id(){if(Bt!==null){if(de===0)var e=Bt.return;else e=Bt,oi=$a=null,cf(e),js=null,Wo=0,e=Bt;for(;e!==null;)ev(e.alternate,e),e=e.return;Bt=null}}function $s(e,r){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,Kx(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),id(),fe=e,Bt=s=Xi(e.current,null),$t=r,de=0,Vn=null,di=!1,Gs=wi(e,r),Xf=!1,Qs=Zn=Wf=Wa=Wi=we=0,Mr=ml=null,Zf=!1,(r&8)!==0&&(r|=r&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=r;0<l;){var h=31-mn(l),d=1<<h;r|=e[h],l&=~d}return mi=r,Vu(),s}function av(e,r){Ut=null,R.H=Or,r===Yo?(r=Eg(),de=3):r===yg?(r=Eg(),de=4):de=r===vy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Vn=r,Bt===null&&(we=1,tc(e,Gn(r,e.current)))}function sv(){var e=R.H;return R.H=Or,e===null?Or:e}function ov(){var e=R.A;return R.A=Rx,e}function ad(){we=4,di||($t&4194176)!==$t&&Kn.current!==null||(Gs=!0),(Wi&134217727)===0&&(Wa&134217727)===0||fe===null||pi(fe,$t,Zn,!1)}function sd(e,r,s){var l=ve;ve|=2;var h=sv(),d=ov();(fe!==e||$t!==r)&&(lc=null,$s(e,r)),r=!1;var E=we;t:do try{if(de!==0&&Bt!==null){var w=Bt,I=Vn;switch(de){case 8:id(),E=6;break t;case 3:case 2:case 6:Kn.current===null&&(r=!0);var B=de;if(de=0,Vn=null,Ks(e,w,I,B),s&&Gs){E=0;break t}break;default:B=de,de=0,Vn=null,Ks(e,w,I,B)}}Nx(),E=we;break}catch(W){av(e,W)}while(!0);return r&&e.shellSuspendCounter++,oi=$a=null,ve=l,R.H=h,R.A=d,Bt===null&&(fe=null,$t=0,Vu()),E}function Nx(){for(;Bt!==null;)lv(Bt)}function Ix(e,r){var s=ve;ve|=2;var l=sv(),h=ov();fe!==e||$t!==r?(lc=null,oc=be()+500,$s(e,r)):Gs=wi(e,r);t:do try{if(de!==0&&Bt!==null){r=Bt;var d=Vn;e:switch(de){case 1:de=0,Vn=null,Ks(e,r,d,1);break;case 2:if(vg(d)){de=0,Vn=null,uv(r);break}r=function(){de===2&&fe===e&&(de=7),Vr(e)},d.then(r,r);break t;case 3:de=7;break t;case 4:de=5;break t;case 7:vg(d)?(de=0,Vn=null,uv(r)):(de=0,Vn=null,Ks(e,r,d,7));break;case 5:var E=null;switch(Bt.tag){case 26:E=Bt.memoizedState;case 5:case 27:var w=Bt;if(!E||Uv(E)){de=0,Vn=null;var I=w.sibling;if(I!==null)Bt=I;else{var B=w.return;B!==null?(Bt=B,hc(B)):Bt=null}break e}}de=0,Vn=null,Ks(e,r,d,5);break;case 6:de=0,Vn=null,Ks(e,r,d,6);break;case 8:id(),we=6;break t;default:throw Error(a(462))}}Ox();break}catch(W){av(e,W)}while(!0);return oi=$a=null,R.H=l,R.A=h,ve=s,Bt!==null?0:(fe=null,$t=0,Vu(),we)}function Ox(){for(;Bt!==null&&!ba();)lv(Bt)}function lv(e){var r=Ny(e.alternate,e,mi);e.memoizedProps=e.pendingProps,r===null?hc(e):Bt=r}function uv(e){var r=e,s=r.alternate;switch(r.tag){case 15:case 0:r=Sy(s,r,r.pendingProps,r.type,void 0,$t);break;case 11:r=Sy(s,r,r.pendingProps,r.type.render,r.ref,$t);break;case 5:cf(r);default:ev(s,r),r=Bt=Zy(r,mi),r=Ny(s,r,mi)}e.memoizedProps=e.pendingProps,r===null?hc(e):Bt=r}function Ks(e,r,s,l){oi=$a=null,cf(r),js=null,Wo=0;var h=r.return;try{if(Ex(e,h,r,s,$t)){we=1,tc(e,Gn(s,e.current)),Bt=null;return}}catch(d){if(h!==null)throw Bt=h,d;we=1,tc(e,Gn(s,e.current)),Bt=null;return}r.flags&32768?(Jt||l===1?e=!0:Gs||($t&536870912)!==0?e=!1:(di=e=!0,(l===2||l===3||l===6)&&(l=Kn.current,l!==null&&l.tag===13&&(l.flags|=16384))),cv(r,e)):hc(r)}function hc(e){var r=e;do{if((r.flags&32768)!==0){cv(r,di);return}e=r.return;var s=wx(r.alternate,r,mi);if(s!==null){Bt=s;return}if(r=r.sibling,r!==null){Bt=r;return}Bt=r=e}while(r!==null);we===0&&(we=5)}function cv(e,r){do{var s=Ax(e.alternate,e);if(s!==null){s.flags&=32767,Bt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(e=e.sibling,e!==null)){Bt=e;return}Bt=e=s}while(e!==null);we=6,Bt=null}function hv(e,r,s,l,h,d,E,w,I,B){var W=R.T,nt=ot.p;try{ot.p=2,R.T=null,Mx(e,r,s,l,nt,h,d,E,w,I,B)}finally{R.T=W,ot.p=nt}}function Mx(e,r,s,l,h,d,E,w){do Ys();while(Za!==null);if((ve&6)!==0)throw Error(a(327));var I=e.finishedWork;if(l=e.finishedLanes,I===null)return null;if(e.finishedWork=null,e.finishedLanes=0,I===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var B=I.lanes|I.childLanes;if(B|=Kh,du(e,l,B,d,E,w),e===fe&&(Bt=fe=null,$t=0),(I.subtreeFlags&10256)===0&&(I.flags&10256)===0||uc||(uc=!0,td=B,ed=s,Lx(En,function(){return Ys(),null})),s=(I.flags&15990)!==0,(I.subtreeFlags&15990)!==0||s?(s=R.T,R.T=null,d=ot.p,ot.p=2,E=ve,ve|=4,bx(e,I),Gy(I,e),rx(vd,e.containerInfo),xc=!!yd,vd=yd=null,e.current=I,zy(e,I.alternate,I),_r(),ve=E,ot.p=d,R.T=s):e.current=I,uc?(uc=!1,Za=e,pl=l):fv(e,B),B=e.pendingLanes,B===0&&(Zi=null),rr(I.stateNode),Vr(e),r!==null)for(h=e.onRecoverableError,I=0;I<r.length;I++)B=r[I],h(B.value,{componentStack:B.stack});return(pl&3)!==0&&Ys(),B=e.pendingLanes,(l&4194218)!==0&&(B&42)!==0?e===nd?gl++:(gl=0,nd=e):gl=0,yl(0),null}function fv(e,r){(e.pooledCacheLanes&=r)===0&&(r=e.pooledCache,r!=null&&(e.pooledCache=null,Jo(r)))}function Ys(){if(Za!==null){var e=Za,r=td;td=0;var s=mu(pl),l=R.T,h=ot.p;try{if(ot.p=32>s?32:s,R.T=null,Za===null)var d=!1;else{s=ed,ed=null;var E=Za,w=pl;if(Za=null,pl=0,(ve&6)!==0)throw Error(a(331));var I=ve;if(ve|=4,Xy(E.current),$y(E,E.current,w,s),ve=I,yl(0,!1),he&&typeof he.onPostCommitFiberRoot=="function")try{he.onPostCommitFiberRoot(qt,E)}catch{}d=!0}return d}finally{ot.p=h,R.T=l,fv(e,r)}}return!1}function dv(e,r,s){r=Gn(s,r),r=Sf(e.stateNode,r,2),e=Qi(e,r,2),e!==null&&(De(e,2),Vr(e))}function ce(e,r,s){if(e.tag===3)dv(e,e,s);else for(;r!==null;){if(r.tag===3){dv(r,e,s);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Zi===null||!Zi.has(l))){e=Gn(s,e),s=gy(2),l=Qi(r,s,2),l!==null&&(yy(s,l,r,e),De(l,2),Vr(l));break}}r=r.return}}function od(e,r,s){var l=e.pingCache;if(l===null){l=e.pingCache=new Cx;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(s)||(Xf=!0,h.add(s),e=Vx.bind(null,e,r,s),r.then(e,e))}function Vx(e,r,s){var l=e.pingCache;l!==null&&l.delete(r),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,fe===e&&($t&s)===s&&(we===4||we===3&&($t&62914560)===$t&&300>be()-Jf?(ve&2)===0&&$s(e,0):Wf|=s,Qs===$t&&(Qs=0)),Vr(e)}function mv(e,r){r===0&&(r=Ai()),e=Ui(e,r),e!==null&&(De(e,r),Vr(e))}function jx(e){var r=e.memoizedState,s=0;r!==null&&(s=r.retryLane),mv(e,s)}function kx(e,r){var s=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(r),mv(e,s)}function Lx(e,r){return nr(e,r)}var fc=null,Xs=null,ld=!1,dc=!1,ud=!1,Ja=0;function Vr(e){e!==Xs&&e.next===null&&(Xs===null?fc=Xs=e:Xs=Xs.next=e),dc=!0,ld||(ld=!0,Px(Ux))}function yl(e,r){if(!ud&&dc){ud=!0;do for(var s=!1,l=fc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var E=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-mn(42|e)+1)-1,d&=h&~(E&~w),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(s=!0,yv(l,d))}else d=$t,d=Un(l,l===fe?d:0),(d&3)===0||wi(l,d)||(s=!0,yv(l,d));l=l.next}while(s);ud=!1}}function Ux(){dc=ld=!1;var e=0;Ja!==0&&($x()&&(e=Ja),Ja=0);for(var r=be(),s=null,l=fc;l!==null;){var h=l.next,d=pv(l,r);d===0?(l.next=null,s===null?fc=h:s.next=h,h===null&&(Xs=s)):(s=l,(e!==0||(d&3)!==0)&&(dc=!0)),l=h}yl(e)}function pv(e,r){for(var s=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var E=31-mn(d),w=1<<E,I=h[E];I===-1?((w&s)===0||(w&l)!==0)&&(h[E]=ms(w,r)):I<=r&&(e.expiredLanes|=w),d&=~w}if(r=fe,s=$t,s=Un(e,e===r?s:0),l=e.callbackNode,s===0||e===r&&de===2||e.cancelPendingCommit!==null)return l!==null&&l!==null&&vr(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||wi(e,s)){if(r=s&-s,r===e.callbackPriority)return r;switch(l!==null&&vr(l),mu(s)){case 2:case 8:s=ue;break;case 32:s=En;break;case 268435456:s=Qr;break;default:s=En}return l=gv.bind(null,e),s=nr(s,l),e.callbackPriority=r,e.callbackNode=s,r}return l!==null&&l!==null&&vr(l),e.callbackPriority=2,e.callbackNode=null,2}function gv(e,r){var s=e.callbackNode;if(Ys()&&e.callbackNode!==s)return null;var l=$t;return l=Un(e,e===fe?l:0),l===0?null:(rv(e,l,r),pv(e,be()),e.callbackNode!=null&&e.callbackNode===s?gv.bind(null,e):null)}function yv(e,r){if(Ys())return null;rv(e,r,!0)}function Px(e){Yx(function(){(ve&6)!==0?nr(Et,e):e()})}function cd(){return Ja===0&&(Ja=Co()),Ja}function vv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:xr(""+e)}function _v(e,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,e.id&&s.setAttribute("form",e.id),r.parentNode.insertBefore(s,r),e=new FormData(e),s.parentNode.removeChild(s),e}function Bx(e,r,s,l,h){if(r==="submit"&&s&&s.stateNode===h){var d=vv((h[Le]||null).action),E=l.submitter;E&&(r=(r=E[Le]||null)?vv(r.formAction):E.getAttribute("formAction"),r!==null&&(d=r,E=null));var w=new Ts("action","action",null,l,h);e.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ja!==0){var I=E?_v(h,E):new FormData(h);_f(s,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(w.preventDefault(),I=E?_v(h,E):new FormData(h),_f(s,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var hd=0;hd<hg.length;hd++){var fd=hg[hd],zx=fd.toLowerCase(),qx=fd[0].toUpperCase()+fd.slice(1);sr(zx,"on"+qx)}sr(sg,"onAnimationEnd"),sr(og,"onAnimationIteration"),sr(lg,"onAnimationStart"),sr("dblclick","onDoubleClick"),sr("focusin","onFocus"),sr("focusout","onBlur"),sr(ax,"onTransitionRun"),sr(sx,"onTransitionStart"),sr(ox,"onTransitionCancel"),sr(ug,"onTransitionEnd"),Tn("onMouseEnter",["mouseout","mouseover"]),Tn("onMouseLeave",["mouseout","mouseover"]),Tn("onPointerEnter",["pointerout","pointerover"]),Tn("onPointerLeave",["pointerout","pointerover"]),Dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Dn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vl));function Ev(e,r){r=(r&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],h=l.event;l=l.listeners;t:{var d=void 0;if(r)for(var E=l.length-1;0<=E;E--){var w=l[E],I=w.instance,B=w.currentTarget;if(w=w.listener,I!==d&&h.isPropagationStopped())break t;d=w,h.currentTarget=B;try{d(h)}catch(W){Ju(W)}h.currentTarget=null,d=I}else for(E=0;E<l.length;E++){if(w=l[E],I=w.instance,B=w.currentTarget,w=w.listener,I!==d&&h.isPropagationStopped())break t;d=w,h.currentTarget=B;try{d(h)}catch(W){Ju(W)}h.currentTarget=null,d=I}}}}function Ht(e,r){var s=r[Sa];s===void 0&&(s=r[Sa]=new Set);var l=e+"__bubble";s.has(l)||(Tv(r,e,2,!1),s.add(l))}function dd(e,r,s){var l=0;r&&(l|=4),Tv(s,e,l,r)}var mc="_reactListening"+Math.random().toString(36).slice(2);function md(e){if(!e[mc]){e[mc]=!0,No.forEach(function(s){s!=="selectionchange"&&(Hx.has(s)||dd(s,!1,e),dd(s,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[mc]||(r[mc]=!0,dd("selectionchange",!1,r))}}function Tv(e,r,s,l){switch(Fv(r)){case 2:var h=pS;break;case 8:h=gS;break;default:h=Rd}s=h.bind(null,r,s,e),h=void 0,!qn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(r,s,{capture:!0,passive:h}):e.addEventListener(r,s,!0):h!==void 0?e.addEventListener(r,s,{passive:h}):e.addEventListener(r,s,!1)}function pd(e,r,s,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)t:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var w=l.stateNode.containerInfo;if(w===h||w.nodeType===8&&w.parentNode===h)break;if(E===4)for(E=l.return;E!==null;){var I=E.tag;if((I===3||I===4)&&(I=E.stateNode.containerInfo,I===h||I.nodeType===8&&I.parentNode===h))return;E=E.return}for(;w!==null;){if(E=ar(w),E===null)return;if(I=E.tag,I===5||I===6||I===26||I===27){l=d=E;continue t}w=w.parentNode}}l=l.return}_u(function(){var B=d,W=Es(s),nt=[];t:{var $=cg.get(e);if($!==void 0){var X=Ts,yt=e;switch(e){case"keypress":if(wr(s)===0)break t;case"keydown":case"keyup":X=Rs;break;case"focusin":yt="focus",X=Ss;break;case"focusout":yt="blur",X=Ss;break;case"beforeblur":case"afterblur":X=Ss;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Bh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Ru;break;case sg:case og:case lg:X=ws;break;case ug:X=Du;break;case"scroll":case"scrollend":X=Eu;break;case"wheel":X=Cs;break;case"copy":case"cut":case"paste":X=As;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=qo;break;case"toggle":case"beforetoggle":X=Iu}var Dt=(r&4)!==0,Ae=!Dt&&(e==="scroll"||e==="scrollend"),q=Dt?$!==null?$+"Capture":null:$;Dt=[];for(var P=B,G;P!==null;){var Z=P;if(G=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||G===null||q===null||(Z=Da(P,q),Z!=null&&Dt.push(_l(P,Z,G))),Ae)break;P=P.return}0<Dt.length&&($=new X($,yt,null,s,W),nt.push({event:$,listeners:Dt}))}}if((r&7)===0){t:{if($=e==="mouseover"||e==="pointerover",X=e==="mouseout"||e==="pointerout",$&&s!==zn&&(yt=s.relatedTarget||s.fromElement)&&(ar(yt)||yt[$r]))break t;if((X||$)&&($=W.window===W?W:($=W.ownerDocument)?$.defaultView||$.parentWindow:window,X?(yt=s.relatedTarget||s.toElement,X=B,yt=yt?ar(yt):null,yt!==null&&(Ae=ut(yt),Dt=yt.tag,yt!==Ae||Dt!==5&&Dt!==27&&Dt!==6)&&(yt=null)):(X=null,yt=B),X!==yt)){if(Dt=Hn,Z="onMouseLeave",q="onMouseEnter",P="mouse",(e==="pointerout"||e==="pointerover")&&(Dt=qo,Z="onPointerLeave",q="onPointerEnter",P="pointer"),Ae=X==null?$:Ii(X),G=yt==null?$:Ii(yt),$=new Dt(Z,P+"leave",X,s,W),$.target=Ae,$.relatedTarget=G,Z=null,ar(W)===B&&(Dt=new Dt(q,P+"enter",yt,s,W),Dt.target=G,Dt.relatedTarget=Ae,Z=Dt),Ae=Z,X&&yt)e:{for(Dt=X,q=yt,P=0,G=Dt;G;G=Ws(G))P++;for(G=0,Z=q;Z;Z=Ws(Z))G++;for(;0<P-G;)Dt=Ws(Dt),P--;for(;0<G-P;)q=Ws(q),G--;for(;P--;){if(Dt===q||q!==null&&Dt===q.alternate)break e;Dt=Ws(Dt),q=Ws(q)}Dt=null}else Dt=null;X!==null&&bv(nt,$,X,Dt,!1),yt!==null&&Ae!==null&&bv(nt,Ae,yt,Dt,!0)}}t:{if($=B?Ii(B):window,X=$.nodeName&&$.nodeName.toLowerCase(),X==="select"||X==="input"&&$.type==="file")var pt=Yp;else if(Pe($))if(Xp)pt=ex;else{pt=Jb;var Pt=Zb}else X=$.nodeName,!X||X.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?B&&jo(B.elementType)&&(pt=Yp):pt=tx;if(pt&&(pt=pt(e,B))){ei(nt,pt,s,W);break t}Pt&&Pt(e,$,B),e==="focusout"&&B&&$.type==="number"&&B.memoizedProps.value!=null&&_s($,"number",$.value)}switch(Pt=B?Ii(B):window,e){case"focusin":(Pe(Pt)||Pt.contentEditable==="true")&&(Ds=Pt,Gh=B,Go=null);break;case"focusout":Go=Gh=Ds=null;break;case"mousedown":Qh=!0;break;case"contextmenu":case"mouseup":case"dragend":Qh=!1,ig(nt,s,W);break;case"selectionchange":if(ix)break;case"keydown":case"keyup":ig(nt,s,W)}var vt;if(Cr)t:{switch(e){case"compositionstart":var bt="onCompositionStart";break t;case"compositionend":bt="onCompositionEnd";break t;case"compositionupdate":bt="onCompositionUpdate";break t}bt=void 0}else Gt?Y(e,s)&&(bt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(bt="onCompositionStart");bt&&(_&&s.locale!=="ko"&&(Gt||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&Gt&&(vt=Lo()):(Sr=W,Li="value"in Sr?Sr.value:Sr.textContent,Gt=!0)),Pt=pc(B,bt),0<Pt.length&&(bt=new Bo(bt,e,null,s,W),nt.push({event:bt,listeners:Pt}),vt?bt.data=vt:(vt=lt(s),vt!==null&&(bt.data=vt)))),(vt=y?Ue(e,s):Qt(e,s))&&(bt=pc(B,"onBeforeInput"),0<bt.length&&(Pt=new Bo("onBeforeInput","beforeinput",null,s,W),nt.push({event:Pt,listeners:bt}),Pt.data=vt)),Bx(nt,e,B,s,W)}Ev(nt,r)})}function _l(e,r,s){return{instance:e,listener:r,currentTarget:s}}function pc(e,r){for(var s=r+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Da(e,s),h!=null&&l.unshift(_l(e,h,d)),h=Da(e,r),h!=null&&l.push(_l(e,h,d))),e=e.return}return l}function Ws(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function bv(e,r,s,l,h){for(var d=r._reactName,E=[];s!==null&&s!==l;){var w=s,I=w.alternate,B=w.stateNode;if(w=w.tag,I!==null&&I===l)break;w!==5&&w!==26&&w!==27||B===null||(I=B,h?(B=Da(s,d),B!=null&&E.unshift(_l(s,B,I))):h||(B=Da(s,d),B!=null&&E.push(_l(s,B,I)))),s=s.return}E.length!==0&&e.push({event:r,listeners:E})}var Fx=/\r\n?/g,Gx=/\u0000|\uFFFD/g;function xv(e){return(typeof e=="string"?e:""+e).replace(Fx,`
`).replace(Gx,"")}function Sv(e,r){return r=xv(r),xv(e)===r}function gc(){}function se(e,r,s,l,h,d){switch(s){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Bn(e,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Bn(e,""+l);break;case"className":Vi(e,"class",l);break;case"tabIndex":Vi(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Vi(e,s,l);break;case"style":vu(e,l,d);break;case"data":if(r!=="object"){Vi(e,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=xr(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(r!=="input"&&se(e,r,"name",h.name,h,null),se(e,r,"formEncType",h.formEncType,h,null),se(e,r,"formMethod",h.formMethod,h,null),se(e,r,"formTarget",h.formTarget,h,null)):(se(e,r,"encType",h.encType,h,null),se(e,r,"method",h.method,h,null),se(e,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=xr(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=gc);break;case"onScroll":l!=null&&Ht("scroll",e);break;case"onScrollEnd":l!=null&&Ht("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=xr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":Ht("beforetoggle",e),Ht("toggle",e),Mi(e,"popover",l);break;case"xlinkActuate":Pn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Pn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Pn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Pn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Pn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Pn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Pn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Pn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Pn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Mi(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Uh.get(s)||s,Mi(e,s,l))}}function gd(e,r,s,l,h,d){switch(s){case"style":vu(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof l=="string"?Bn(e,l):(typeof l=="number"||typeof l=="bigint")&&Bn(e,""+l);break;case"onScroll":l!=null&&Ht("scroll",e);break;case"onScrollEnd":l!=null&&Ht("scrollend",e);break;case"onClick":l!=null&&(e.onclick=gc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ys.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),r=s.slice(2,h?s.length-7:void 0),d=e[Le]||null,d=d!=null?d[s]:null,typeof d=="function"&&e.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(r,l,h);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):Mi(e,s,l)}}}function en(e,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ht("error",e),Ht("load",e);var l=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var E=s[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:se(e,r,d,E,s,null)}}h&&se(e,r,"srcSet",s.srcSet,s,null),l&&se(e,r,"src",s.src,s,null);return;case"input":Ht("invalid",e);var w=d=E=h=null,I=null,B=null;for(l in s)if(s.hasOwnProperty(l)){var W=s[l];if(W!=null)switch(l){case"name":h=W;break;case"type":E=W;break;case"checked":I=W;break;case"defaultChecked":B=W;break;case"value":d=W;break;case"defaultValue":w=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(a(137,r));break;default:se(e,r,l,W,s,null)}}Ra(e,d,w,I,B,E,h,!1),Aa(e);return;case"select":Ht("invalid",e),l=E=d=null;for(h in s)if(s.hasOwnProperty(h)&&(w=s[h],w!=null))switch(h){case"value":d=w;break;case"defaultValue":E=w;break;case"multiple":l=w;default:se(e,r,h,w,s,null)}r=d,s=E,e.multiple=!!l,r!=null?Zt(e,!!l,r,!1):s!=null&&Zt(e,!!l,s,!0);return;case"textarea":Ht("invalid",e),d=h=l=null;for(E in s)if(s.hasOwnProperty(E)&&(w=s[E],w!=null))switch(E){case"value":l=w;break;case"defaultValue":h=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(a(91));break;default:se(e,r,E,w,s,null)}ki(e,l,h,d),Aa(e);return;case"option":for(I in s)if(s.hasOwnProperty(I)&&(l=s[I],l!=null))switch(I){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:se(e,r,I,l,s,null)}return;case"dialog":Ht("cancel",e),Ht("close",e);break;case"iframe":case"object":Ht("load",e);break;case"video":case"audio":for(l=0;l<vl.length;l++)Ht(vl[l],e);break;case"image":Ht("error",e),Ht("load",e);break;case"details":Ht("toggle",e);break;case"embed":case"source":case"link":Ht("error",e),Ht("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in s)if(s.hasOwnProperty(B)&&(l=s[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:se(e,r,B,l,s,null)}return;default:if(jo(r)){for(W in s)s.hasOwnProperty(W)&&(l=s[W],l!==void 0&&gd(e,r,W,l,s,void 0));return}}for(w in s)s.hasOwnProperty(w)&&(l=s[w],l!=null&&se(e,r,w,l,s,null))}function Qx(e,r,s,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,E=null,w=null,I=null,B=null,W=null;for(X in s){var nt=s[X];if(s.hasOwnProperty(X)&&nt!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":I=nt;default:l.hasOwnProperty(X)||se(e,r,X,null,l,nt)}}for(var $ in l){var X=l[$];if(nt=s[$],l.hasOwnProperty($)&&(X!=null||nt!=null))switch($){case"type":d=X;break;case"name":h=X;break;case"checked":B=X;break;case"defaultChecked":W=X;break;case"value":E=X;break;case"defaultValue":w=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(a(137,r));break;default:X!==nt&&se(e,r,$,X,l,nt)}}ji(e,E,w,I,B,W,d,h);return;case"select":X=E=w=$=null;for(d in s)if(I=s[d],s.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":X=I;default:l.hasOwnProperty(d)||se(e,r,d,null,l,I)}for(h in l)if(d=l[h],I=s[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":$=d;break;case"defaultValue":w=d;break;case"multiple":E=d;default:d!==I&&se(e,r,h,d,l,I)}r=w,s=E,l=X,$!=null?Zt(e,!!s,$,!1):!!l!=!!s&&(r!=null?Zt(e,!!s,r,!0):Zt(e,!!s,s?[]:"",!1));return;case"textarea":X=$=null;for(w in s)if(h=s[w],s.hasOwnProperty(w)&&h!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:se(e,r,w,null,l,h)}for(E in l)if(h=l[E],d=s[E],l.hasOwnProperty(E)&&(h!=null||d!=null))switch(E){case"value":$=h;break;case"defaultValue":X=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==d&&se(e,r,E,h,l,d)}Ca(e,$,X);return;case"option":for(var yt in s)if($=s[yt],s.hasOwnProperty(yt)&&$!=null&&!l.hasOwnProperty(yt))switch(yt){case"selected":e.selected=!1;break;default:se(e,r,yt,null,l,$)}for(I in l)if($=l[I],X=s[I],l.hasOwnProperty(I)&&$!==X&&($!=null||X!=null))switch(I){case"selected":e.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:se(e,r,I,$,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Dt in s)$=s[Dt],s.hasOwnProperty(Dt)&&$!=null&&!l.hasOwnProperty(Dt)&&se(e,r,Dt,null,l,$);for(B in l)if($=l[B],X=s[B],l.hasOwnProperty(B)&&$!==X&&($!=null||X!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(a(137,r));break;default:se(e,r,B,$,l,X)}return;default:if(jo(r)){for(var Ae in s)$=s[Ae],s.hasOwnProperty(Ae)&&$!==void 0&&!l.hasOwnProperty(Ae)&&gd(e,r,Ae,void 0,l,$);for(W in l)$=l[W],X=s[W],!l.hasOwnProperty(W)||$===X||$===void 0&&X===void 0||gd(e,r,W,$,l,X);return}}for(var q in s)$=s[q],s.hasOwnProperty(q)&&$!=null&&!l.hasOwnProperty(q)&&se(e,r,q,null,l,$);for(nt in l)$=l[nt],X=s[nt],!l.hasOwnProperty(nt)||$===X||$==null&&X==null||se(e,r,nt,$,l,X)}var yd=null,vd=null;function yc(e){return e.nodeType===9?e:e.ownerDocument}function wv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Av(e,r){if(e===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&r==="foreignObject"?0:e}function _d(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Ed=null;function $x(){var e=window.event;return e&&e.type==="popstate"?e===Ed?!1:(Ed=e,!0):(Ed=null,!1)}var Rv=typeof setTimeout=="function"?setTimeout:void 0,Kx=typeof clearTimeout=="function"?clearTimeout:void 0,Cv=typeof Promise=="function"?Promise:void 0,Yx=typeof queueMicrotask=="function"?queueMicrotask:typeof Cv<"u"?function(e){return Cv.resolve(null).then(e).catch(Xx)}:Rv;function Xx(e){setTimeout(function(){throw e})}function Td(e,r){var s=r,l=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"){if(l===0){e.removeChild(h),Rl(r);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=h}while(s);Rl(r)}function bd(e){var r=e.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":bd(s),wa(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function Wx(e,r,s,l){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Ni])switch(r){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(r==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=ur(e.nextSibling),e===null)break}return null}function Zx(e,r,s){if(r==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=ur(e.nextSibling),e===null))return null;return e}function ur(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return e}function Dv(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return e;r--}else s==="/$"&&r++}e=e.previousSibling}return null}function Nv(e,r,s){switch(r=yc(s),e){case"html":if(e=r.documentElement,!e)throw Error(a(452));return e;case"head":if(e=r.head,!e)throw Error(a(453));return e;case"body":if(e=r.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}var Jn=new Map,Iv=new Set;function vc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var gi=ot.d;ot.d={f:Jx,r:tS,D:eS,C:nS,L:rS,m:iS,X:sS,S:aS,M:oS};function Jx(){var e=gi.f(),r=cc();return e||r}function tS(e){var r=Kr(e);r!==null&&r.tag===5&&r.type==="form"?iy(r):gi.r(e)}var Zs=typeof document>"u"?null:document;function Ov(e,r,s){var l=Zs;if(l&&typeof r=="string"&&r){var h=xe(r);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Iv.has(h)||(Iv.add(h),e={rel:e,crossOrigin:s,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),en(r,"link",e),ge(r),l.head.appendChild(r)))}}function eS(e){gi.D(e),Ov("dns-prefetch",e,null)}function nS(e,r){gi.C(e,r),Ov("preconnect",e,r)}function rS(e,r,s){gi.L(e,r,s);var l=Zs;if(l&&e&&r){var h='link[rel="preload"][as="'+xe(r)+'"]';r==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+xe(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+xe(s.imageSizes)+'"]')):h+='[href="'+xe(e)+'"]';var d=h;switch(r){case"style":d=Js(e);break;case"script":d=to(e)}Jn.has(d)||(e=O({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:e,as:r},s),Jn.set(d,e),l.querySelector(h)!==null||r==="style"&&l.querySelector(El(d))||r==="script"&&l.querySelector(Tl(d))||(r=l.createElement("link"),en(r,"link",e),ge(r),l.head.appendChild(r)))}}function iS(e,r){gi.m(e,r);var s=Zs;if(s&&e){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+xe(l)+'"][href="'+xe(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=to(e)}if(!Jn.has(d)&&(e=O({rel:"modulepreload",href:e},r),Jn.set(d,e),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Tl(d)))return}l=s.createElement("link"),en(l,"link",e),ge(l),s.head.appendChild(l)}}}function aS(e,r,s){gi.S(e,r,s);var l=Zs;if(l&&e){var h=Oi(l).hoistableStyles,d=Js(e);r=r||"default";var E=h.get(d);if(!E){var w={loading:0,preload:null};if(E=l.querySelector(El(d)))w.loading=5;else{e=O({rel:"stylesheet",href:e,"data-precedence":r},s),(s=Jn.get(d))&&xd(e,s);var I=E=l.createElement("link");ge(I),en(I,"link",e),I._p=new Promise(function(B,W){I.onload=B,I.onerror=W}),I.addEventListener("load",function(){w.loading|=1}),I.addEventListener("error",function(){w.loading|=2}),w.loading|=4,_c(E,r,l)}E={type:"stylesheet",instance:E,count:1,state:w},h.set(d,E)}}}function sS(e,r){gi.X(e,r);var s=Zs;if(s&&e){var l=Oi(s).hoistableScripts,h=to(e),d=l.get(h);d||(d=s.querySelector(Tl(h)),d||(e=O({src:e,async:!0},r),(r=Jn.get(h))&&Sd(e,r),d=s.createElement("script"),ge(d),en(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function oS(e,r){gi.M(e,r);var s=Zs;if(s&&e){var l=Oi(s).hoistableScripts,h=to(e),d=l.get(h);d||(d=s.querySelector(Tl(h)),d||(e=O({src:e,async:!0,type:"module"},r),(r=Jn.get(h))&&Sd(e,r),d=s.createElement("script"),ge(d),en(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Mv(e,r,s,l){var h=(h=Te.current)?vc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=Js(s.href),s=Oi(h).hoistableStyles,l=s.get(r),l||(l={type:"style",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Js(s.href);var d=Oi(h).hoistableStyles,E=d.get(e);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,E),(d=h.querySelector(El(e)))&&!d._p&&(E.instance=d,E.state.loading=5),Jn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Jn.set(e,s),d||lS(h,e,s,E.state))),r&&l===null)throw Error(a(528,""));return E}if(r&&l!==null)throw Error(a(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=to(s),s=Oi(h).hoistableScripts,l=s.get(r),l||(l={type:"script",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Js(e){return'href="'+xe(e)+'"'}function El(e){return'link[rel="stylesheet"]['+e+"]"}function Vv(e){return O({},e,{"data-precedence":e.precedence,precedence:null})}function lS(e,r,s,l){e.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=e.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),en(r,"link",s),ge(r),e.head.appendChild(r))}function to(e){return'[src="'+xe(e)+'"]'}function Tl(e){return"script[async]"+e}function jv(e,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var l=e.querySelector('style[data-href~="'+xe(s.href)+'"]');if(l)return r.instance=l,ge(l),l;var h=O({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ge(l),en(l,"style",h),_c(l,s.precedence,e),r.instance=l;case"stylesheet":h=Js(s.href);var d=e.querySelector(El(h));if(d)return r.state.loading|=4,r.instance=d,ge(d),d;l=Vv(s),(h=Jn.get(h))&&xd(l,h),d=(e.ownerDocument||e).createElement("link"),ge(d);var E=d;return E._p=new Promise(function(w,I){E.onload=w,E.onerror=I}),en(d,"link",l),r.state.loading|=4,_c(d,s.precedence,e),r.instance=d;case"script":return d=to(s.src),(h=e.querySelector(Tl(d)))?(r.instance=h,ge(h),h):(l=s,(h=Jn.get(d))&&(l=O({},s),Sd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),ge(h),en(h,"link",l),e.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,_c(l,s.precedence,e));return r.instance}function _c(e,r,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,E=0;E<l.length;E++){var w=l[E];if(w.dataset.precedence===r)d=w;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(e,r.firstChild))}function xd(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.title==null&&(e.title=r.title)}function Sd(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.integrity==null&&(e.integrity=r.integrity)}var Ec=null;function kv(e,r,s){if(Ec===null){var l=new Map,h=Ec=new Map;h.set(s,l)}else h=Ec,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var d=s[h];if(!(d[Ni]||d[Ge]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(r)||"";E=e+E;var w=l.get(E);w?w.push(d):l.set(E,[d])}}return l}function Lv(e,r,s){e=e.ownerDocument||e,e.head.insertBefore(s,r==="title"?e.querySelector("head > title"):null)}function uS(e,r,s){if(s===1||r.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return e=r.disabled,typeof r.precedence=="string"&&e==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Uv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var bl=null;function cS(){}function hS(e,r,s){if(bl===null)throw Error(a(475));var l=bl;if(r.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Js(s.href),d=e.querySelector(El(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Tc.bind(l),e.then(l,l)),r.state.loading|=4,r.instance=d,ge(d);return}d=e.ownerDocument||e,s=Vv(s),(h=Jn.get(h))&&xd(s,h),d=d.createElement("link"),ge(d);var E=d;E._p=new Promise(function(w,I){E.onload=w,E.onerror=I}),en(d,"link",s),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,e),(e=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Tc.bind(l),e.addEventListener("load",r),e.addEventListener("error",r))}}function fS(){if(bl===null)throw Error(a(475));var e=bl;return e.stylesheets&&e.count===0&&wd(e,e.stylesheets),0<e.count?function(r){var s=setTimeout(function(){if(e.stylesheets&&wd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(s)}}:null}function Tc(){if(this.count--,this.count===0){if(this.stylesheets)wd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var bc=null;function wd(e,r){e.stylesheets=null,e.unsuspend!==null&&(e.count++,bc=new Map,r.forEach(dS,e),bc=null,Tc.call(e))}function dS(e,r){if(!(r.state.loading&4)){var s=bc.get(e);if(s)var l=s.get(null);else{s=new Map,bc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var E=h[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(s.set(E.dataset.precedence,E),l=E)}l&&s.set(null,l)}h=r.instance,E=h.getAttribute("data-precedence"),d=s.get(E)||l,d===l&&s.set(null,h),s.set(E,h),this.count++,l=Tc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),r.state.loading|=4}}var xl={$$typeof:D,Provider:null,Consumer:null,_currentValue:St,_currentValue2:St,_threadCount:0};function mS(e,r,s,l,h,d,E,w){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ps(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ps(0),this.hiddenUpdates=ps(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Pv(e,r,s,l,h,d,E,w,I,B,W,nt){return e=new mS(e,r,s,E,w,I,B,nt),r=1,d===!0&&(r|=24),d=Wn(3,null,null,r),e.current=d,d.stateNode=e,r=nf(),r.refCount++,e.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:r},Lf(d),e}function Bv(e){return e?(e=Os,e):Os}function zv(e,r,s,l,h,d){h=Bv(h),l.context===null?l.context=h:l.pendingContext=h,l=Gi(r),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=Qi(e,l,r),s!==null&&(vn(s,e,r),sl(s,e,r))}function qv(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<r?s:r}}function Ad(e,r){qv(e,r),(e=e.alternate)&&qv(e,r)}function Hv(e){if(e.tag===13){var r=Ui(e,67108864);r!==null&&vn(r,e,67108864),Ad(e,67108864)}}var xc=!0;function pS(e,r,s,l){var h=R.T;R.T=null;var d=ot.p;try{ot.p=2,Rd(e,r,s,l)}finally{ot.p=d,R.T=h}}function gS(e,r,s,l){var h=R.T;R.T=null;var d=ot.p;try{ot.p=8,Rd(e,r,s,l)}finally{ot.p=d,R.T=h}}function Rd(e,r,s,l){if(xc){var h=Cd(l);if(h===null)pd(e,r,l,Sc,s),Gv(e,l);else if(vS(h,e,r,s,l))l.stopPropagation();else if(Gv(e,l),r&4&&-1<yS.indexOf(e)){for(;h!==null;){var d=Kr(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=ir(d.pendingLanes);if(E!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;E;){var I=1<<31-mn(E);w.entanglements[1]|=I,E&=~I}Vr(d),(ve&6)===0&&(oc=be()+500,yl(0))}}break;case 13:w=Ui(d,2),w!==null&&vn(w,d,2),cc(),Ad(d,2)}if(d=Cd(l),d===null&&pd(e,r,l,Sc,s),d===h)break;h=d}h!==null&&l.stopPropagation()}else pd(e,r,l,null,s)}}function Cd(e){return e=Es(e),Dd(e)}var Sc=null;function Dd(e){if(Sc=null,e=ar(e),e!==null){var r=ut(e);if(r===null)e=null;else{var s=r.tag;if(s===13){if(e=At(r),e!==null)return e;e=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null)}}return Sc=e,null}function Fv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gr()){case Et:return 2;case ue:return 8;case En:case xa:return 32;case Qr:return 268435456;default:return 32}default:return 32}}var Nd=!1,Ji=null,ta=null,ea=null,Sl=new Map,wl=new Map,na=[],yS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gv(e,r){switch(e){case"focusin":case"focusout":Ji=null;break;case"dragenter":case"dragleave":ta=null;break;case"mouseover":case"mouseout":ea=null;break;case"pointerover":case"pointerout":Sl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":wl.delete(r.pointerId)}}function Al(e,r,s,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:r,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=Kr(r),r!==null&&Hv(r)),e):(e.eventSystemFlags|=l,r=e.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),e)}function vS(e,r,s,l,h){switch(r){case"focusin":return Ji=Al(Ji,e,r,s,l,h),!0;case"dragenter":return ta=Al(ta,e,r,s,l,h),!0;case"mouseover":return ea=Al(ea,e,r,s,l,h),!0;case"pointerover":var d=h.pointerId;return Sl.set(d,Al(Sl.get(d)||null,e,r,s,l,h)),!0;case"gotpointercapture":return d=h.pointerId,wl.set(d,Al(wl.get(d)||null,e,r,s,l,h)),!0}return!1}function Qv(e){var r=ar(e.target);if(r!==null){var s=ut(r);if(s!==null){if(r=s.tag,r===13){if(r=At(s),r!==null){e.blockedOn=r,Di(e.priority,function(){if(s.tag===13){var l=jn(),h=Ui(s,l);h!==null&&vn(h,s,l),Ad(s,l)}});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wc(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var s=Cd(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);zn=l,s.target.dispatchEvent(l),zn=null}else return r=Kr(s),r!==null&&Hv(r),e.blockedOn=s,!1;r.shift()}return!0}function $v(e,r,s){wc(e)&&s.delete(r)}function _S(){Nd=!1,Ji!==null&&wc(Ji)&&(Ji=null),ta!==null&&wc(ta)&&(ta=null),ea!==null&&wc(ea)&&(ea=null),Sl.forEach($v),wl.forEach($v)}function Ac(e,r){e.blockedOn===r&&(e.blockedOn=null,Nd||(Nd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,_S)))}var Rc=null;function Kv(e){Rc!==e&&(Rc=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Rc===e&&(Rc=null);for(var r=0;r<e.length;r+=3){var s=e[r],l=e[r+1],h=e[r+2];if(typeof l!="function"){if(Dd(l||s)===null)continue;break}var d=Kr(s);d!==null&&(e.splice(r,3),r-=3,_f(d,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Rl(e){function r(I){return Ac(I,e)}Ji!==null&&Ac(Ji,e),ta!==null&&Ac(ta,e),ea!==null&&Ac(ea,e),Sl.forEach(r),wl.forEach(r);for(var s=0;s<na.length;s++){var l=na[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<na.length&&(s=na[0],s.blockedOn===null);)Qv(s),s.blockedOn===null&&na.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],d=s[l+1],E=h[Le]||null;if(typeof d=="function")E||Kv(s);else if(E){var w=null;if(d&&d.hasAttribute("formAction")){if(h=d,E=d[Le]||null)w=E.formAction;else if(Dd(h)!==null)continue}else w=E.action;typeof w=="function"?s[l+1]=w:(s.splice(l,3),l-=3),Kv(s)}}}function Id(e){this._internalRoot=e}Cc.prototype.render=Id.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(a(409));var s=r.current,l=jn();zv(s,l,e,r,null,null)},Cc.prototype.unmount=Id.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;e.tag===0&&Ys(),zv(e.current,2,null,e,null,null),cc(),r[$r]=null}};function Cc(e){this._internalRoot=e}Cc.prototype.unstable_scheduleHydration=function(e){if(e){var r=pu();e={blockedOn:null,target:e,priority:r};for(var s=0;s<na.length&&r!==0&&r<na[s].priority;s++);na.splice(s,0,e),s===0&&Qv(e)}};var Yv=t.version;if(Yv!=="19.0.0")throw Error(a(527,Yv,"19.0.0"));ot.findDOMNode=function(e){var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=tt(r),e=e!==null?dt(e):null,e=e===null?null:e.stateNode,e};var ES={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:R,findFiberByHostInstance:ar,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dc.isDisabled&&Dc.supportsFiber)try{qt=Dc.inject(ES),he=Dc}catch{}}return Dl.createRoot=function(e,r){if(!o(e))throw Error(a(299));var s=!1,l="",h=fy,d=dy,E=my,w=null;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(w=r.unstable_transitionCallbacks)),r=Pv(e,1,!1,null,null,s,l,h,d,E,w,null),e[$r]=r.current,md(e.nodeType===8?e.parentNode:e),new Id(r)},Dl.hydrateRoot=function(e,r,s){if(!o(e))throw Error(a(299));var l=!1,h="",d=fy,E=dy,w=my,I=null,B=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(E=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(I=s.unstable_transitionCallbacks),s.formState!==void 0&&(B=s.formState)),r=Pv(e,1,!0,r,s??null,l,h,d,E,w,I,B),r.context=Bv(null),s=r.current,l=jn(),h=Gi(l),h.callback=null,Qi(s,h,l),r.current.lanes=l,De(r,l),Vr(r),e[$r]=r.current,md(e),new Cc(r)},Dl.version="19.0.0",Dl}var a_;function IS(){if(a_)return jd.exports;a_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),jd.exports=NS(),jd.exports}var OS=IS(),Nl={},s_;function MS(){if(s_)return Nl;s_=1,Object.defineProperty(Nl,"__esModule",{value:!0}),Nl.parse=f,Nl.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function f(x,D){const M=new u,H=x.length;if(H<2)return M;const j=(D==null?void 0:D.decode)||T;let L=0;do{const Q=x.indexOf("=",L);if(Q===-1)break;const K=x.indexOf(";",L),rt=K===-1?H:K;if(Q>rt){L=x.lastIndexOf(";",Q-1)+1;continue}const at=m(x,L,Q),ct=p(x,Q,at),V=x.slice(at,ct);if(M[V]===void 0){let C=m(x,Q+1,rt),R=p(x,rt,C);const O=j(x.slice(C,R));M[V]=O}L=rt+1}while(L<H);return M}function m(x,D,M){do{const H=x.charCodeAt(D);if(H!==32&&H!==9)return D}while(++D<M);return M}function p(x,D,M){for(;D>M;){const H=x.charCodeAt(--D);if(H!==32&&H!==9)return D+1}return M}function g(x,D,M){const H=(M==null?void 0:M.encode)||encodeURIComponent;if(!i.test(x))throw new TypeError(`argument name is invalid: ${x}`);const j=H(D);if(!t.test(j))throw new TypeError(`argument val is invalid: ${D}`);let L=x+"="+j;if(!M)return L;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);L+="; Max-Age="+M.maxAge}if(M.domain){if(!n.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);L+="; Domain="+M.domain}if(M.path){if(!a.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);L+="; Path="+M.path}if(M.expires){if(!b(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);L+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&(L+="; HttpOnly"),M.secure&&(L+="; Secure"),M.partitioned&&(L+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":L+="; Priority=Low";break;case"medium":L+="; Priority=Medium";break;case"high":L+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":L+="; SameSite=Strict";break;case"lax":L+="; SameSite=Lax";break;case"none":L+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return L}function T(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function b(x){return o.call(x)==="[object Date]"}return Nl}MS();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var o_="popstate";function VS(i={}){function t(o,u){let{pathname:f="/",search:m="",hash:p=""}=cs(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),sm("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:zl(u))}function a(o,u){fr(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return kS(t,n,a,i)}function _e(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function fr(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function jS(){return Math.random().toString(36).substring(2,10)}function l_(i,t){return{usr:i.state,key:i.key,idx:t}}function sm(i,t,n=null,a){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof t=="string"?cs(t):t,state:n,key:t&&t.key||a||jS()}}function zl({pathname:i="/",search:t="",hash:n=""}){return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function cs(i){let t={};if(i){let n=i.indexOf("#");n>=0&&(t.hash=i.substring(n),i=i.substring(0,n));let a=i.indexOf("?");a>=0&&(t.search=i.substring(a),i=i.substring(0,a)),i&&(t.pathname=i)}return t}function kS(i,t,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,f=o.history,m="POP",p=null,g=T();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function T(){return(f.state||{idx:null}).idx}function b(){m="POP";let j=T(),L=j==null?null:j-g;g=j,p&&p({action:m,location:H.location,delta:L})}function x(j,L){m="PUSH";let Q=sm(H.location,j,L);n&&n(Q,j),g=T()+1;let K=l_(Q,g),rt=H.createHref(Q);try{f.pushState(K,"",rt)}catch(at){if(at instanceof DOMException&&at.name==="DataCloneError")throw at;o.location.assign(rt)}u&&p&&p({action:m,location:H.location,delta:1})}function D(j,L){m="REPLACE";let Q=sm(H.location,j,L);n&&n(Q,j),g=T();let K=l_(Q,g),rt=H.createHref(Q);f.replaceState(K,"",rt),u&&p&&p({action:m,location:H.location,delta:0})}function M(j){let L=o.location.origin!=="null"?o.location.origin:o.location.href,Q=typeof j=="string"?j:zl(j);return Q=Q.replace(/ $/,"%20"),_e(L,`No window.location.(origin|href) available to create URL for href: ${Q}`),new URL(Q,L)}let H={get action(){return m},get location(){return i(o,f)},listen(j){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(o_,b),p=j,()=>{o.removeEventListener(o_,b),p=null}},createHref(j){return t(o,j)},createURL:M,encodeLocation(j){let L=M(j);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:x,replace:D,go(j){return f.go(j)}};return H}function Q0(i,t,n="/"){return LS(i,t,n,!1)}function LS(i,t,n,a){let o=typeof t=="string"?cs(t):t,u=fa(o.pathname||"/",n);if(u==null)return null;let f=$0(i);US(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=YS(u);m=$S(f[p],g,a)}return m}function $0(i,t=[],n=[],a=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(_e(p.relativePath.startsWith(a),`Absolute route path "${p.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(a.length));let g=yi([a,p.relativePath]),T=n.concat(p);u.children&&u.children.length>0&&(_e(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),$0(u.children,t,T,g)),!(u.path==null&&!u.index)&&t.push({path:g,score:GS(g,u.index),routesMeta:T})};return i.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of K0(u.path))o(u,f,p)}),t}function K0(i){let t=i.split("/");if(t.length===0)return[];let[n,...a]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let f=K0(a.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function US(i){i.sort((t,n)=>t.score!==n.score?n.score-t.score:QS(t.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var PS=/^:[\w-]+$/,BS=3,zS=2,qS=1,HS=10,FS=-2,u_=i=>i==="*";function GS(i,t){let n=i.split("/"),a=n.length;return n.some(u_)&&(a+=FS),t&&(a+=zS),n.filter(o=>!u_(o)).reduce((o,u)=>o+(PS.test(u)?BS:u===""?qS:HS),a)}function QS(i,t){return i.length===t.length&&i.slice(0,-1).every((a,o)=>a===t[o])?i[i.length-1]-t[t.length-1]:0}function $S(i,t,n=!1){let{routesMeta:a}=i,o={},u="/",f=[];for(let m=0;m<a.length;++m){let p=a[m],g=m===a.length-1,T=u==="/"?t:t.slice(u.length)||"/",b=Kc({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},T),x=p.route;if(!b&&g&&n&&!a[a.length-1].route.index&&(b=Kc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:yi([u,b.pathname]),pathnameBase:JS(yi([u,b.pathnameBase])),route:x}),b.pathnameBase!=="/"&&(u=yi([u,b.pathnameBase]))}return f}function Kc(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,a]=KS(i.path,i.caseSensitive,i.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((g,{paramName:T,isOptional:b},x)=>{if(T==="*"){let M=m[x]||"";f=u.slice(0,u.length-M.length).replace(/(.)\/+$/,"$1")}const D=m[x];return b&&!D?g[T]=void 0:g[T]=(D||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:i}}function KS(i,t=!1,n=!0){fr(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let a=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(a.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(a.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),a]}function YS(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return fr(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),i}}function fa(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=i.charAt(n);return a&&a!=="/"?null:i.slice(n)||"/"}function XS(i,t="/"){let{pathname:n,search:a="",hash:o=""}=typeof i=="string"?cs(i):i;return{pathname:n?n.startsWith("/")?n:WS(n,t):t,search:tw(a),hash:ew(o)}}function WS(i,t){let n=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Pd(i,t,n,a){return`Cannot include a '${i}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ZS(i){return i.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Y0(i){let t=ZS(i);return t.map((n,a)=>a===t.length-1?n.pathname:n.pathnameBase)}function X0(i,t,n,a=!1){let o;typeof i=="string"?o=cs(i):(o={...i},_e(!o.pathname||!o.pathname.includes("?"),Pd("?","pathname","search",o)),_e(!o.pathname||!o.pathname.includes("#"),Pd("#","pathname","hash",o)),_e(!o.search||!o.search.includes("#"),Pd("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let b=t.length-1;if(!a&&f.startsWith("..")){let x=f.split("/");for(;x[0]==="..";)x.shift(),b-=1;o.pathname=x.join("/")}m=b>=0?t[b]:"/"}let p=XS(o,m),g=f&&f!=="/"&&f.endsWith("/"),T=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||T)&&(p.pathname+="/"),p}var yi=i=>i.join("/").replace(/\/\/+/g,"/"),JS=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),tw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,ew=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function nw(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var W0=["POST","PUT","PATCH","DELETE"];new Set(W0);var rw=["GET",...W0];new Set(rw);var _o=S.createContext(null);_o.displayName="DataRouter";var hh=S.createContext(null);hh.displayName="DataRouterState";var Z0=S.createContext({isTransitioning:!1});Z0.displayName="ViewTransition";var iw=S.createContext(new Map);iw.displayName="Fetchers";var aw=S.createContext(null);aw.displayName="Await";var qr=S.createContext(null);qr.displayName="Navigation";var tu=S.createContext(null);tu.displayName="Location";var bi=S.createContext({outlet:null,matches:[],isDataRoute:!1});bi.displayName="Route";var Fm=S.createContext(null);Fm.displayName="RouteError";function sw(i,{relative:t}={}){_e(eu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=S.useContext(qr),{hash:o,pathname:u,search:f}=nu(i,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:yi([n,u])),a.createHref({pathname:m,search:f,hash:o})}function eu(){return S.useContext(tu)!=null}function Hr(){return _e(eu(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(tu).location}var J0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function tE(i){S.useContext(qr).static||S.useLayoutEffect(i)}function mr(){let{isDataRoute:i}=S.useContext(bi);return i?_w():ow()}function ow(){_e(eu(),"useNavigate() may be used only in the context of a <Router> component.");let i=S.useContext(_o),{basename:t,navigator:n}=S.useContext(qr),{matches:a}=S.useContext(bi),{pathname:o}=Hr(),u=JSON.stringify(Y0(a)),f=S.useRef(!1);return tE(()=>{f.current=!0}),S.useCallback((p,g={})=>{if(fr(f.current,J0),!f.current)return;if(typeof p=="number"){n.go(p);return}let T=X0(p,JSON.parse(u),o,g.relative==="path");i==null&&t!=="/"&&(T.pathname=T.pathname==="/"?t:yi([t,T.pathname])),(g.replace?n.replace:n.push)(T,g.state,g)},[t,n,u,o,i])}S.createContext(null);function nu(i,{relative:t}={}){let{matches:n}=S.useContext(bi),{pathname:a}=Hr(),o=JSON.stringify(Y0(n));return S.useMemo(()=>X0(i,JSON.parse(o),a,t==="path"),[i,o,a,t])}function lw(i,t){return eE(i,t)}function eE(i,t,n,a){var Q;_e(eu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=S.useContext(qr),{matches:f}=S.useContext(bi),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",T=m?m.pathnameBase:"/",b=m&&m.route;{let K=b&&b.path||"";nE(g,!b||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let x=Hr(),D;if(t){let K=typeof t=="string"?cs(t):t;_e(T==="/"||((Q=K.pathname)==null?void 0:Q.startsWith(T)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${K.pathname}" was given in the \`location\` prop.`),D=K}else D=x;let M=D.pathname||"/",H=M;if(T!=="/"){let K=T.replace(/^\//,"").split("/");H="/"+M.replace(/^\//,"").split("/").slice(K.length).join("/")}let j=!u&&n&&n.matches&&n.matches.length>0?n.matches:Q0(i,{pathname:H});fr(b||j!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),fr(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=dw(j&&j.map(K=>Object.assign({},K,{params:Object.assign({},p,K.params),pathname:yi([T,o.encodeLocation?o.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?T:yi([T,o.encodeLocation?o.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),f,n,a);return t&&L?S.createElement(tu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},L):L}function uw(){let i=vw(),t=nw(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=S.createElement(S.Fragment,null,S.createElement("p",null,"💿 Hey developer 👋"),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:u},"ErrorBoundary")," or"," ",S.createElement("code",{style:u},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),n?S.createElement("pre",{style:o},n):null,f)}var cw=S.createElement(uw,null),hw=class extends S.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){console.error("React Router caught the following error during render",i,t)}render(){return this.state.error!==void 0?S.createElement(bi.Provider,{value:this.props.routeContext},S.createElement(Fm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function fw({routeContext:i,match:t,children:n}){let a=S.useContext(_o);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),S.createElement(bi.Provider,{value:i},n)}function dw(i,t=[],n=null,a=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);_e(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:T,errors:b}=n,x=g.route.loader&&!T.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||x){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,T)=>{let b,x=!1,D=null,M=null;n&&(b=u&&g.route.id?u[g.route.id]:void 0,D=g.route.errorElement||cw,f&&(m<0&&T===0?(nE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,M=null):m===T&&(x=!0,M=g.route.hydrateFallbackElement||null)));let H=t.concat(o.slice(0,T+1)),j=()=>{let L;return b?L=D:x?L=M:g.route.Component?L=S.createElement(g.route.Component,null):g.route.element?L=g.route.element:L=p,S.createElement(fw,{match:g,routeContext:{outlet:p,matches:H,isDataRoute:n!=null},children:L})};return n&&(g.route.ErrorBoundary||g.route.errorElement||T===0)?S.createElement(hw,{location:n.location,revalidation:n.revalidation,component:D,error:b,children:j(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):j()},null)}function Gm(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mw(i){let t=S.useContext(_o);return _e(t,Gm(i)),t}function pw(i){let t=S.useContext(hh);return _e(t,Gm(i)),t}function gw(i){let t=S.useContext(bi);return _e(t,Gm(i)),t}function Qm(i){let t=gw(i),n=t.matches[t.matches.length-1];return _e(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function yw(){return Qm("useRouteId")}function vw(){var a;let i=S.useContext(Fm),t=pw("useRouteError"),n=Qm("useRouteError");return i!==void 0?i:(a=t.errors)==null?void 0:a[n]}function _w(){let{router:i}=mw("useNavigate"),t=Qm("useNavigate"),n=S.useRef(!1);return tE(()=>{n.current=!0}),S.useCallback(async(o,u={})=>{fr(n.current,J0),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:t,...u}))},[i,t])}var c_={};function nE(i,t,n){!t&&!c_[i]&&(c_[i]=!0,fr(!1,n))}S.memo(Ew);function Ew({routes:i,future:t,state:n}){return eE(i,void 0,n,t)}function Re(i){_e(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Tw({basename:i="/",children:t=null,location:n,navigationType:a="POP",navigator:o,static:u=!1}){_e(!eu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=S.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=cs(n));let{pathname:p="/",search:g="",hash:T="",state:b=null,key:x="default"}=n,D=S.useMemo(()=>{let M=fa(p,f);return M==null?null:{location:{pathname:M,search:g,hash:T,state:b,key:x},navigationType:a}},[f,p,g,T,b,x,a]);return fr(D!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${T}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:S.createElement(qr.Provider,{value:m},S.createElement(tu.Provider,{children:t,value:D}))}function bw({children:i,location:t}){return lw(om(i),t)}function om(i,t=[]){let n=[];return S.Children.forEach(i,(a,o)=>{if(!S.isValidElement(a))return;let u=[...t,o];if(a.type===S.Fragment){n.push.apply(n,om(a.props.children,u));return}_e(a.type===Re,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_e(!a.props.index||!a.props.children,"An index route cannot have child routes.");let f={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(f.children=om(a.props.children,u)),n.push(f)}),n}var Bc="get",zc="application/x-www-form-urlencoded";function fh(i){return i!=null&&typeof i.tagName=="string"}function xw(i){return fh(i)&&i.tagName.toLowerCase()==="button"}function Sw(i){return fh(i)&&i.tagName.toLowerCase()==="form"}function ww(i){return fh(i)&&i.tagName.toLowerCase()==="input"}function Aw(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Rw(i,t){return i.button===0&&(!t||t==="_self")&&!Aw(i)}var Nc=null;function Cw(){if(Nc===null)try{new FormData(document.createElement("form"),0),Nc=!1}catch{Nc=!0}return Nc}var Dw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bd(i){return i!=null&&!Dw.has(i)?(fr(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zc}"`),null):i}function Nw(i,t){let n,a,o,u,f;if(Sw(i)){let m=i.getAttribute("action");a=m?fa(m,t):null,n=i.getAttribute("method")||Bc,o=Bd(i.getAttribute("enctype"))||zc,u=new FormData(i)}else if(xw(i)||ww(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(a=p?fa(p,t):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Bc,o=Bd(i.getAttribute("formenctype"))||Bd(m.getAttribute("enctype"))||zc,u=new FormData(m,i),!Cw()){let{name:g,type:T,value:b}=i;if(T==="image"){let x=g?`${g}.`:"";u.append(`${x}x`,"0"),u.append(`${x}y`,"0")}else g&&u.append(g,b)}}else{if(fh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Bc,a=null,o=zc,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:f}}function $m(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}async function Iw(i,t){if(i.id in t)return t[i.id];try{let n=await import(i.module);return t[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ow(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function Mw(i,t,n){let a=await Promise.all(i.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await Iw(u,n);return f.links?f.links():[]}return[]}));return Lw(a.flat(1).filter(Ow).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function h_(i,t,n,a,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var T;return n[g].pathname!==p.pathname||((T=n[g].route.path)==null?void 0:T.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?t.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?t.filter((p,g)=>{var b;let T=a.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let x=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function Vw(i,t,{includeHydrateFallback:n}={}){return jw(i.map(a=>{let o=t.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function jw(i){return[...new Set(i)]}function kw(i){let t={},n=Object.keys(i).sort();for(let a of n)t[a]=i[a];return t}function Lw(i,t){let n=new Set;return new Set(t),i.reduce((a,o)=>{let u=JSON.stringify(kw(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}function Uw(i){let t=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function Pw(){let i=S.useContext(_o);return $m(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function Bw(){let i=S.useContext(hh);return $m(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Km=S.createContext(void 0);Km.displayName="FrameworkContext";function rE(){let i=S.useContext(Km);return $m(i,"You must render this element inside a <HydratedRouter> element"),i}function zw(i,t){let n=S.useContext(Km),[a,o]=S.useState(!1),[u,f]=S.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:T,onTouchStart:b}=t,x=S.useRef(null);S.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let H=L=>{L.forEach(Q=>{f(Q.isIntersecting)})},j=new IntersectionObserver(H,{threshold:.5});return x.current&&j.observe(x.current),()=>{j.disconnect()}}},[i]),S.useEffect(()=>{if(a){let H=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(H)}}},[a]);let D=()=>{o(!0)},M=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,x,{}]:[u,x,{onFocus:Il(m,D),onBlur:Il(p,M),onMouseEnter:Il(g,D),onMouseLeave:Il(T,M),onTouchStart:Il(b,D)}]:[!1,x,{}]}function Il(i,t){return n=>{i&&i(n),n.defaultPrevented||t(n)}}function qw({page:i,...t}){let{router:n}=Pw(),a=S.useMemo(()=>Q0(n.routes,i,n.basename),[n.routes,i,n.basename]);return a?S.createElement(Fw,{page:i,matches:a,...t}):null}function Hw(i){let{manifest:t,routeModules:n}=rE(),[a,o]=S.useState([]);return S.useEffect(()=>{let u=!1;return Mw(i,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,t,n]),a}function Fw({page:i,matches:t,...n}){let a=Hr(),{manifest:o,routeModules:u}=rE(),{loaderData:f,matches:m}=Bw(),p=S.useMemo(()=>h_(i,t,m,o,a,"data"),[i,t,m,o,a]),g=S.useMemo(()=>h_(i,t,m,o,a,"assets"),[i,t,m,o,a]),T=S.useMemo(()=>{if(i===a.pathname+a.search+a.hash)return[];let D=new Set,M=!1;if(t.forEach(j=>{var Q;let L=o.routes[j.route.id];!L||!L.hasLoader||(!p.some(K=>K.route.id===j.route.id)&&j.route.id in f&&((Q=u[j.route.id])!=null&&Q.shouldRevalidate)||L.hasClientLoader?M=!0:D.add(j.route.id))}),D.size===0)return[];let H=Uw(i);return M&&D.size>0&&H.searchParams.set("_routes",t.filter(j=>D.has(j.route.id)).map(j=>j.route.id).join(",")),[H.pathname+H.search]},[f,a,o,p,t,i,u]),b=S.useMemo(()=>Vw(g,o),[g,o]),x=Hw(g);return S.createElement(S.Fragment,null,T.map(D=>S.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),b.map(D=>S.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),x.map(({key:D,link:M})=>S.createElement("link",{key:D,...M})))}function Gw(...i){return t=>{i.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var iE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{iE&&(window.__reactRouterVersion="7.2.0")}catch{}function Qw({basename:i,children:t,window:n}){let a=S.useRef();a.current==null&&(a.current=VS({window:n,v5Compat:!0}));let o=a.current,[u,f]=S.useState({action:o.action,location:o.location}),m=S.useCallback(p=>{S.startTransition(()=>f(p))},[f]);return S.useLayoutEffect(()=>o.listen(m),[o,m]),S.createElement(Tw,{basename:i,children:t,location:u.location,navigationType:u.action,navigator:o})}var aE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sE=S.forwardRef(function({onClick:t,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:T,viewTransition:b,...x},D){let{basename:M}=S.useContext(qr),H=typeof g=="string"&&aE.test(g),j,L=!1;if(typeof g=="string"&&H&&(j=g,iE))try{let R=new URL(window.location.href),O=g.startsWith("//")?new URL(R.protocol+g):new URL(g),U=fa(O.pathname,M);O.origin===R.origin&&U!=null?g=U+O.search+O.hash:L=!0}catch{fr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=sw(g,{relative:o}),[K,rt,at]=zw(a,x),ct=Xw(g,{replace:f,state:m,target:p,preventScrollReset:T,relative:o,viewTransition:b});function V(R){t&&t(R),R.defaultPrevented||ct(R)}let C=S.createElement("a",{...x,...at,href:j||Q,onClick:L||u?t:V,ref:Gw(D,rt),target:p,"data-discover":!H&&n==="render"?"true":void 0});return K&&!H?S.createElement(S.Fragment,null,C,S.createElement(qw,{page:Q})):C});sE.displayName="Link";var $w=S.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},T){let b=nu(f,{relative:g.relative}),x=Hr(),D=S.useContext(hh),{navigator:M,basename:H}=S.useContext(qr),j=D!=null&&e1(b)&&m===!0,L=M.encodeLocation?M.encodeLocation(b).pathname:b.pathname,Q=x.pathname,K=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;n||(Q=Q.toLowerCase(),K=K?K.toLowerCase():null,L=L.toLowerCase()),K&&H&&(K=fa(K,H)||K);const rt=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let at=Q===L||!o&&Q.startsWith(L)&&Q.charAt(rt)==="/",ct=K!=null&&(K===L||!o&&K.startsWith(L)&&K.charAt(L.length)==="/"),V={isActive:at,isPending:ct,isTransitioning:j},C=at?t:void 0,R;typeof a=="function"?R=a(V):R=[a,at?"active":null,ct?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(V):u;return S.createElement(sE,{...g,"aria-current":C,className:R,ref:T,style:O,to:f,viewTransition:m},typeof p=="function"?p(V):p)});$w.displayName="NavLink";var Kw=S.forwardRef(({discover:i="render",fetcherKey:t,navigate:n,reloadDocument:a,replace:o,state:u,method:f=Bc,action:m,onSubmit:p,relative:g,preventScrollReset:T,viewTransition:b,...x},D)=>{let M=Jw(),H=t1(m,{relative:g}),j=f.toLowerCase()==="get"?"get":"post",L=typeof m=="string"&&aE.test(m),Q=K=>{if(p&&p(K),K.defaultPrevented)return;K.preventDefault();let rt=K.nativeEvent.submitter,at=(rt==null?void 0:rt.getAttribute("formmethod"))||f;M(rt||K.currentTarget,{fetcherKey:t,method:at,navigate:n,replace:o,state:u,relative:g,preventScrollReset:T,viewTransition:b})};return S.createElement("form",{ref:D,method:j,action:H,onSubmit:a?p:Q,...x,"data-discover":!L&&i==="render"?"true":void 0})});Kw.displayName="Form";function Yw(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oE(i){let t=S.useContext(_o);return _e(t,Yw(i)),t}function Xw(i,{target:t,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=mr(),p=Hr(),g=nu(i,{relative:u});return S.useCallback(T=>{if(Rw(T,t)){T.preventDefault();let b=n!==void 0?n:zl(p)===zl(g);m(i,{replace:b,state:a,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,a,t,i,o,u,f])}var Ww=0,Zw=()=>`__${String(++Ww)}__`;function Jw(){let{router:i}=oE("useSubmit"),{basename:t}=S.useContext(qr),n=yw();return S.useCallback(async(a,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=Nw(a,t);if(o.navigate===!1){let T=o.fetcherKey||Zw();await i.fetch(T,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,t,n])}function t1(i,{relative:t}={}){let{basename:n}=S.useContext(qr),a=S.useContext(bi);_e(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...nu(i||".",{relative:t})},f=Hr();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(T=>T==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let T=m.toString();u.search=T?`?${T}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:yi([n,u.pathname])),zl(u)}function e1(i,t={}){let n=S.useContext(Z0);_e(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=oE("useViewTransitionState"),o=nu(i,{relative:t.relative});if(!n.isTransitioning)return!1;let u=fa(n.currentLocation.pathname,a)||n.currentLocation.pathname,f=fa(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Kc(o.pathname,f)!=null||Kc(o.pathname,u)!=null}new TextEncoder;var n1=G0();const lo=Jl(n1);var zd={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var f_;function r1(){return f_||(f_=1,function(i){(function(){var t={}.hasOwnProperty;function n(){for(var u="",f=0;f<arguments.length;f++){var m=arguments[f];m&&(u=o(u,a(m)))}return u}function a(u){if(typeof u=="string"||typeof u=="number")return u;if(typeof u!="object")return"";if(Array.isArray(u))return n.apply(null,u);if(u.toString!==Object.prototype.toString&&!u.toString.toString().includes("[native code]"))return u.toString();var f="";for(var m in u)t.call(u,m)&&u[m]&&(f=o(f,m));return f}function o(u,f){return f?u?u+" "+f:u+f:u}i.exports?(n.default=n,i.exports=n):window.classNames=n})()}(zd)),zd.exports}var i1=r1();const Vt=Jl(i1);function lm(){return lm=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(i[a]=n[a])}return i},lm.apply(null,arguments)}function lE(i,t){if(i==null)return{};var n={};for(var a in i)if({}.hasOwnProperty.call(i,a)){if(t.indexOf(a)!==-1)continue;n[a]=i[a]}return n}function d_(i){return"default"+i.charAt(0).toUpperCase()+i.substr(1)}function a1(i){var t=s1(i,"string");return typeof t=="symbol"?t:String(t)}function s1(i,t){if(typeof i!="object"||i===null)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var a=n.call(i,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}function o1(i,t,n){var a=S.useRef(i!==void 0),o=S.useState(t),u=o[0],f=o[1],m=i!==void 0,p=a.current;return a.current=m,!m&&p&&u!==t&&f(t),[m?i:u,S.useCallback(function(g){for(var T=arguments.length,b=new Array(T>1?T-1:0),x=1;x<T;x++)b[x-1]=arguments[x];n&&n.apply(void 0,[g].concat(b)),f(g)},[n])]}function l1(i,t){return Object.keys(t).reduce(function(n,a){var o,u=n,f=u[d_(a)],m=u[a],p=lE(u,[d_(a),a].map(a1)),g=t[a],T=o1(m,f,i[g]),b=T[0],x=T[1];return lm({},p,(o={},o[a]=b,o[g]=x,o))},i)}function um(i,t){return um=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},um(i,t)}function u1(i,t){i.prototype=Object.create(t.prototype),i.prototype.constructor=i,um(i,t)}const c1=["xxl","xl","lg","md","sm","xs"],h1="xs",ru=S.createContext({prefixes:{},breakpoints:c1,minBreakpoint:h1}),{Consumer:nO,Provider:rO}=ru;function Wt(i,t){const{prefixes:n}=S.useContext(ru);return i||n[t]||t}function f1(){const{breakpoints:i}=S.useContext(ru);return i}function d1(){const{minBreakpoint:i}=S.useContext(ru);return i}function uE(){const{dir:i}=S.useContext(ru);return i==="rtl"}function dh(i){return i&&i.ownerDocument||document}function m1(i){var t=dh(i);return t&&t.defaultView||window}function p1(i,t){return m1(i).getComputedStyle(i,t)}var g1=/([A-Z])/g;function y1(i){return i.replace(g1,"-$1").toLowerCase()}var v1=/^ms-/;function Ic(i){return y1(i).replace(v1,"-ms-")}var _1=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function E1(i){return!!(i&&_1.test(i))}function ss(i,t){var n="",a="";if(typeof t=="string")return i.style.getPropertyValue(Ic(t))||p1(i).getPropertyValue(Ic(t));Object.keys(t).forEach(function(o){var u=t[o];!u&&u!==0?i.style.removeProperty(Ic(o)):E1(o)?a+=o+"("+u+") ":n+=Ic(o)+": "+u+";"}),a&&(n+="transform: "+a+";"),i.style.cssText+=";"+n}var qd={exports:{}},Hd,m_;function T1(){if(m_)return Hd;m_=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Hd=i,Hd}var Fd,p_;function b1(){if(p_)return Fd;p_=1;var i=T1();function t(){}function n(){}return n.resetWarningCache=t,Fd=function(){function a(f,m,p,g,T,b){if(b!==i){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}a.isRequired=a;function o(){return a}var u={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:o,element:a,elementType:a,instanceOf:o,node:a,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:t};return u.PropTypes=u,u},Fd}var g_;function x1(){return g_||(g_=1,qd.exports=b1()()),qd.exports}var S1=x1();const Nt=Jl(S1),y_={disabled:!1},cE=is.createContext(null);var w1=function(t){return t.scrollTop},Ol="unmounted",es="exited",ia="entering",rs="entered",cm="exiting",xi=function(i){u1(t,i);function t(a,o){var u;u=i.call(this,a,o)||this;var f=o,m=f&&!f.isMounting?a.enter:a.appear,p;return u.appearStatus=null,a.in?m?(p=es,u.appearStatus=ia):p=rs:a.unmountOnExit||a.mountOnEnter?p=Ol:p=es,u.state={status:p},u.nextCallback=null,u}t.getDerivedStateFromProps=function(o,u){var f=o.in;return f&&u.status===Ol?{status:es}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(o){var u=null;if(o!==this.props){var f=this.state.status;this.props.in?f!==ia&&f!==rs&&(u=ia):(f===ia||f===rs)&&(u=cm)}this.updateStatus(!1,u)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var o=this.props.timeout,u,f,m;return u=f=m=o,o!=null&&typeof o!="number"&&(u=o.exit,f=o.enter,m=o.appear!==void 0?o.appear:f),{exit:u,enter:f,appear:m}},n.updateStatus=function(o,u){if(o===void 0&&(o=!1),u!==null)if(this.cancelNextCallback(),u===ia){if(this.props.unmountOnExit||this.props.mountOnEnter){var f=this.props.nodeRef?this.props.nodeRef.current:lo.findDOMNode(this);f&&w1(f)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===es&&this.setState({status:Ol})},n.performEnter=function(o){var u=this,f=this.props.enter,m=this.context?this.context.isMounting:o,p=this.props.nodeRef?[m]:[lo.findDOMNode(this),m],g=p[0],T=p[1],b=this.getTimeouts(),x=m?b.appear:b.enter;if(!o&&!f||y_.disabled){this.safeSetState({status:rs},function(){u.props.onEntered(g)});return}this.props.onEnter(g,T),this.safeSetState({status:ia},function(){u.props.onEntering(g,T),u.onTransitionEnd(x,function(){u.safeSetState({status:rs},function(){u.props.onEntered(g,T)})})})},n.performExit=function(){var o=this,u=this.props.exit,f=this.getTimeouts(),m=this.props.nodeRef?void 0:lo.findDOMNode(this);if(!u||y_.disabled){this.safeSetState({status:es},function(){o.props.onExited(m)});return}this.props.onExit(m),this.safeSetState({status:cm},function(){o.props.onExiting(m),o.onTransitionEnd(f.exit,function(){o.safeSetState({status:es},function(){o.props.onExited(m)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(o,u){u=this.setNextCallback(u),this.setState(o,u)},n.setNextCallback=function(o){var u=this,f=!0;return this.nextCallback=function(m){f&&(f=!1,u.nextCallback=null,o(m))},this.nextCallback.cancel=function(){f=!1},this.nextCallback},n.onTransitionEnd=function(o,u){this.setNextCallback(u);var f=this.props.nodeRef?this.props.nodeRef.current:lo.findDOMNode(this),m=o==null&&!this.props.addEndListener;if(!f||m){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var p=this.props.nodeRef?[this.nextCallback]:[f,this.nextCallback],g=p[0],T=p[1];this.props.addEndListener(g,T)}o!=null&&setTimeout(this.nextCallback,o)},n.render=function(){var o=this.state.status;if(o===Ol)return null;var u=this.props,f=u.children;u.in,u.mountOnEnter,u.unmountOnExit,u.appear,u.enter,u.exit,u.timeout,u.addEndListener,u.onEnter,u.onEntering,u.onEntered,u.onExit,u.onExiting,u.onExited,u.nodeRef;var m=lE(u,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return is.createElement(cE.Provider,{value:null},typeof f=="function"?f(o,m):is.cloneElement(is.Children.only(f),m))},t}(is.Component);xi.contextType=cE;xi.propTypes={};function eo(){}xi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:eo,onEntering:eo,onEntered:eo,onExit:eo,onExiting:eo,onExited:eo};xi.UNMOUNTED=Ol;xi.EXITED=es;xi.ENTERING=ia;xi.ENTERED=rs;xi.EXITING=cm;function A1(i){return i.code==="Escape"||i.keyCode===27}function R1(){const i=S.version.split(".");return{major:+i[0],minor:+i[1],patch:+i[2]}}function mh(i){if(!i||typeof i=="function")return null;const{major:t}=R1();return t>=19?i.props.ref:i.ref}const Eo=!!(typeof window<"u"&&window.document&&window.document.createElement);var hm=!1,fm=!1;try{var Gd={get passive(){return hm=!0},get once(){return fm=hm=!0}};Eo&&(window.addEventListener("test",Gd,Gd),window.removeEventListener("test",Gd,!0))}catch{}function hE(i,t,n,a){if(a&&typeof a!="boolean"&&!fm){var o=a.once,u=a.capture,f=n;!fm&&o&&(f=n.__once||function m(p){this.removeEventListener(t,m,u),n.call(this,p)},n.__once=f),i.addEventListener(t,f,hm?a:u)}i.addEventListener(t,n,a)}function dm(i,t,n,a){var o=a&&typeof a!="boolean"?a.capture:a;i.removeEventListener(t,n,o),n.__once&&i.removeEventListener(t,n.__once,o)}function Yc(i,t,n,a){return hE(i,t,n,a),function(){dm(i,t,n,a)}}function C1(i,t,n,a){if(a===void 0&&(a=!0),i){var o=document.createEvent("HTMLEvents");o.initEvent(t,n,a),i.dispatchEvent(o)}}function D1(i){var t=ss(i,"transitionDuration")||"",n=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*n}function N1(i,t,n){n===void 0&&(n=5);var a=!1,o=setTimeout(function(){a||C1(i,"transitionend",!0)},t+n),u=Yc(i,"transitionend",function(){a=!0},{once:!0});return function(){clearTimeout(o),u()}}function fE(i,t,n,a){n==null&&(n=D1(i)||0);var o=N1(i,n,a),u=Yc(i,"transitionend",t);return function(){o(),u()}}function v_(i,t){const n=ss(i,t)||"",a=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*a}function dE(i,t){const n=v_(i,"transitionDuration"),a=v_(i,"transitionDelay"),o=fE(i,u=>{u.target===i&&(o(),t(u))},n+a)}function mE(i){i.offsetHeight}const __=i=>!i||typeof i=="function"?i:t=>{i.current=t};function I1(i,t){const n=__(i),a=__(t);return o=>{n&&n(o),a&&a(o)}}function pE(i,t){return S.useMemo(()=>I1(i,t),[i,t])}function O1(i){return i&&"setState"in i?lo.findDOMNode(i):i??null}const gE=is.forwardRef(({onEnter:i,onEntering:t,onEntered:n,onExit:a,onExiting:o,onExited:u,addEndListener:f,children:m,childRef:p,...g},T)=>{const b=S.useRef(null),x=pE(b,p),D=ct=>{x(O1(ct))},M=ct=>V=>{ct&&b.current&&ct(b.current,V)},H=S.useCallback(M(i),[i]),j=S.useCallback(M(t),[t]),L=S.useCallback(M(n),[n]),Q=S.useCallback(M(a),[a]),K=S.useCallback(M(o),[o]),rt=S.useCallback(M(u),[u]),at=S.useCallback(M(f),[f]);return v.jsx(xi,{ref:T,...g,onEnter:H,onEntered:L,onEntering:j,onExit:Q,onExited:rt,onExiting:K,addEndListener:at,nodeRef:b,children:typeof m=="function"?(ct,V)=>m(ct,{...V,ref:D}):is.cloneElement(m,{ref:D})})});function yE(i){const t=S.useRef(i);return S.useEffect(()=>{t.current=i},[i]),t}function ql(i){const t=yE(i);return S.useCallback(function(...n){return t.current&&t.current(...n)},[t])}const Ym=i=>S.forwardRef((t,n)=>v.jsx("div",{...t,ref:n,className:Vt(t.className,i)}));function M1(i){const t=S.useRef(i);return S.useEffect(()=>{t.current=i},[i]),t}function aa(i){const t=M1(i);return S.useCallback(function(...n){return t.current&&t.current(...n)},[t])}function V1(){const i=S.useRef(!0),t=S.useRef(()=>i.current);return S.useEffect(()=>(i.current=!0,()=>{i.current=!1}),[]),t.current}function j1(i){const t=S.useRef(null);return S.useEffect(()=>{t.current=i}),t.current}const k1=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",L1=typeof document<"u",E_=L1||k1?S.useLayoutEffect:S.useEffect,U1=["as","disabled"];function P1(i,t){if(i==null)return{};var n={};for(var a in i)if({}.hasOwnProperty.call(i,a)){if(t.indexOf(a)>=0)continue;n[a]=i[a]}return n}function B1(i){return!i||i.trim()==="#"}function Xm({tagName:i,disabled:t,href:n,target:a,rel:o,role:u,onClick:f,tabIndex:m=0,type:p}){i||(n!=null||a!=null||o!=null?i="a":i="button");const g={tagName:i};if(i==="button")return[{type:p||"button",disabled:t},g];const T=x=>{if((t||i==="a"&&B1(n))&&x.preventDefault(),t){x.stopPropagation();return}f==null||f(x)},b=x=>{x.key===" "&&(x.preventDefault(),T(x))};return i==="a"&&(n||(n="#"),t&&(n=void 0)),[{role:u??"button",disabled:void 0,tabIndex:t?void 0:m,href:n,target:i==="a"?a:void 0,"aria-disabled":t||void 0,rel:i==="a"?o:void 0,onClick:T,onKeyDown:b},g]}const z1=S.forwardRef((i,t)=>{let{as:n,disabled:a}=i,o=P1(i,U1);const[u,{tagName:f}]=Xm(Object.assign({tagName:n,disabled:a},o));return v.jsx(f,Object.assign({},o,u,{ref:t}))});z1.displayName="Button";const q1=["onKeyDown"];function H1(i,t){if(i==null)return{};var n={};for(var a in i)if({}.hasOwnProperty.call(i,a)){if(t.indexOf(a)>=0)continue;n[a]=i[a]}return n}function F1(i){return!i||i.trim()==="#"}const mm=S.forwardRef((i,t)=>{let{onKeyDown:n}=i,a=H1(i,q1);const[o]=Xm(Object.assign({tagName:"a"},a)),u=aa(f=>{o.onKeyDown(f),n==null||n(f)});return F1(a.href)||a.role==="button"?v.jsx("a",Object.assign({ref:t},a,o,{onKeyDown:u})):v.jsx("a",Object.assign({ref:t},a,{onKeyDown:n}))});mm.displayName="Anchor";const G1={[ia]:"show",[rs]:"show"},Wm=S.forwardRef(({className:i,children:t,transitionClasses:n={},onEnter:a,...o},u)=>{const f={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...o},m=S.useCallback((p,g)=>{mE(p),a==null||a(p,g)},[a]);return v.jsx(gE,{ref:u,addEndListener:dE,...f,onEnter:m,childRef:mh(t),children:(p,g)=>S.cloneElement(t,{...g,className:Vt("fade",i,t.props.className,G1[p],n[p])})})});Wm.displayName="Fade";const Q1={"aria-label":Nt.string,onClick:Nt.func,variant:Nt.oneOf(["white"])},Zm=S.forwardRef(({className:i,variant:t,"aria-label":n="Close",...a},o)=>v.jsx("button",{ref:o,type:"button",className:Vt("btn-close",t&&`btn-close-${t}`,i),"aria-label":n,...a}));Zm.displayName="CloseButton";Zm.propTypes=Q1;const er=S.forwardRef(({as:i,bsPrefix:t,variant:n="primary",size:a,active:o=!1,disabled:u=!1,className:f,...m},p)=>{const g=Wt(t,"btn"),[T,{tagName:b}]=Xm({tagName:i,disabled:u,...m}),x=b;return v.jsx(x,{...T,...m,ref:p,disabled:u,className:Vt(f,g,o&&"active",n&&`${g}-${n}`,a&&`${g}-${a}`,m.href&&u&&"disabled")})});er.displayName="Button";const Jm=S.forwardRef(({className:i,bsPrefix:t,as:n="div",...a},o)=>(t=Wt(t,"card-body"),v.jsx(n,{ref:o,className:Vt(i,t),...a})));Jm.displayName="CardBody";const vE=S.forwardRef(({className:i,bsPrefix:t,as:n="div",...a},o)=>(t=Wt(t,"card-footer"),v.jsx(n,{ref:o,className:Vt(i,t),...a})));vE.displayName="CardFooter";const _E=S.createContext(null);_E.displayName="CardHeaderContext";const EE=S.forwardRef(({bsPrefix:i,className:t,as:n="div",...a},o)=>{const u=Wt(i,"card-header"),f=S.useMemo(()=>({cardHeaderBsPrefix:u}),[u]);return v.jsx(_E.Provider,{value:f,children:v.jsx(n,{ref:o,...a,className:Vt(t,u)})})});EE.displayName="CardHeader";const TE=S.forwardRef(({bsPrefix:i,className:t,variant:n,as:a="img",...o},u)=>{const f=Wt(i,"card-img");return v.jsx(a,{ref:u,className:Vt(n?`${f}-${n}`:f,t),...o})});TE.displayName="CardImg";const bE=S.forwardRef(({className:i,bsPrefix:t,as:n="div",...a},o)=>(t=Wt(t,"card-img-overlay"),v.jsx(n,{ref:o,className:Vt(i,t),...a})));bE.displayName="CardImgOverlay";const xE=S.forwardRef(({className:i,bsPrefix:t,as:n="a",...a},o)=>(t=Wt(t,"card-link"),v.jsx(n,{ref:o,className:Vt(i,t),...a})));xE.displayName="CardLink";const $1=Ym("h6"),SE=S.forwardRef(({className:i,bsPrefix:t,as:n=$1,...a},o)=>(t=Wt(t,"card-subtitle"),v.jsx(n,{ref:o,className:Vt(i,t),...a})));SE.displayName="CardSubtitle";const wE=S.forwardRef(({className:i,bsPrefix:t,as:n="p",...a},o)=>(t=Wt(t,"card-text"),v.jsx(n,{ref:o,className:Vt(i,t),...a})));wE.displayName="CardText";const K1=Ym("h5"),AE=S.forwardRef(({className:i,bsPrefix:t,as:n=K1,...a},o)=>(t=Wt(t,"card-title"),v.jsx(n,{ref:o,className:Vt(i,t),...a})));AE.displayName="CardTitle";const RE=S.forwardRef(({bsPrefix:i,className:t,bg:n,text:a,border:o,body:u=!1,children:f,as:m="div",...p},g)=>{const T=Wt(i,"card");return v.jsx(m,{ref:g,...p,className:Vt(t,T,n&&`bg-${n}`,a&&`text-${a}`,o&&`border-${o}`),children:u?v.jsx(Jm,{children:f}):f})});RE.displayName="Card";const T_=Object.assign(RE,{Img:TE,Title:AE,Subtitle:SE,Body:Jm,Link:xE,Text:wE,Header:EE,Footer:vE,ImgOverlay:bE});function Y1(i,t){const n=S.useRef(!0);S.useEffect(()=>{if(n.current){n.current=!1;return}return i()},t)}function X1(){const i=S.useRef(!0),t=S.useRef(()=>i.current);return S.useEffect(()=>(i.current=!0,()=>{i.current=!1}),[]),t.current}function W1(i){const t=S.useRef(i);return t.current=i,t}function CE(i){const t=W1(i);S.useEffect(()=>()=>t.current(),[])}const pm=2**31-1;function DE(i,t,n){const a=n-Date.now();i.current=a<=pm?setTimeout(t,a):setTimeout(()=>DE(i,t,n),pm)}function Z1(){const i=X1(),t=S.useRef();return CE(()=>clearTimeout(t.current)),S.useMemo(()=>{const n=()=>clearTimeout(t.current);function a(o,u=0){i()&&(n(),u<=pm?t.current=setTimeout(o,u):DE(t,o,Date.now()+u))}return{set:a,clear:n,handleRef:t}},[])}const NE=S.forwardRef(({className:i,bsPrefix:t,as:n="div",...a},o)=>(t=Wt(t,"carousel-caption"),v.jsx(n,{ref:o,className:Vt(i,t),...a})));NE.displayName="CarouselCaption";const IE=S.forwardRef(({as:i="div",bsPrefix:t,className:n,...a},o)=>{const u=Vt(n,Wt(t,"carousel-item"));return v.jsx(i,{ref:o,...a,className:u})});IE.displayName="CarouselItem";function b_(i,t){let n=0;return S.Children.map(i,a=>S.isValidElement(a)?t(a,n++):a)}function J1(i,t){let n=0;S.Children.forEach(i,a=>{S.isValidElement(a)&&t(a,n++)})}function tA(i,t){return S.Children.toArray(i).some(n=>S.isValidElement(n)&&n.type===t)}const eA=40;function nA(i){if(!i||!i.style||!i.parentNode||!i.parentNode.style)return!1;const t=getComputedStyle(i);return t.display!=="none"&&t.visibility!=="hidden"&&getComputedStyle(i.parentNode).display!=="none"}const OE=S.forwardRef(({defaultActiveIndex:i=0,...t},n)=>{const{as:a="div",bsPrefix:o,slide:u=!0,fade:f=!1,controls:m=!0,indicators:p=!0,indicatorLabels:g=[],activeIndex:T,onSelect:b,onSlide:x,onSlid:D,interval:M=5e3,keyboard:H=!0,onKeyDown:j,pause:L="hover",onMouseOver:Q,onMouseOut:K,wrap:rt=!0,touch:at=!0,onTouchStart:ct,onTouchMove:V,onTouchEnd:C,prevIcon:R=v.jsx("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:O="Previous",nextIcon:U=v.jsx("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:z="Next",variant:N,className:Ot,children:xt,...it}=l1({defaultActiveIndex:i,...t},{activeIndex:"onSelect"}),ht=Wt(o,"carousel"),ut=uE(),At=S.useRef(null),[k,tt]=S.useState("next"),[dt,st]=S.useState(!1),[ot,St]=S.useState(!1),[gt,oe]=S.useState(T||0);S.useEffect(()=>{!ot&&T!==gt&&(At.current?tt(At.current):tt((T||0)>gt?"next":"prev"),u&&St(!0),oe(T||0))},[T,ot,gt,u]),S.useEffect(()=>{At.current&&(At.current=null)});let Ct=0,ee;J1(xt,(Tt,qt)=>{++Ct,qt===T&&(ee=Tt.props.interval)});const Lt=yE(ee),ne=S.useCallback(Tt=>{if(ot)return;let qt=gt-1;if(qt<0){if(!rt)return;qt=Ct-1}At.current="prev",b==null||b(qt,Tt)},[ot,gt,b,rt,Ct]),le=ql(Tt=>{if(ot)return;let qt=gt+1;if(qt>=Ct){if(!rt)return;qt=0}At.current="next",b==null||b(qt,Tt)}),Te=S.useRef();S.useImperativeHandle(n,()=>({element:Te.current,prev:ne,next:le}));const Fe=ql(()=>{!document.hidden&&nA(Te.current)&&(ut?ne():le())}),jt=k==="next"?"start":"end";Y1(()=>{u||(x==null||x(gt,jt),D==null||D(gt,jt))},[gt]);const on=`${ht}-item-${k}`,Cn=`${ht}-item-${jt}`,gr=S.useCallback(Tt=>{mE(Tt),x==null||x(gt,jt)},[x,gt,jt]),yr=S.useCallback(()=>{St(!1),D==null||D(gt,jt)},[D,gt,jt]),nr=S.useCallback(Tt=>{if(H&&!/input|textarea/i.test(Tt.target.tagName))switch(Tt.key){case"ArrowLeft":Tt.preventDefault(),ut?le(Tt):ne(Tt);return;case"ArrowRight":Tt.preventDefault(),ut?ne(Tt):le(Tt);return}j==null||j(Tt)},[H,j,ne,le,ut]),vr=S.useCallback(Tt=>{L==="hover"&&st(!0),Q==null||Q(Tt)},[L,Q]),ba=S.useCallback(Tt=>{st(!1),K==null||K(Tt)},[K]),_r=S.useRef(0),be=S.useRef(0),Gr=Z1(),Et=S.useCallback(Tt=>{_r.current=Tt.touches[0].clientX,be.current=0,L==="hover"&&st(!0),ct==null||ct(Tt)},[L,ct]),ue=S.useCallback(Tt=>{Tt.touches&&Tt.touches.length>1?be.current=0:be.current=Tt.touches[0].clientX-_r.current,V==null||V(Tt)},[V]),En=S.useCallback(Tt=>{if(at){const qt=be.current;Math.abs(qt)>eA&&(qt>0?ne(Tt):le(Tt))}L==="hover"&&Gr.set(()=>{st(!1)},M||void 0),C==null||C(Tt)},[at,L,ne,le,Gr,M,C]),xa=M!=null&&!dt&&!ot,Qr=S.useRef();S.useEffect(()=>{var Tt,qt;if(!xa)return;const he=ut?ne:le;return Qr.current=window.setInterval(document.visibilityState?Fe:he,(Tt=(qt=Lt.current)!=null?qt:M)!=null?Tt:void 0),()=>{Qr.current!==null&&clearInterval(Qr.current)}},[xa,ne,le,Lt,M,Fe,ut]);const ds=S.useMemo(()=>p&&Array.from({length:Ct},(Tt,qt)=>he=>{b==null||b(qt,he)}),[p,Ct,b]);return v.jsxs(a,{ref:Te,...it,onKeyDown:nr,onMouseOver:vr,onMouseOut:ba,onTouchStart:Et,onTouchMove:ue,onTouchEnd:En,className:Vt(Ot,ht,u&&"slide",f&&`${ht}-fade`,N&&`${ht}-${N}`),children:[p&&v.jsx("div",{className:`${ht}-indicators`,children:b_(xt,(Tt,qt)=>v.jsx("button",{type:"button","data-bs-target":"","aria-label":g!=null&&g.length?g[qt]:`Slide ${qt+1}`,className:qt===gt?"active":void 0,onClick:ds?ds[qt]:void 0,"aria-current":qt===gt},qt))}),v.jsx("div",{className:`${ht}-inner`,children:b_(xt,(Tt,qt)=>{const he=qt===gt;return u?v.jsx(gE,{in:he,onEnter:he?gr:void 0,onEntered:he?yr:void 0,addEndListener:dE,children:(rr,Ln)=>S.cloneElement(Tt,{...Ln,className:Vt(Tt.props.className,he&&rr!=="entered"&&on,(rr==="entered"||rr==="exiting")&&"active",(rr==="entering"||rr==="exiting")&&Cn)})}):S.cloneElement(Tt,{className:Vt(Tt.props.className,he&&"active")})})}),m&&v.jsxs(v.Fragment,{children:[(rt||T!==0)&&v.jsxs(mm,{className:`${ht}-control-prev`,onClick:ne,children:[R,O&&v.jsx("span",{className:"visually-hidden",children:O})]}),(rt||T!==Ct-1)&&v.jsxs(mm,{className:`${ht}-control-next`,onClick:le,children:[U,z&&v.jsx("span",{className:"visually-hidden",children:z})]})]})]})});OE.displayName="Carousel";const x_=Object.assign(OE,{Caption:NE,Item:IE});function rA({as:i,bsPrefix:t,className:n,...a}){t=Wt(t,"col");const o=f1(),u=d1(),f=[],m=[];return o.forEach(p=>{const g=a[p];delete a[p];let T,b,x;typeof g=="object"&&g!=null?{span:T,offset:b,order:x}=g:T=g;const D=p!==u?`-${p}`:"";T&&f.push(T===!0?`${t}${D}`:`${t}${D}-${T}`),x!=null&&m.push(`order${D}-${x}`),b!=null&&m.push(`offset${D}-${b}`)}),[{...a,className:Vt(n,...f,...m)},{as:i,bsPrefix:t,spans:f}]}const ME=S.forwardRef((i,t)=>{const[{className:n,...a},{as:o="div",bsPrefix:u,spans:f}]=rA(i);return v.jsx(o,{...a,ref:t,className:Vt(n,!f.length&&u)})});ME.displayName="Col";const VE=S.forwardRef(({bsPrefix:i,fluid:t=!1,as:n="div",className:a,...o},u)=>{const f=Wt(i,"container"),m=typeof t=="string"?`-${t}`:"-fluid";return v.jsx(n,{ref:u,...o,className:Vt(a,t?`${f}${m}`:f)})});VE.displayName="Container";var iA=Function.prototype.bind.call(Function.prototype.call,[].slice);function no(i,t){return iA(i.querySelectorAll(t))}function S_(i,t){if(i.contains)return i.contains(t);if(i.compareDocumentPosition)return i===t||!!(i.compareDocumentPosition(t)&16)}const aA="data-rr-ui-";function sA(i){return`${aA}${i}`}const jE=S.createContext(Eo?window:void 0);jE.Provider;function tp(){return S.useContext(jE)}const oA={type:Nt.string,tooltip:Nt.bool,as:Nt.elementType},ph=S.forwardRef(({as:i="div",className:t,type:n="valid",tooltip:a=!1,...o},u)=>v.jsx(i,{...o,ref:u,className:Vt(t,`${n}-${a?"tooltip":"feedback"}`)}));ph.displayName="Feedback";ph.propTypes=oA;const vi=S.createContext({}),ep=S.forwardRef(({id:i,bsPrefix:t,className:n,type:a="checkbox",isValid:o=!1,isInvalid:u=!1,as:f="input",...m},p)=>{const{controlId:g}=S.useContext(vi);return t=Wt(t,"form-check-input"),v.jsx(f,{...m,ref:p,type:a,id:i||g,className:Vt(n,t,o&&"is-valid",u&&"is-invalid")})});ep.displayName="FormCheckInput";const Xc=S.forwardRef(({bsPrefix:i,className:t,htmlFor:n,...a},o)=>{const{controlId:u}=S.useContext(vi);return i=Wt(i,"form-check-label"),v.jsx("label",{...a,ref:o,htmlFor:n||u,className:Vt(t,i)})});Xc.displayName="FormCheckLabel";const kE=S.forwardRef(({id:i,bsPrefix:t,bsSwitchPrefix:n,inline:a=!1,reverse:o=!1,disabled:u=!1,isValid:f=!1,isInvalid:m=!1,feedbackTooltip:p=!1,feedback:g,feedbackType:T,className:b,style:x,title:D="",type:M="checkbox",label:H,children:j,as:L="input",...Q},K)=>{t=Wt(t,"form-check"),n=Wt(n,"form-switch");const{controlId:rt}=S.useContext(vi),at=S.useMemo(()=>({controlId:i||rt}),[rt,i]),ct=!j&&H!=null&&H!==!1||tA(j,Xc),V=v.jsx(ep,{...Q,type:M==="switch"?"checkbox":M,ref:K,isValid:f,isInvalid:m,disabled:u,as:L});return v.jsx(vi.Provider,{value:at,children:v.jsx("div",{style:x,className:Vt(b,ct&&t,a&&`${t}-inline`,o&&`${t}-reverse`,M==="switch"&&n),children:j||v.jsxs(v.Fragment,{children:[V,ct&&v.jsx(Xc,{title:D,children:H}),g&&v.jsx(ph,{type:T,tooltip:p,children:g})]})})})});kE.displayName="FormCheck";const Wc=Object.assign(kE,{Input:ep,Label:Xc}),LE=S.forwardRef(({bsPrefix:i,type:t,size:n,htmlSize:a,id:o,className:u,isValid:f=!1,isInvalid:m=!1,plaintext:p,readOnly:g,as:T="input",...b},x)=>{const{controlId:D}=S.useContext(vi);return i=Wt(i,"form-control"),v.jsx(T,{...b,type:t,size:a,ref:x,readOnly:g,id:o||D,className:Vt(u,p?`${i}-plaintext`:i,n&&`${i}-${n}`,t==="color"&&`${i}-color`,f&&"is-valid",m&&"is-invalid")})});LE.displayName="FormControl";const lA=Object.assign(LE,{Feedback:ph}),UE=S.forwardRef(({className:i,bsPrefix:t,as:n="div",...a},o)=>(t=Wt(t,"form-floating"),v.jsx(n,{ref:o,className:Vt(i,t),...a})));UE.displayName="FormFloating";const np=S.forwardRef(({controlId:i,as:t="div",...n},a)=>{const o=S.useMemo(()=>({controlId:i}),[i]);return v.jsx(vi.Provider,{value:o,children:v.jsx(t,{...n,ref:a})})});np.displayName="FormGroup";const PE=S.forwardRef(({as:i="label",bsPrefix:t,column:n=!1,visuallyHidden:a=!1,className:o,htmlFor:u,...f},m)=>{const{controlId:p}=S.useContext(vi);t=Wt(t,"form-label");let g="col-form-label";typeof n=="string"&&(g=`${g} ${g}-${n}`);const T=Vt(o,t,a&&"visually-hidden",n&&g);return u=u||p,n?v.jsx(ME,{ref:m,as:"label",className:T,htmlFor:u,...f}):v.jsx(i,{ref:m,className:T,htmlFor:u,...f})});PE.displayName="FormLabel";const BE=S.forwardRef(({bsPrefix:i,className:t,id:n,...a},o)=>{const{controlId:u}=S.useContext(vi);return i=Wt(i,"form-range"),v.jsx("input",{...a,type:"range",ref:o,className:Vt(t,i),id:n||u})});BE.displayName="FormRange";const zE=S.forwardRef(({bsPrefix:i,size:t,htmlSize:n,className:a,isValid:o=!1,isInvalid:u=!1,id:f,...m},p)=>{const{controlId:g}=S.useContext(vi);return i=Wt(i,"form-select"),v.jsx("select",{...m,size:n,ref:p,className:Vt(a,i,t&&`${i}-${t}`,o&&"is-valid",u&&"is-invalid"),id:f||g})});zE.displayName="FormSelect";const qE=S.forwardRef(({bsPrefix:i,className:t,as:n="small",muted:a,...o},u)=>(i=Wt(i,"form-text"),v.jsx(n,{...o,ref:u,className:Vt(t,i,a&&"text-muted")})));qE.displayName="FormText";const HE=S.forwardRef((i,t)=>v.jsx(Wc,{...i,ref:t,type:"switch"}));HE.displayName="Switch";const uA=Object.assign(HE,{Input:Wc.Input,Label:Wc.Label}),FE=S.forwardRef(({bsPrefix:i,className:t,children:n,controlId:a,label:o,...u},f)=>(i=Wt(i,"form-floating"),v.jsxs(np,{ref:f,className:Vt(t,i),controlId:a,...u,children:[n,v.jsx("label",{htmlFor:a,children:o})]})));FE.displayName="FloatingLabel";const cA={_ref:Nt.any,validated:Nt.bool,as:Nt.elementType},rp=S.forwardRef(({className:i,validated:t,as:n="form",...a},o)=>v.jsx(n,{...a,ref:o,className:Vt(i,t&&"was-validated")}));rp.displayName="Form";rp.propTypes=cA;const ts=Object.assign(rp,{Group:np,Control:lA,Floating:UE,Check:Wc,Switch:uA,Label:PE,Text:qE,Range:BE,Select:zE,FloatingLabel:FE}),w_=i=>!i||typeof i=="function"?i:t=>{i.current=t};function hA(i,t){const n=w_(i),a=w_(t);return o=>{n&&n(o),a&&a(o)}}function ip(i,t){return S.useMemo(()=>hA(i,t),[i,t])}var Oc;function A_(i){if((!Oc&&Oc!==0||i)&&Eo){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Oc=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Oc}function fA(){return S.useState(null)}function Qd(i){i===void 0&&(i=dh());try{var t=i.activeElement;return!t||!t.nodeName?null:t}catch{return i.body}}function dA(i){const t=S.useRef(i);return t.current=i,t}function mA(i){const t=dA(i);S.useEffect(()=>()=>t.current(),[])}function pA(i=document){const t=i.defaultView;return Math.abs(t.innerWidth-i.documentElement.clientWidth)}const R_=sA("modal-open");class ap{constructor({ownerDocument:t,handleContainerOverflow:n=!0,isRTL:a=!1}={}){this.handleContainerOverflow=n,this.isRTL=a,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return pA(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const n={overflow:"hidden"},a=this.isRTL?"paddingLeft":"paddingRight",o=this.getElement();t.style={overflow:o.style.overflow,[a]:o.style[a]},t.scrollBarWidth&&(n[a]=`${parseInt(ss(o,a)||"0",10)+t.scrollBarWidth}px`),o.setAttribute(R_,""),ss(o,n)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const n=this.getElement();n.removeAttribute(R_),Object.assign(n.style,t.style)}add(t){let n=this.modals.indexOf(t);return n!==-1||(n=this.modals.length,this.modals.push(t),this.setModalAttributes(t),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(t){const n=this.modals.indexOf(t);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const $d=(i,t)=>Eo?i==null?(t||dh()).body:(typeof i=="function"&&(i=i()),i&&"current"in i&&(i=i.current),i&&("nodeType"in i||i.getBoundingClientRect)?i:null):null;function gA(i,t){const n=tp(),[a,o]=S.useState(()=>$d(i,n==null?void 0:n.document));if(!a){const u=$d(i);u&&o(u)}return S.useEffect(()=>{},[t,a]),S.useEffect(()=>{const u=$d(i);u!==a&&o(u)},[i,a]),a}function yA({children:i,in:t,onExited:n,mountOnEnter:a,unmountOnExit:o}){const u=S.useRef(null),f=S.useRef(t),m=aa(n);S.useEffect(()=>{t?f.current=!0:m(u.current)},[t,m]);const p=ip(u,mh(i)),g=S.cloneElement(i,{ref:p});return t?g:o||!f.current&&a?null:g}const vA=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function _A(i,t){if(i==null)return{};var n={};for(var a in i)if({}.hasOwnProperty.call(i,a)){if(t.indexOf(a)>=0)continue;n[a]=i[a]}return n}function EA(i){let{onEnter:t,onEntering:n,onEntered:a,onExit:o,onExiting:u,onExited:f,addEndListener:m,children:p}=i,g=_A(i,vA);const T=S.useRef(null),b=ip(T,mh(p)),x=rt=>at=>{rt&&T.current&&rt(T.current,at)},D=S.useCallback(x(t),[t]),M=S.useCallback(x(n),[n]),H=S.useCallback(x(a),[a]),j=S.useCallback(x(o),[o]),L=S.useCallback(x(u),[u]),Q=S.useCallback(x(f),[f]),K=S.useCallback(x(m),[m]);return Object.assign({},g,{nodeRef:T},t&&{onEnter:D},n&&{onEntering:M},a&&{onEntered:H},o&&{onExit:j},u&&{onExiting:L},f&&{onExited:Q},m&&{addEndListener:K},{children:typeof p=="function"?(rt,at)=>p(rt,Object.assign({},at,{ref:b})):S.cloneElement(p,{ref:b})})}const TA=["component"];function bA(i,t){if(i==null)return{};var n={};for(var a in i)if({}.hasOwnProperty.call(i,a)){if(t.indexOf(a)>=0)continue;n[a]=i[a]}return n}const xA=S.forwardRef((i,t)=>{let{component:n}=i,a=bA(i,TA);const o=EA(a);return v.jsx(n,Object.assign({ref:t},o))});function SA({in:i,onTransition:t}){const n=S.useRef(null),a=S.useRef(!0),o=aa(t);return E_(()=>{if(!n.current)return;let u=!1;return o({in:i,element:n.current,initial:a.current,isStale:()=>u}),()=>{u=!0}},[i,o]),E_(()=>(a.current=!1,()=>{a.current=!0}),[]),n}function wA({children:i,in:t,onExited:n,onEntered:a,transition:o}){const[u,f]=S.useState(!t);t&&u&&f(!1);const m=SA({in:!!t,onTransition:g=>{const T=()=>{g.isStale()||(g.in?a==null||a(g.element,g.initial):(f(!0),n==null||n(g.element)))};Promise.resolve(o(g)).then(T,b=>{throw g.in||f(!0),b})}}),p=ip(m,mh(i));return u&&!t?null:S.cloneElement(i,{ref:p})}function C_(i,t,n){return i?v.jsx(xA,Object.assign({},n,{component:i})):t?v.jsx(wA,Object.assign({},n,{transition:t})):v.jsx(yA,Object.assign({},n))}const AA=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function RA(i,t){if(i==null)return{};var n={};for(var a in i)if({}.hasOwnProperty.call(i,a)){if(t.indexOf(a)>=0)continue;n[a]=i[a]}return n}let Kd;function CA(i){return Kd||(Kd=new ap({ownerDocument:i==null?void 0:i.document})),Kd}function DA(i){const t=tp(),n=i||CA(t),a=S.useRef({dialog:null,backdrop:null});return Object.assign(a.current,{add:()=>n.add(a.current),remove:()=>n.remove(a.current),isTopModal:()=>n.isTopModal(a.current),setDialogRef:S.useCallback(o=>{a.current.dialog=o},[]),setBackdropRef:S.useCallback(o=>{a.current.backdrop=o},[])})}const GE=S.forwardRef((i,t)=>{let{show:n=!1,role:a="dialog",className:o,style:u,children:f,backdrop:m=!0,keyboard:p=!0,onBackdropClick:g,onEscapeKeyDown:T,transition:b,runTransition:x,backdropTransition:D,runBackdropTransition:M,autoFocus:H=!0,enforceFocus:j=!0,restoreFocus:L=!0,restoreFocusOptions:Q,renderDialog:K,renderBackdrop:rt=jt=>v.jsx("div",Object.assign({},jt)),manager:at,container:ct,onShow:V,onHide:C=()=>{},onExit:R,onExited:O,onExiting:U,onEnter:z,onEntering:N,onEntered:Ot}=i,xt=RA(i,AA);const it=tp(),ht=gA(ct),ut=DA(at),At=V1(),k=j1(n),[tt,dt]=S.useState(!n),st=S.useRef(null);S.useImperativeHandle(t,()=>ut,[ut]),Eo&&!k&&n&&(st.current=Qd(it==null?void 0:it.document)),n&&tt&&dt(!1);const ot=aa(()=>{if(ut.add(),Lt.current=Yc(document,"keydown",Ct),ee.current=Yc(document,"focus",()=>setTimeout(gt),!0),V&&V(),H){var jt,on;const Cn=Qd((jt=(on=ut.dialog)==null?void 0:on.ownerDocument)!=null?jt:it==null?void 0:it.document);ut.dialog&&Cn&&!S_(ut.dialog,Cn)&&(st.current=Cn,ut.dialog.focus())}}),St=aa(()=>{if(ut.remove(),Lt.current==null||Lt.current(),ee.current==null||ee.current(),L){var jt;(jt=st.current)==null||jt.focus==null||jt.focus(Q),st.current=null}});S.useEffect(()=>{!n||!ht||ot()},[n,ht,ot]),S.useEffect(()=>{tt&&St()},[tt,St]),mA(()=>{St()});const gt=aa(()=>{if(!j||!At()||!ut.isTopModal())return;const jt=Qd(it==null?void 0:it.document);ut.dialog&&jt&&!S_(ut.dialog,jt)&&ut.dialog.focus()}),oe=aa(jt=>{jt.target===jt.currentTarget&&(g==null||g(jt),m===!0&&C())}),Ct=aa(jt=>{p&&A1(jt)&&ut.isTopModal()&&(T==null||T(jt),jt.defaultPrevented||C())}),ee=S.useRef(),Lt=S.useRef(),ne=(...jt)=>{dt(!0),O==null||O(...jt)};if(!ht)return null;const le=Object.assign({role:a,ref:ut.setDialogRef,"aria-modal":a==="dialog"?!0:void 0},xt,{style:u,className:o,tabIndex:-1});let Te=K?K(le):v.jsx("div",Object.assign({},le,{children:S.cloneElement(f,{role:"document"})}));Te=C_(b,x,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:R,onExiting:U,onExited:ne,onEnter:z,onEntering:N,onEntered:Ot,children:Te});let Fe=null;return m&&(Fe=rt({ref:ut.setBackdropRef,onClick:oe}),Fe=C_(D,M,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Fe})),v.jsx(v.Fragment,{children:lo.createPortal(v.jsxs(v.Fragment,{children:[Fe,Te]}),ht)})});GE.displayName="Modal";const NA=Object.assign(GE,{Manager:ap});function IA(i,t){return i.classList?i.classList.contains(t):(" "+(i.className.baseVal||i.className)+" ").indexOf(" "+t+" ")!==-1}function OA(i,t){i.classList?i.classList.add(t):IA(i,t)||(typeof i.className=="string"?i.className=i.className+" "+t:i.setAttribute("class",(i.className&&i.className.baseVal||"")+" "+t))}function D_(i,t){return i.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function MA(i,t){i.classList?i.classList.remove(t):typeof i.className=="string"?i.className=D_(i.className,t):i.setAttribute("class",D_(i.className&&i.className.baseVal||"",t))}const ro={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class VA extends ap{adjustAndStore(t,n,a){const o=n.style[t];n.dataset[t]=o,ss(n,{[t]:`${parseFloat(ss(n,t))+a}px`})}restore(t,n){const a=n.dataset[t];a!==void 0&&(delete n.dataset[t],ss(n,{[t]:a}))}setContainerStyle(t){super.setContainerStyle(t);const n=this.getElement();if(OA(n,"modal-open"),!t.scrollBarWidth)return;const a=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";no(n,ro.FIXED_CONTENT).forEach(u=>this.adjustAndStore(a,u,t.scrollBarWidth)),no(n,ro.STICKY_CONTENT).forEach(u=>this.adjustAndStore(o,u,-t.scrollBarWidth)),no(n,ro.NAVBAR_TOGGLER).forEach(u=>this.adjustAndStore(o,u,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const n=this.getElement();MA(n,"modal-open");const a=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";no(n,ro.FIXED_CONTENT).forEach(u=>this.restore(a,u)),no(n,ro.STICKY_CONTENT).forEach(u=>this.restore(o,u)),no(n,ro.NAVBAR_TOGGLER).forEach(u=>this.restore(o,u))}}let Yd;function jA(i){return Yd||(Yd=new VA(i)),Yd}const QE=S.forwardRef(({className:i,bsPrefix:t,as:n="div",...a},o)=>(t=Wt(t,"modal-body"),v.jsx(n,{ref:o,className:Vt(i,t),...a})));QE.displayName="ModalBody";const $E=S.createContext({onHide(){}}),sp=S.forwardRef(({bsPrefix:i,className:t,contentClassName:n,centered:a,size:o,fullscreen:u,children:f,scrollable:m,...p},g)=>{i=Wt(i,"modal");const T=`${i}-dialog`,b=typeof u=="string"?`${i}-fullscreen-${u}`:`${i}-fullscreen`;return v.jsx("div",{...p,ref:g,className:Vt(T,t,o&&`${i}-${o}`,a&&`${T}-centered`,m&&`${T}-scrollable`,u&&b),children:v.jsx("div",{className:Vt(`${i}-content`,n),children:f})})});sp.displayName="ModalDialog";const KE=S.forwardRef(({className:i,bsPrefix:t,as:n="div",...a},o)=>(t=Wt(t,"modal-footer"),v.jsx(n,{ref:o,className:Vt(i,t),...a})));KE.displayName="ModalFooter";const kA=S.forwardRef(({closeLabel:i="Close",closeVariant:t,closeButton:n=!1,onHide:a,children:o,...u},f)=>{const m=S.useContext($E),p=ql(()=>{m==null||m.onHide(),a==null||a()});return v.jsxs("div",{ref:f,...u,children:[o,n&&v.jsx(Zm,{"aria-label":i,variant:t,onClick:p})]})}),YE=S.forwardRef(({bsPrefix:i,className:t,closeLabel:n="Close",closeButton:a=!1,...o},u)=>(i=Wt(i,"modal-header"),v.jsx(kA,{ref:u,...o,className:Vt(t,i),closeLabel:n,closeButton:a})));YE.displayName="ModalHeader";const LA=Ym("h4"),XE=S.forwardRef(({className:i,bsPrefix:t,as:n=LA,...a},o)=>(t=Wt(t,"modal-title"),v.jsx(n,{ref:o,className:Vt(i,t),...a})));XE.displayName="ModalTitle";function UA(i){return v.jsx(Wm,{...i,timeout:null})}function PA(i){return v.jsx(Wm,{...i,timeout:null})}const WE=S.forwardRef(({bsPrefix:i,className:t,style:n,dialogClassName:a,contentClassName:o,children:u,dialogAs:f=sp,"data-bs-theme":m,"aria-labelledby":p,"aria-describedby":g,"aria-label":T,show:b=!1,animation:x=!0,backdrop:D=!0,keyboard:M=!0,onEscapeKeyDown:H,onShow:j,onHide:L,container:Q,autoFocus:K=!0,enforceFocus:rt=!0,restoreFocus:at=!0,restoreFocusOptions:ct,onEntered:V,onExit:C,onExiting:R,onEnter:O,onEntering:U,onExited:z,backdropClassName:N,manager:Ot,...xt},it)=>{const[ht,ut]=S.useState({}),[At,k]=S.useState(!1),tt=S.useRef(!1),dt=S.useRef(!1),st=S.useRef(null),[ot,St]=fA(),gt=pE(it,St),oe=ql(L),Ct=uE();i=Wt(i,"modal");const ee=S.useMemo(()=>({onHide:oe}),[oe]);function Lt(){return Ot||jA({isRTL:Ct})}function ne(Et){if(!Eo)return;const ue=Lt().getScrollbarWidth()>0,En=Et.scrollHeight>dh(Et).documentElement.clientHeight;ut({paddingRight:ue&&!En?A_():void 0,paddingLeft:!ue&&En?A_():void 0})}const le=ql(()=>{ot&&ne(ot.dialog)});CE(()=>{dm(window,"resize",le),st.current==null||st.current()});const Te=()=>{tt.current=!0},Fe=Et=>{tt.current&&ot&&Et.target===ot.dialog&&(dt.current=!0),tt.current=!1},jt=()=>{k(!0),st.current=fE(ot.dialog,()=>{k(!1)})},on=Et=>{Et.target===Et.currentTarget&&jt()},Cn=Et=>{if(D==="static"){on(Et);return}if(dt.current||Et.target!==Et.currentTarget){dt.current=!1;return}L==null||L()},gr=Et=>{M?H==null||H(Et):(Et.preventDefault(),D==="static"&&jt())},yr=(Et,ue)=>{Et&&ne(Et),O==null||O(Et,ue)},nr=Et=>{st.current==null||st.current(),C==null||C(Et)},vr=(Et,ue)=>{U==null||U(Et,ue),hE(window,"resize",le)},ba=Et=>{Et&&(Et.style.display=""),z==null||z(Et),dm(window,"resize",le)},_r=S.useCallback(Et=>v.jsx("div",{...Et,className:Vt(`${i}-backdrop`,N,!x&&"show")}),[x,N,i]),be={...n,...ht};be.display="block";const Gr=Et=>v.jsx("div",{role:"dialog",...Et,style:be,className:Vt(t,i,At&&`${i}-static`,!x&&"show"),onClick:D?Cn:void 0,onMouseUp:Fe,"data-bs-theme":m,"aria-label":T,"aria-labelledby":p,"aria-describedby":g,children:v.jsx(f,{...xt,onMouseDown:Te,className:a,contentClassName:o,children:u})});return v.jsx($E.Provider,{value:ee,children:v.jsx(NA,{show:b,ref:gt,backdrop:D,container:Q,keyboard:!0,autoFocus:K,enforceFocus:rt,restoreFocus:at,restoreFocusOptions:ct,onEscapeKeyDown:gr,onShow:j,onHide:L,onEnter:yr,onEntering:vr,onEntered:V,onExit:nr,onExiting:R,onExited:ba,manager:Lt(),transition:x?UA:void 0,backdropTransition:x?PA:void 0,renderBackdrop:_r,renderDialog:Gr})})});WE.displayName="Modal";const Mc=Object.assign(WE,{Body:QE,Header:YE,Title:XE,Footer:KE,Dialog:sp,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),BA="/tommitres/assets/title-jtZepJQw.png",zA="/tommitres/assets/call-BNBx8ngi.png",gh=()=>{const[i,t]=S.useState({width:window.innerWidth,height:window.innerHeight}),n=()=>{t({width:window.innerWidth,height:window.innerHeight})};return S.useEffect(()=>(window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)),[]),i},iu=()=>{const[i,t]=S.useState({userType:null});return S.useEffect(()=>{const n=localStorage.getItem("currentUser");if(n){const a=JSON.parse(n);console.log(n),console.log(`return value: ${a}`),t({userType:a.username}),console.log(`return real ${a.username}`)}},[]),i},qA="/tommitres/assets/notificationIcon-BOV0DZ9I.png";var N_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE=function(i){const t=[];let n=0;for(let a=0;a<i.length;a++){let o=i.charCodeAt(a);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&a+1<i.length&&(i.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++a)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},HA=function(i){const t=[];let n=0,a=0;for(;n<i.length;){const o=i[n++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];t[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[a++]=String.fromCharCode(55296+(p>>10)),t[a++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],f=i[n++];t[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},JE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,T=u>>2,b=(u&3)<<4|m>>4;let x=(m&15)<<2|g>>6,D=g&63;p||(D=64,f||(x=64)),a.push(n[T],n[b],n[x],n[D])}return a.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(ZE(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):HA(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const b=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||b==null)throw new FA;const x=u<<2|m>>4;if(a.push(x),g!==64){const D=m<<4&240|g>>2;if(a.push(D),b!==64){const M=g<<6&192|b;a.push(M)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class FA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GA=function(i){const t=ZE(i);return JE.encodeByteArray(t,!0)},Zc=function(i){return GA(i).replace(/\./g,"")},QA=function(i){try{return JE.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA=()=>$A().__FIREBASE_DEFAULTS__,YA=()=>{if(typeof process>"u"||typeof N_>"u")return;const i=N_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},XA=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&QA(i[1]);return t&&JSON.parse(t)},op=()=>{try{return KA()||YA()||XA()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},WA=i=>{var t,n;return(n=(t=op())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[i]},ZA=i=>{const t=WA(i);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),a]:[t.substring(0,n),a]},tT=()=>{var i;return(i=op())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=t||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Zc(JSON.stringify(n)),Zc(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nR(){var i;const t=(i=op())===null||i===void 0?void 0:i.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rR(){return!nR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iR(){try{return typeof indexedDB=="object"}catch{return!1}}function aR(){return new Promise((i,t)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="FirebaseError";class To extends Error{constructor(t,n,a){super(n),this.code=t,this.customData=a,this.name=sR,Object.setPrototypeOf(this,To.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eT.prototype.create)}}class eT{constructor(t,n,a){this.service=t,this.serviceName=n,this.errors=a}create(t,...n){const a=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?oR(u,a):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new To(o,m,a)}}function oR(i,t){return i.replace(lR,(n,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const lR=/\{\$([^}]+)}/g;function gm(i,t){if(i===t)return!0;const n=Object.keys(i),a=Object.keys(t);for(const o of n){if(!a.includes(o))return!1;const u=i[o],f=t[o];if(I_(u)&&I_(f)){if(!gm(u,f))return!1}else if(u!==f)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function I_(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(i){return i&&i._delegate?i._delegate:i}class Hl{constructor(t,n,a){this.name=t,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const a=new JA;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const a=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(hR(t))try{this.getOrInitializeService({instanceIdentifier:ns})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(t=ns){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ns){return this.instances.has(t)}getOptions(t=ns){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&f.resolve(o)}return o}onInit(t,n){var a;const o=this.normalizeInstanceIdentifier(n),u=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;u.add(t),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&t(f,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:cR(t),options:n}),this.instances.set(t,a),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=ns){return this.component?this.component.multipleInstances?t:ns:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cR(i){return i===ns?void 0:i}function hR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new uR(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Yt||(Yt={}));const dR={debug:Yt.DEBUG,verbose:Yt.VERBOSE,info:Yt.INFO,warn:Yt.WARN,error:Yt.ERROR,silent:Yt.SILENT},mR=Yt.INFO,pR={[Yt.DEBUG]:"log",[Yt.VERBOSE]:"log",[Yt.INFO]:"info",[Yt.WARN]:"warn",[Yt.ERROR]:"error"},gR=(i,t,...n)=>{if(t<i.logLevel)return;const a=new Date().toISOString(),o=pR[t];if(o)console[o](`[${a}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class nT{constructor(t){this.name=t,this._logLevel=mR,this._logHandler=gR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Yt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?dR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Yt.DEBUG,...t),this._logHandler(this,Yt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Yt.VERBOSE,...t),this._logHandler(this,Yt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Yt.INFO,...t),this._logHandler(this,Yt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Yt.WARN,...t),this._logHandler(this,Yt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Yt.ERROR,...t),this._logHandler(this,Yt.ERROR,...t)}}const yR=(i,t)=>t.some(n=>i instanceof n);let O_,M_;function vR(){return O_||(O_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _R(){return M_||(M_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rT=new WeakMap,ym=new WeakMap,iT=new WeakMap,Xd=new WeakMap,lp=new WeakMap;function ER(i){const t=new Promise((n,a)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(oa(i.result)),o()},f=()=>{a(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&rT.set(n,i)}).catch(()=>{}),lp.set(t,i),t}function TR(i){if(ym.has(i))return;const t=new Promise((n,a)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{a(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});ym.set(i,t)}let vm={get(i,t,n){if(i instanceof IDBTransaction){if(t==="done")return ym.get(i);if(t==="objectStoreNames")return i.objectStoreNames||iT.get(i);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return oa(i[t])},set(i,t,n){return i[t]=n,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function bR(i){vm=i(vm)}function xR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const a=i.call(Wd(this),t,...n);return iT.set(a,t.sort?t.sort():[t]),oa(a)}:_R().includes(i)?function(...t){return i.apply(Wd(this),t),oa(rT.get(this))}:function(...t){return oa(i.apply(Wd(this),t))}}function SR(i){return typeof i=="function"?xR(i):(i instanceof IDBTransaction&&TR(i),yR(i,vR())?new Proxy(i,vm):i)}function oa(i){if(i instanceof IDBRequest)return ER(i);if(Xd.has(i))return Xd.get(i);const t=SR(i);return t!==i&&(Xd.set(i,t),lp.set(t,i)),t}const Wd=i=>lp.get(i);function wR(i,t,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const f=indexedDB.open(i,t),m=oa(f);return a&&f.addEventListener("upgradeneeded",p=>{a(oa(f.result),p.oldVersion,p.newVersion,oa(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const AR=["get","getKey","getAll","getAllKeys","count"],RR=["put","add","delete","clear"],Zd=new Map;function V_(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Zd.get(t))return Zd.get(t);const n=t.replace(/FromIndex$/,""),a=t!==n,o=RR.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||AR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return a&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Zd.set(t,u),u}bR(i=>({...i,get:(t,n,a)=>V_(t,n)||i.get(t,n,a),has:(t,n)=>!!V_(t,n)||i.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(DR(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function DR(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const _m="@firebase/app",j_="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i=new nT("@firebase/app"),NR="@firebase/app-compat",IR="@firebase/analytics-compat",OR="@firebase/analytics",MR="@firebase/app-check-compat",VR="@firebase/app-check",jR="@firebase/auth",kR="@firebase/auth-compat",LR="@firebase/database",UR="@firebase/data-connect",PR="@firebase/database-compat",BR="@firebase/functions",zR="@firebase/functions-compat",qR="@firebase/installations",HR="@firebase/installations-compat",FR="@firebase/messaging",GR="@firebase/messaging-compat",QR="@firebase/performance",$R="@firebase/performance-compat",KR="@firebase/remote-config",YR="@firebase/remote-config-compat",XR="@firebase/storage",WR="@firebase/storage-compat",ZR="@firebase/firestore",JR="@firebase/vertexai",tC="@firebase/firestore-compat",eC="firebase",nC="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="[DEFAULT]",rC={[_m]:"fire-core",[NR]:"fire-core-compat",[OR]:"fire-analytics",[IR]:"fire-analytics-compat",[VR]:"fire-app-check",[MR]:"fire-app-check-compat",[jR]:"fire-auth",[kR]:"fire-auth-compat",[LR]:"fire-rtdb",[UR]:"fire-data-connect",[PR]:"fire-rtdb-compat",[BR]:"fire-fn",[zR]:"fire-fn-compat",[qR]:"fire-iid",[HR]:"fire-iid-compat",[FR]:"fire-fcm",[GR]:"fire-fcm-compat",[QR]:"fire-perf",[$R]:"fire-perf-compat",[KR]:"fire-rc",[YR]:"fire-rc-compat",[XR]:"fire-gcs",[WR]:"fire-gcs-compat",[ZR]:"fire-fst",[tC]:"fire-fst-compat",[JR]:"fire-vertex","fire-js":"fire-js",[eC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc=new Map,iC=new Map,Tm=new Map;function k_(i,t){try{i.container.addComponent(t)}catch(n){_i.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,n)}}function th(i){const t=i.name;if(Tm.has(t))return _i.debug(`There were multiple attempts to register component ${t}.`),!1;Tm.set(t,i);for(const n of Jc.values())k_(n,i);for(const n of iC.values())k_(n,i);return!0}function aC(i,t){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(t)}function sC(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},la=new eT("app","Firebase",oC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(t,n,a){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Hl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw la.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=nC;function aT(i,t={}){let n=i;typeof t!="object"&&(t={name:t});const a=Object.assign({name:Em,automaticDataCollectionEnabled:!1},t),o=a.name;if(typeof o!="string"||!o)throw la.create("bad-app-name",{appName:String(o)});if(n||(n=tT()),!n)throw la.create("no-options");const u=Jc.get(o);if(u){if(gm(n,u.options)&&gm(a,u.config))return u;throw la.create("duplicate-app",{appName:o})}const f=new fR(o);for(const p of Tm.values())f.addComponent(p);const m=new lC(n,a,f);return Jc.set(o,m),m}function cC(i=Em){const t=Jc.get(i);if(!t&&i===Em&&tT())return aT();if(!t)throw la.create("no-app",{appName:i});return t}function uo(i,t,n){var a;let o=(a=rC[i])!==null&&a!==void 0?a:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${t}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),_i.warn(m.join(" "));return}th(new Hl(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC="firebase-heartbeat-database",fC=1,Fl="firebase-heartbeat-store";let Jd=null;function sT(){return Jd||(Jd=wR(hC,fC,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Fl)}catch(n){console.warn(n)}}}}).catch(i=>{throw la.create("idb-open",{originalErrorMessage:i.message})})),Jd}async function dC(i){try{const n=(await sT()).transaction(Fl),a=await n.objectStore(Fl).get(oT(i));return await n.done,a}catch(t){if(t instanceof To)_i.warn(t.message);else{const n=la.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});_i.warn(n.message)}}}async function L_(i,t){try{const a=(await sT()).transaction(Fl,"readwrite");await a.objectStore(Fl).put(t,oT(i)),await a.done}catch(n){if(n instanceof To)_i.warn(n.message);else{const a=la.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});_i.warn(a.message)}}}function oT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=1024,pC=30;class gC{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vC(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=U_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>pC){const f=_C(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){_i.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=U_(),{heartbeatsToSend:a,unsentEntries:o}=yC(this._heartbeatsCache.heartbeats),u=Zc(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return _i.warn(n),""}}}function U_(){return new Date().toISOString().substring(0,10)}function yC(i,t=mC){const n=[];let a=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),P_(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),P_(n)>t){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class vC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iR()?aR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await dC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return L_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return L_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function P_(i){return Zc(JSON.stringify({version:2,heartbeats:i})).length}function _C(i){if(i.length===0)return-1;let t=0,n=i[0].date;for(let a=1;a<i.length;a++)i[a].date<n&&(n=i[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(i){th(new Hl("platform-logger",t=>new CR(t),"PRIVATE")),th(new Hl("heartbeat",t=>new gC(t),"PRIVATE")),uo(_m,j_,i),uo(_m,j_,"esm2017"),uo("fire-js","")}EC("");var B_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ua,lT;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,C){function R(){}R.prototype=C.prototype,V.D=C.prototype,V.prototype=new R,V.prototype.constructor=V,V.C=function(O,U,z){for(var N=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)N[Ot-2]=arguments[Ot];return C.prototype[U].apply(O,N)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,C,R){R||(R=0);var O=Array(16);if(typeof C=="string")for(var U=0;16>U;++U)O[U]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(U=0;16>U;++U)O[U]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=V.g[0],R=V.g[1],U=V.g[2];var z=V.g[3],N=C+(z^R&(U^z))+O[0]+3614090360&4294967295;C=R+(N<<7&4294967295|N>>>25),N=z+(U^C&(R^U))+O[1]+3905402710&4294967295,z=C+(N<<12&4294967295|N>>>20),N=U+(R^z&(C^R))+O[2]+606105819&4294967295,U=z+(N<<17&4294967295|N>>>15),N=R+(C^U&(z^C))+O[3]+3250441966&4294967295,R=U+(N<<22&4294967295|N>>>10),N=C+(z^R&(U^z))+O[4]+4118548399&4294967295,C=R+(N<<7&4294967295|N>>>25),N=z+(U^C&(R^U))+O[5]+1200080426&4294967295,z=C+(N<<12&4294967295|N>>>20),N=U+(R^z&(C^R))+O[6]+2821735955&4294967295,U=z+(N<<17&4294967295|N>>>15),N=R+(C^U&(z^C))+O[7]+4249261313&4294967295,R=U+(N<<22&4294967295|N>>>10),N=C+(z^R&(U^z))+O[8]+1770035416&4294967295,C=R+(N<<7&4294967295|N>>>25),N=z+(U^C&(R^U))+O[9]+2336552879&4294967295,z=C+(N<<12&4294967295|N>>>20),N=U+(R^z&(C^R))+O[10]+4294925233&4294967295,U=z+(N<<17&4294967295|N>>>15),N=R+(C^U&(z^C))+O[11]+2304563134&4294967295,R=U+(N<<22&4294967295|N>>>10),N=C+(z^R&(U^z))+O[12]+1804603682&4294967295,C=R+(N<<7&4294967295|N>>>25),N=z+(U^C&(R^U))+O[13]+4254626195&4294967295,z=C+(N<<12&4294967295|N>>>20),N=U+(R^z&(C^R))+O[14]+2792965006&4294967295,U=z+(N<<17&4294967295|N>>>15),N=R+(C^U&(z^C))+O[15]+1236535329&4294967295,R=U+(N<<22&4294967295|N>>>10),N=C+(U^z&(R^U))+O[1]+4129170786&4294967295,C=R+(N<<5&4294967295|N>>>27),N=z+(R^U&(C^R))+O[6]+3225465664&4294967295,z=C+(N<<9&4294967295|N>>>23),N=U+(C^R&(z^C))+O[11]+643717713&4294967295,U=z+(N<<14&4294967295|N>>>18),N=R+(z^C&(U^z))+O[0]+3921069994&4294967295,R=U+(N<<20&4294967295|N>>>12),N=C+(U^z&(R^U))+O[5]+3593408605&4294967295,C=R+(N<<5&4294967295|N>>>27),N=z+(R^U&(C^R))+O[10]+38016083&4294967295,z=C+(N<<9&4294967295|N>>>23),N=U+(C^R&(z^C))+O[15]+3634488961&4294967295,U=z+(N<<14&4294967295|N>>>18),N=R+(z^C&(U^z))+O[4]+3889429448&4294967295,R=U+(N<<20&4294967295|N>>>12),N=C+(U^z&(R^U))+O[9]+568446438&4294967295,C=R+(N<<5&4294967295|N>>>27),N=z+(R^U&(C^R))+O[14]+3275163606&4294967295,z=C+(N<<9&4294967295|N>>>23),N=U+(C^R&(z^C))+O[3]+4107603335&4294967295,U=z+(N<<14&4294967295|N>>>18),N=R+(z^C&(U^z))+O[8]+1163531501&4294967295,R=U+(N<<20&4294967295|N>>>12),N=C+(U^z&(R^U))+O[13]+2850285829&4294967295,C=R+(N<<5&4294967295|N>>>27),N=z+(R^U&(C^R))+O[2]+4243563512&4294967295,z=C+(N<<9&4294967295|N>>>23),N=U+(C^R&(z^C))+O[7]+1735328473&4294967295,U=z+(N<<14&4294967295|N>>>18),N=R+(z^C&(U^z))+O[12]+2368359562&4294967295,R=U+(N<<20&4294967295|N>>>12),N=C+(R^U^z)+O[5]+4294588738&4294967295,C=R+(N<<4&4294967295|N>>>28),N=z+(C^R^U)+O[8]+2272392833&4294967295,z=C+(N<<11&4294967295|N>>>21),N=U+(z^C^R)+O[11]+1839030562&4294967295,U=z+(N<<16&4294967295|N>>>16),N=R+(U^z^C)+O[14]+4259657740&4294967295,R=U+(N<<23&4294967295|N>>>9),N=C+(R^U^z)+O[1]+2763975236&4294967295,C=R+(N<<4&4294967295|N>>>28),N=z+(C^R^U)+O[4]+1272893353&4294967295,z=C+(N<<11&4294967295|N>>>21),N=U+(z^C^R)+O[7]+4139469664&4294967295,U=z+(N<<16&4294967295|N>>>16),N=R+(U^z^C)+O[10]+3200236656&4294967295,R=U+(N<<23&4294967295|N>>>9),N=C+(R^U^z)+O[13]+681279174&4294967295,C=R+(N<<4&4294967295|N>>>28),N=z+(C^R^U)+O[0]+3936430074&4294967295,z=C+(N<<11&4294967295|N>>>21),N=U+(z^C^R)+O[3]+3572445317&4294967295,U=z+(N<<16&4294967295|N>>>16),N=R+(U^z^C)+O[6]+76029189&4294967295,R=U+(N<<23&4294967295|N>>>9),N=C+(R^U^z)+O[9]+3654602809&4294967295,C=R+(N<<4&4294967295|N>>>28),N=z+(C^R^U)+O[12]+3873151461&4294967295,z=C+(N<<11&4294967295|N>>>21),N=U+(z^C^R)+O[15]+530742520&4294967295,U=z+(N<<16&4294967295|N>>>16),N=R+(U^z^C)+O[2]+3299628645&4294967295,R=U+(N<<23&4294967295|N>>>9),N=C+(U^(R|~z))+O[0]+4096336452&4294967295,C=R+(N<<6&4294967295|N>>>26),N=z+(R^(C|~U))+O[7]+1126891415&4294967295,z=C+(N<<10&4294967295|N>>>22),N=U+(C^(z|~R))+O[14]+2878612391&4294967295,U=z+(N<<15&4294967295|N>>>17),N=R+(z^(U|~C))+O[5]+4237533241&4294967295,R=U+(N<<21&4294967295|N>>>11),N=C+(U^(R|~z))+O[12]+1700485571&4294967295,C=R+(N<<6&4294967295|N>>>26),N=z+(R^(C|~U))+O[3]+2399980690&4294967295,z=C+(N<<10&4294967295|N>>>22),N=U+(C^(z|~R))+O[10]+4293915773&4294967295,U=z+(N<<15&4294967295|N>>>17),N=R+(z^(U|~C))+O[1]+2240044497&4294967295,R=U+(N<<21&4294967295|N>>>11),N=C+(U^(R|~z))+O[8]+1873313359&4294967295,C=R+(N<<6&4294967295|N>>>26),N=z+(R^(C|~U))+O[15]+4264355552&4294967295,z=C+(N<<10&4294967295|N>>>22),N=U+(C^(z|~R))+O[6]+2734768916&4294967295,U=z+(N<<15&4294967295|N>>>17),N=R+(z^(U|~C))+O[13]+1309151649&4294967295,R=U+(N<<21&4294967295|N>>>11),N=C+(U^(R|~z))+O[4]+4149444226&4294967295,C=R+(N<<6&4294967295|N>>>26),N=z+(R^(C|~U))+O[11]+3174756917&4294967295,z=C+(N<<10&4294967295|N>>>22),N=U+(C^(z|~R))+O[2]+718787259&4294967295,U=z+(N<<15&4294967295|N>>>17),N=R+(z^(U|~C))+O[9]+3951481745&4294967295,V.g[0]=V.g[0]+C&4294967295,V.g[1]=V.g[1]+(U+(N<<21&4294967295|N>>>11))&4294967295,V.g[2]=V.g[2]+U&4294967295,V.g[3]=V.g[3]+z&4294967295}a.prototype.u=function(V,C){C===void 0&&(C=V.length);for(var R=C-this.blockSize,O=this.B,U=this.h,z=0;z<C;){if(U==0)for(;z<=R;)o(this,V,z),z+=this.blockSize;if(typeof V=="string"){for(;z<C;)if(O[U++]=V.charCodeAt(z++),U==this.blockSize){o(this,O),U=0;break}}else for(;z<C;)if(O[U++]=V[z++],U==this.blockSize){o(this,O),U=0;break}}this.h=U,this.o+=C},a.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var C=1;C<V.length-8;++C)V[C]=0;var R=8*this.o;for(C=V.length-8;C<V.length;++C)V[C]=R&255,R/=256;for(this.u(V),V=Array(16),C=R=0;4>C;++C)for(var O=0;32>O;O+=8)V[R++]=this.g[C]>>>O&255;return V};function u(V,C){var R=m;return Object.prototype.hasOwnProperty.call(R,V)?R[V]:R[V]=C(V)}function f(V,C){this.h=C;for(var R=[],O=!0,U=V.length-1;0<=U;U--){var z=V[U]|0;O&&z==C||(R[U]=z,O=!1)}this.g=R}var m={};function p(V){return-128<=V&&128>V?u(V,function(C){return new f([C|0],0>C?-1:0)}):new f([V|0],0>V?-1:0)}function g(V){if(isNaN(V)||!isFinite(V))return b;if(0>V)return j(g(-V));for(var C=[],R=1,O=0;V>=R;O++)C[O]=V/R|0,R*=4294967296;return new f(C,0)}function T(V,C){if(V.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(V.charAt(0)=="-")return j(T(V.substring(1),C));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(C,8)),O=b,U=0;U<V.length;U+=8){var z=Math.min(8,V.length-U),N=parseInt(V.substring(U,U+z),C);8>z?(z=g(Math.pow(C,z)),O=O.j(z).add(g(N))):(O=O.j(R),O=O.add(g(N)))}return O}var b=p(0),x=p(1),D=p(16777216);i=f.prototype,i.m=function(){if(H(this))return-j(this).m();for(var V=0,C=1,R=0;R<this.g.length;R++){var O=this.i(R);V+=(0<=O?O:4294967296+O)*C,C*=4294967296}return V},i.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(M(this))return"0";if(H(this))return"-"+j(this).toString(V);for(var C=g(Math.pow(V,6)),R=this,O="";;){var U=rt(R,C).g;R=L(R,U.j(C));var z=((0<R.g.length?R.g[0]:R.h)>>>0).toString(V);if(R=U,M(R))return z+O;for(;6>z.length;)z="0"+z;O=z+O}},i.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function M(V){if(V.h!=0)return!1;for(var C=0;C<V.g.length;C++)if(V.g[C]!=0)return!1;return!0}function H(V){return V.h==-1}i.l=function(V){return V=L(this,V),H(V)?-1:M(V)?0:1};function j(V){for(var C=V.g.length,R=[],O=0;O<C;O++)R[O]=~V.g[O];return new f(R,~V.h).add(x)}i.abs=function(){return H(this)?j(this):this},i.add=function(V){for(var C=Math.max(this.g.length,V.g.length),R=[],O=0,U=0;U<=C;U++){var z=O+(this.i(U)&65535)+(V.i(U)&65535),N=(z>>>16)+(this.i(U)>>>16)+(V.i(U)>>>16);O=N>>>16,z&=65535,N&=65535,R[U]=N<<16|z}return new f(R,R[R.length-1]&-2147483648?-1:0)};function L(V,C){return V.add(j(C))}i.j=function(V){if(M(this)||M(V))return b;if(H(this))return H(V)?j(this).j(j(V)):j(j(this).j(V));if(H(V))return j(this.j(j(V)));if(0>this.l(D)&&0>V.l(D))return g(this.m()*V.m());for(var C=this.g.length+V.g.length,R=[],O=0;O<2*C;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var U=0;U<V.g.length;U++){var z=this.i(O)>>>16,N=this.i(O)&65535,Ot=V.i(U)>>>16,xt=V.i(U)&65535;R[2*O+2*U]+=N*xt,Q(R,2*O+2*U),R[2*O+2*U+1]+=z*xt,Q(R,2*O+2*U+1),R[2*O+2*U+1]+=N*Ot,Q(R,2*O+2*U+1),R[2*O+2*U+2]+=z*Ot,Q(R,2*O+2*U+2)}for(O=0;O<C;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=C;O<2*C;O++)R[O]=0;return new f(R,0)};function Q(V,C){for(;(V[C]&65535)!=V[C];)V[C+1]+=V[C]>>>16,V[C]&=65535,C++}function K(V,C){this.g=V,this.h=C}function rt(V,C){if(M(C))throw Error("division by zero");if(M(V))return new K(b,b);if(H(V))return C=rt(j(V),C),new K(j(C.g),j(C.h));if(H(C))return C=rt(V,j(C)),new K(j(C.g),C.h);if(30<V.g.length){if(H(V)||H(C))throw Error("slowDivide_ only works with positive integers.");for(var R=x,O=C;0>=O.l(V);)R=at(R),O=at(O);var U=ct(R,1),z=ct(O,1);for(O=ct(O,2),R=ct(R,2);!M(O);){var N=z.add(O);0>=N.l(V)&&(U=U.add(R),z=N),O=ct(O,1),R=ct(R,1)}return C=L(V,U.j(C)),new K(U,C)}for(U=b;0<=V.l(C);){for(R=Math.max(1,Math.floor(V.m()/C.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),z=g(R),N=z.j(C);H(N)||0<N.l(V);)R-=O,z=g(R),N=z.j(C);M(z)&&(z=x),U=U.add(z),V=L(V,N)}return new K(U,V)}i.A=function(V){return rt(this,V).h},i.and=function(V){for(var C=Math.max(this.g.length,V.g.length),R=[],O=0;O<C;O++)R[O]=this.i(O)&V.i(O);return new f(R,this.h&V.h)},i.or=function(V){for(var C=Math.max(this.g.length,V.g.length),R=[],O=0;O<C;O++)R[O]=this.i(O)|V.i(O);return new f(R,this.h|V.h)},i.xor=function(V){for(var C=Math.max(this.g.length,V.g.length),R=[],O=0;O<C;O++)R[O]=this.i(O)^V.i(O);return new f(R,this.h^V.h)};function at(V){for(var C=V.g.length+1,R=[],O=0;O<C;O++)R[O]=V.i(O)<<1|V.i(O-1)>>>31;return new f(R,V.h)}function ct(V,C){var R=C>>5;C%=32;for(var O=V.g.length-R,U=[],z=0;z<O;z++)U[z]=0<C?V.i(z+R)>>>C|V.i(z+R+1)<<32-C:V.i(z+R);return new f(U,V.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,lT=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=T,ua=f}).apply(typeof B_<"u"?B_:typeof self<"u"?self:typeof window<"u"?window:{});var Vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uT,Ml,cT,qc,bm,hT,fT,dT;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vc=="object"&&Vc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=n(this);function o(c,y){if(y)t:{var _=a;c=c.split(".");for(var A=0;A<c.length-1;A++){var F=c[A];if(!(F in _))break t;_=_[F]}c=c[c.length-1],A=_[c],y=y(A),y!=A&&y!=null&&t(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,A=!1,F={next:function(){if(!A&&_<c.length){var Y=_++;return{value:y(Y,c[Y]),done:!1}}return A=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function T(c,y,_){return c.call.apply(c.bind,arguments)}function b(c,y,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,A),c.apply(y,F)}}return function(){return c.apply(y,arguments)}}function x(c,y,_){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:b,x.apply(null,arguments)}function D(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function M(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,F,Y){for(var lt=Array(arguments.length-2),Gt=2;Gt<arguments.length;Gt++)lt[Gt-2]=arguments[Gt];return y.prototype[F].apply(A,lt)}}function H(c){const y=c.length;if(0<y){const _=Array(y);for(let A=0;A<y;A++)_[A]=c[A];return _}return[]}function j(c,y){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const F=c.length||0,Y=A.length||0;c.length=F+Y;for(let lt=0;lt<Y;lt++)c[F+lt]=A[lt]}else c.push(A)}}class L{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Q(c){return/^[\s\xa0]*$/.test(c)}function K(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function rt(c){return rt[" "](c),c}rt[" "]=function(){};var at=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function ct(c,y,_){for(const A in c)y.call(_,c[A],A,c)}function V(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function C(c){const y={};for(const _ in c)y[_]=c[_];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,y){let _,A;for(let F=1;F<arguments.length;F++){A=arguments[F];for(_ in A)c[_]=A[_];for(let Y=0;Y<R.length;Y++)_=R[Y],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function U(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function z(c){m.setTimeout(()=>{throw c},0)}function N(){var c=At;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Ot{constructor(){this.h=this.g=null}add(y,_){const A=xt.get();A.set(y,_),this.h?this.h.next=A:this.g=A,this.h=A}}var xt=new L(()=>new it,c=>c.reset());class it{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ht,ut=!1,At=new Ot,k=()=>{const c=m.Promise.resolve(void 0);ht=()=>{c.then(tt)}};var tt=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(_){z(_)}var y=xt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ut=!1};function dt(){this.s=this.s,this.C=this.C}dt.prototype.s=!1,dt.prototype.ma=function(){this.s||(this.s=!0,this.N())},dt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function st(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}st.prototype.h=function(){this.defaultPrevented=!0};var ot=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function St(c,y){if(st.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(at){t:{try{rt(y.nodeName);var F=!0;break t}catch{}F=!1}F||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:gt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&St.aa.h.call(this)}}M(St,st);var gt={2:"touch",3:"pen",4:"mouse"};St.prototype.h=function(){St.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var oe="closure_listenable_"+(1e6*Math.random()|0),Ct=0;function ee(c,y,_,A,F){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!A,this.ha=F,this.key=++Ct,this.da=this.fa=!1}function Lt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ne(c){this.src=c,this.g={},this.h=0}ne.prototype.add=function(c,y,_,A,F){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var lt=Te(c,y,A,F);return-1<lt?(y=c[lt],_||(y.fa=!1)):(y=new ee(y,this.src,Y,!!A,F),y.fa=_,c.push(y)),y};function le(c,y){var _=y.type;if(_ in c.g){var A=c.g[_],F=Array.prototype.indexOf.call(A,y,void 0),Y;(Y=0<=F)&&Array.prototype.splice.call(A,F,1),Y&&(Lt(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Te(c,y,_,A){for(var F=0;F<c.length;++F){var Y=c[F];if(!Y.da&&Y.listener==y&&Y.capture==!!_&&Y.ha==A)return F}return-1}var Fe="closure_lm_"+(1e6*Math.random()|0),jt={};function on(c,y,_,A,F){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)on(c,y[Y],_,A,F);return null}return _=Gr(_),c&&c[oe]?c.K(y,_,g(A)?!!A.capture:!1,F):Cn(c,y,_,!1,A,F)}function Cn(c,y,_,A,F,Y){if(!y)throw Error("Invalid event type");var lt=g(F)?!!F.capture:!!F,Gt=_r(c);if(Gt||(c[Fe]=Gt=new ne(c)),_=Gt.add(y,_,A,lt,Y),_.proxy)return _;if(A=gr(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)ot||(F=lt),F===void 0&&(F=!1),c.addEventListener(y.toString(),A,F);else if(c.attachEvent)c.attachEvent(vr(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function gr(){function c(_){return y.call(c.src,c.listener,_)}const y=ba;return c}function yr(c,y,_,A,F){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)yr(c,y[Y],_,A,F);else A=g(A)?!!A.capture:!!A,_=Gr(_),c&&c[oe]?(c=c.i,y=String(y).toString(),y in c.g&&(Y=c.g[y],_=Te(Y,_,A,F),-1<_&&(Lt(Y[_]),Array.prototype.splice.call(Y,_,1),Y.length==0&&(delete c.g[y],c.h--)))):c&&(c=_r(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Te(y,_,A,F)),(_=-1<c?y[c]:null)&&nr(_))}function nr(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[oe])le(y.i,c);else{var _=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(_,A,c.capture):y.detachEvent?y.detachEvent(vr(_),A):y.addListener&&y.removeListener&&y.removeListener(A),(_=_r(y))?(le(_,c),_.h==0&&(_.src=null,y[Fe]=null)):Lt(c)}}}function vr(c){return c in jt?jt[c]:jt[c]="on"+c}function ba(c,y){if(c.da)c=!0;else{y=new St(y,this);var _=c.listener,A=c.ha||c.src;c.fa&&nr(c),c=_.call(A,y)}return c}function _r(c){return c=c[Fe],c instanceof ne?c:null}var be="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gr(c){return typeof c=="function"?c:(c[be]||(c[be]=function(y){return c.handleEvent(y)}),c[be])}function Et(){dt.call(this),this.i=new ne(this),this.M=this,this.F=null}M(Et,dt),Et.prototype[oe]=!0,Et.prototype.removeEventListener=function(c,y,_,A){yr(this,c,y,_,A)};function ue(c,y){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new st(y,c);else if(y instanceof st)y.target=y.target||c;else{var F=y;y=new st(A,c),O(y,F)}if(F=!0,_)for(var Y=_.length-1;0<=Y;Y--){var lt=y.g=_[Y];F=En(lt,A,!0,y)&&F}if(lt=y.g=c,F=En(lt,A,!0,y)&&F,F=En(lt,A,!1,y)&&F,_)for(Y=0;Y<_.length;Y++)lt=y.g=_[Y],F=En(lt,A,!1,y)&&F}Et.prototype.N=function(){if(Et.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],A=0;A<_.length;A++)Lt(_[A]);delete c.g[y],c.h--}}this.F=null},Et.prototype.K=function(c,y,_,A){return this.i.add(String(c),y,!1,_,A)},Et.prototype.L=function(c,y,_,A){return this.i.add(String(c),y,!0,_,A)};function En(c,y,_,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var F=!0,Y=0;Y<y.length;++Y){var lt=y[Y];if(lt&&!lt.da&&lt.capture==_){var Gt=lt.listener,Ue=lt.ha||lt.src;lt.fa&&le(c.i,lt),F=Gt.call(Ue,A)!==!1&&F}}return F&&!A.defaultPrevented}function xa(c,y,_){if(typeof c=="function")_&&(c=x(c,_));else if(c&&typeof c.handleEvent=="function")c=x(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Qr(c){c.g=xa(()=>{c.g=null,c.i&&(c.i=!1,Qr(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class ds extends dt{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Qr(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tt(c){dt.call(this),this.h=c,this.g={}}M(Tt,dt);var qt=[];function he(c){ct(c.g,function(y,_){this.g.hasOwnProperty(_)&&nr(y)},c),c.g={}}Tt.prototype.N=function(){Tt.aa.N.call(this),he(this)},Tt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rr=m.JSON.stringify,Ln=m.JSON.parse,mn=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Ro(){}Ro.prototype.h=null;function hu(c){return c.h||(c.h=c.i())}function fu(){}var Er={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Si(){st.call(this,"d")}M(Si,st);function ir(){st.call(this,"c")}M(ir,st);var Un={},wi=null;function ms(){return wi=wi||new Et}Un.La="serverreachability";function Co(c){st.call(this,Un.La,c)}M(Co,st);function Ai(c){const y=ms();ue(y,new Co(y))}Un.STAT_EVENT="statevent";function ps(c,y){st.call(this,Un.STAT_EVENT,c),this.stat=y}M(ps,st);function De(c){const y=ms();ue(y,new ps(y,c))}Un.Ma="timingevent";function du(c,y){st.call(this,Un.Ma,c),this.size=y}M(du,st);function Ri(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Ci(){this.g=!0}Ci.prototype.xa=function(){this.g=!1};function mu(c,y,_,A,F,Y){c.info(function(){if(c.g)if(Y)for(var lt="",Gt=Y.split("&"),Ue=0;Ue<Gt.length;Ue++){var Qt=Gt[Ue].split("=");if(1<Qt.length){var $e=Qt[0];Qt=Qt[1];var Pe=$e.split("_");lt=2<=Pe.length&&Pe[1]=="type"?lt+($e+"="+Qt+"&"):lt+($e+"=redacted&")}}else lt=null;else lt=Y;return"XMLHTTP REQ ("+A+") [attempt "+F+"]: "+y+`
`+_+`
`+lt})}function pu(c,y,_,A,F,Y,lt){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+F+"]: "+y+`
`+_+`
`+Y+" "+lt})}function Di(c,y,_,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ge(c,_)+(A?" "+A:"")})}function Tr(c,y){c.info(function(){return"TIMEOUT: "+y})}Ci.prototype.info=function(){};function Ge(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var F=A[1];if(Array.isArray(F)&&!(1>F.length)){var Y=F[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var lt=1;lt<F.length;lt++)F[lt]=""}}}}return rr(_)}catch{return y}}var Le={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},$r={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Sa;function gs(){}M(gs,Ro),gs.prototype.g=function(){return new XMLHttpRequest},gs.prototype.i=function(){return{}},Sa=new gs;function br(c,y,_,A){this.j=c,this.i=y,this.l=_,this.R=A||1,this.U=new Tt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Do}function Do(){this.i=null,this.g="",this.h=!1}var Ni={},wa={};function ar(c,y,_){c.L=1,c.v=Ca(xe(y)),c.m=_,c.P=!0,Kr(c,null)}function Kr(c,y){c.F=Date.now(),ge(c),c.A=xe(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Wr(_.i,"t",A),c.C=0,_=c.j.J,c.h=new Do,c.g=Du(c.j,_?y:null,!c.m),0<c.O&&(c.M=new ds(x(c.Y,c,c.g),c.O)),y=c.U,_=c.g,A=c.ca;var F="readystatechange";Array.isArray(F)||(F&&(qt[0]=F.toString()),F=qt);for(var Y=0;Y<F.length;Y++){var lt=on(_,F[Y],A||y.handleEvent,!1,y.h||y);if(!lt)break;y.g[lt.key]=lt}y=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Ai(),mu(c.i,c.u,c.A,c.l,c.R,c.m)}br.prototype.ca=function(c){c=c.target;const y=this.M;y&&Hn(c)==3?y.j():this.Y(c)},br.prototype.Y=function(c){try{if(c==this.g)t:{const Pe=Hn(this.g);var y=this.g.Ba();const ei=this.g.Z();if(!(3>Pe)&&(Pe!=3||this.g&&(this.h.h||this.g.oa()||Tu(this.g)))){this.J||Pe!=4||y==7||(y==8||0>=ei?Ai(3):Ai(2)),ys(this);var _=this.g.Z();this.X=_;e:if(Ii(this)){var A=Tu(this.g);c="";var F=A.length,Y=Hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Tn(this),Dn(this);var lt="";break e}this.h.i=new m.TextDecoder}for(y=0;y<F;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(Y&&y==F-1)});A.length=0,this.h.g+=c,this.C=0,lt=this.h.g}else lt=this.g.oa();if(this.o=_==200,pu(this.i,this.u,this.A,this.l,this.R,Pe,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Gt,Ue=this.g;if((Gt=Ue.g?Ue.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(Gt)){var Qt=Gt;break e}}Qt=null}if(_=Qt)Di(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Nn(this,_);else{this.o=!1,this.s=3,De(12),Tn(this),Dn(this);break t}}if(this.P){_=!0;let Ze;for(;!this.J&&this.C<lt.length;)if(Ze=Oi(this,lt),Ze==wa){Pe==4&&(this.s=4,De(14),_=!1),Di(this.i,this.l,null,"[Incomplete Response]");break}else if(Ze==Ni){this.s=4,De(15),Di(this.i,this.l,lt,"[Invalid Chunk]"),_=!1;break}else Di(this.i,this.l,Ze,null),Nn(this,Ze);if(Ii(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pe!=4||lt.length!=0||this.h.h||(this.s=1,De(16),_=!1),this.o=this.o&&_,!_)Di(this.i,this.l,lt,"[Invalid Chunked Response]"),Tn(this),Dn(this);else if(0<lt.length&&!this.W){this.W=!0;var $e=this.j;$e.g==this&&$e.ba&&!$e.M&&($e.j.info("Great, no buffering proxy detected. Bytes received: "+lt.length),ja($e),$e.M=!0,De(11))}}else Di(this.i,this.l,lt,null),Nn(this,lt);Pe==4&&Tn(this),this.o&&!this.J&&(Pe==4?Au(this.j,this):(this.o=!1,ge(this)))}else Bh(this.g),_==400&&0<lt.indexOf("Unknown SID")?(this.s=3,De(12)):(this.s=0,De(13)),Tn(this),Dn(this)}}}catch{}finally{}};function Ii(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Oi(c,y){var _=c.C,A=y.indexOf(`
`,_);return A==-1?wa:(_=Number(y.substring(_,A)),isNaN(_)?Ni:(A+=1,A+_>y.length?wa:(y=y.slice(A,A+_),c.C=A+_,y)))}br.prototype.cancel=function(){this.J=!0,Tn(this)};function ge(c){c.S=Date.now()+c.I,No(c,c.I)}function No(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ri(x(c.ba,c),y)}function ys(c){c.B&&(m.clearTimeout(c.B),c.B=null)}br.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Tr(this.i,this.A),this.L!=2&&(Ai(),De(17)),Tn(this),this.s=2,Dn(this)):No(this,this.S-c)};function Dn(c){c.j.G==0||c.J||Au(c.j,c)}function Tn(c){ys(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,he(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Nn(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Mi(_.h,c))){if(!c.K&&Mi(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var F=A;if(F[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Rs(_),ws(_);else break t;zo(_),De(18)}}else _.za=F[1],0<_.za-_.T&&37500>F[2]&&_.F&&_.v==0&&!_.C&&(_.C=Ri(x(_.Za,_),6e3));if(1>=gu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else ti(_,11)}else if((c.K||_.g==c)&&Rs(_),!Q(y))for(F=_.Da.g.parse(y),y=0;y<F.length;y++){let Qt=F[y];if(_.T=Qt[0],Qt=Qt[1],_.G==2)if(Qt[0]=="c"){_.K=Qt[1],_.ia=Qt[2];const $e=Qt[3];$e!=null&&(_.la=$e,_.j.info("VER="+_.la));const Pe=Qt[4];Pe!=null&&(_.Aa=Pe,_.j.info("SVER="+_.Aa));const ei=Qt[5];ei!=null&&typeof ei=="number"&&0<ei&&(A=1.5*ei,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Ze=c.g;if(Ze){const Dr=Ze.g?Ze.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Dr){var Y=A.h;Y.g||Dr.indexOf("spdy")==-1&&Dr.indexOf("quic")==-1&&Dr.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Vi(Y,Y.h),Y.h=null))}if(A.D){const Ho=Ze.g?Ze.g.getResponseHeader("X-HTTP-Session-Id"):null;Ho&&(A.ya=Ho,Zt(A.I,A.D,Ho))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var lt=c;if(A.qa=Cu(A,A.J?A.ia:null,A.W),lt.K){Pn(A.h,lt);var Gt=lt,Ue=A.L;Ue&&(Gt.I=Ue),Gt.B&&(ys(Gt),ge(Gt)),A.g=lt}else Su(A);0<_.i.length&&As(_)}else Qt[0]!="stop"&&Qt[0]!="close"||ti(_,7);else _.G==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?ti(_,7):Po(_):Qt[0]!="noop"&&_.l&&_.l.ta(Qt),_.v=0)}}Ai(4)}catch{}}var jh=class{constructor(c,y){this.g=c,this.map=y}};function Io(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Oo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function gu(c){return c.h?1:c.g?c.g.size:0}function Mi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Vi(c,y){c.g?c.g.add(y):c.h=y}function Pn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Io.prototype.cancel=function(){if(this.i=pn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function pn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return H(c.i)}function yu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,A=0;A<_;A++)y.push(c[A]);return y}y=[],_=0;for(A in c)y[_++]=c[A];return y}function kh(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const A in c)y[_++]=A;return y}}}function Aa(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=kh(c),A=yu(c),F=A.length,Y=0;Y<F;Y++)y.call(void 0,A[Y],_&&_[Y],c)}var Mo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vs(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),F=null;if(0<=A){var Y=c[_].substring(0,A);F=c[_].substring(A+1)}else Y=c[_];y(Y,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Yr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Yr){this.h=c.h,ji(this,c.j),this.o=c.o,this.g=c.g,Ra(this,c.s),this.l=c.l;var y=c.i,_=new xr;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),_s(this,_),this.m=c.m}else c&&(y=String(c).match(Mo))?(this.h=!1,ji(this,y[1]||"",!0),this.o=ki(y[2]||""),this.g=ki(y[3]||"",!0),Ra(this,y[4]),this.l=ki(y[5]||"",!0),_s(this,y[6]||"",!0),this.m=ki(y[7]||"")):(this.h=!1,this.i=new xr(null,this.h))}Yr.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Bn(y,Vo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Bn(y,Vo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Bn(_,_.charAt(0)=="/"?jo:vu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Bn(_,Ph)),c.join("")};function xe(c){return new Yr(c)}function ji(c,y,_){c.j=_?ki(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ra(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function _s(c,y,_){y instanceof xr?(c.i=y,ko(c.i,c.h)):(_||(y=Bn(y,Uh)),c.i=new xr(y,c.h))}function Zt(c,y,_){c.i.set(y,_)}function Ca(c){return Zt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ki(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Bn(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Lh),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Lh(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Vo=/[#\/\?@]/g,vu=/[#\?:]/g,jo=/[#\?]/g,Uh=/[#\?@]/g,Ph=/#/g;function xr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function zn(c){c.g||(c.g=new Map,c.h=0,c.i&&vs(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=xr.prototype,i.add=function(c,y){zn(this),this.i=null,c=Zr(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Es(c,y){zn(c),y=Zr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Xr(c,y){return zn(c),y=Zr(c,y),c.g.has(y)}i.forEach=function(c,y){zn(this),this.g.forEach(function(_,A){_.forEach(function(F){c.call(y,F,A,this)},this)},this)},i.na=function(){zn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let A=0;A<y.length;A++){const F=c[A];for(let Y=0;Y<F.length;Y++)_.push(y[A])}return _},i.V=function(c){zn(this);let y=[];if(typeof c=="string")Xr(this,c)&&(y=y.concat(this.g.get(Zr(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return zn(this),this.i=null,c=Zr(this,c),Xr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Wr(c,y,_){Es(c,y),0<_.length&&(c.i=null,c.g.set(Zr(c,y),H(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var A=y[_];const Y=encodeURIComponent(String(A)),lt=this.V(A);for(A=0;A<lt.length;A++){var F=Y;lt[A]!==""&&(F+="="+encodeURIComponent(String(lt[A]))),c.push(F)}}return this.i=c.join("&")};function Zr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function ko(c,y){y&&!c.j&&(zn(c),c.i=null,c.g.forEach(function(_,A){var F=A.toLowerCase();A!=F&&(Es(this,A),Wr(this,F,_))},c)),c.j=y}function _u(c,y){const _=new Ci;if(m.Image){const A=new Image;A.onload=D(qn,_,"TestLoadImage: loaded",!0,y,A),A.onerror=D(qn,_,"TestLoadImage: error",!1,y,A),A.onabort=D(qn,_,"TestLoadImage: abort",!1,y,A),A.ontimeout=D(qn,_,"TestLoadImage: timeout",!1,y,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Da(c,y){const _=new Ci,A=new AbortController,F=setTimeout(()=>{A.abort(),qn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(Y=>{clearTimeout(F),Y.ok?qn(_,"TestPingServer: ok",!0,y):qn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),qn(_,"TestPingServer: error",!1,y)})}function qn(c,y,_,A,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),A(_)}catch{}}function Na(){this.g=new mn}function Sr(c,y,_){const A=_||"";try{Aa(c,function(F,Y){let lt=F;g(F)&&(lt=rr(F)),y.push(A+Y+"="+encodeURIComponent(lt))})}catch(F){throw y.push(A+"type="+encodeURIComponent("_badmap")),F}}function Li(c){this.l=c.Ub||null,this.j=c.eb||!1}M(Li,Ro),Li.prototype.g=function(){return new Jr(this.l,this.j)},Li.prototype.i=function(c){return function(){return c}}({});function Jr(c,y){Et.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(Jr,Et),i=Jr.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Ar(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wr(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ar(this)),this.g&&(this.readyState=3,Ar(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Lo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Lo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?wr(this):Ar(this),this.readyState==3&&Lo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,wr(this))},i.Qa=function(c){this.g&&(this.response=c,wr(this))},i.ga=function(){this.g&&wr(this)};function wr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ar(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function Ar(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Jr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Uo(c){let y="";return ct(c,function(_,A){y+=A,y+=":",y+=_,y+=`\r
`}),y}function Qe(c,y,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=Uo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Zt(c,y,_))}function re(c){Et.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(re,Et);var Ts=/^https?$/i,Ia=["POST","PUT"];i=re.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Sa.g(),this.v=this.o?hu(this.o):hu(Sa),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Y){Eu(this,Y);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var F in A)_.set(F,A[F]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Y of A.keys())_.set(Y,A.get(Y));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),F=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ia,y,void 0))||A||F||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,lt]of _)this.g.setRequestHeader(Y,lt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Oa(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){Eu(this,Y)}};function Eu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,bs(c),Rr(c)}function bs(c){c.A||(c.A=!0,ue(c,"complete"),ue(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ue(this,"complete"),ue(this,"abort"),Rr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rr(this,!0)),re.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?xs(this):this.bb())},i.bb=function(){xs(this)};function xs(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Hn(c)!=4||c.Z()!=2)){if(c.u&&Hn(c)==4)xa(c.Ea,0,c);else if(ue(c,"readystatechange"),Hn(c)==4){c.h=!1;try{const lt=c.Z();t:switch(lt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var A;if(A=lt===0){var F=String(c.D).match(Mo)[1]||null;!F&&m.self&&m.self.location&&(F=m.self.location.protocol.slice(0,-1)),A=!Ts.test(F?F.toLowerCase():"")}_=A}if(_)ue(c,"complete"),ue(c,"success");else{c.m=6;try{var Y=2<Hn(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",bs(c)}}finally{Rr(c)}}}}function Rr(c,y){if(c.g){Oa(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||ue(c,"ready");try{_.onreadystatechange=A}catch{}}}function Oa(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Hn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Hn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Ln(y)}};function Tu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Bh(c){const y={};c=(c.g&&2<=Hn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(Q(c[A]))continue;var _=U(c[A]);const F=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=y[F]||[];y[F]=Y,Y.push(_)}V(y,function(A){return A.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ma(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Ss(c){this.Aa=0,this.i=[],this.j=new Ci,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ma("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ma("baseRetryDelayMs",5e3,c),this.cb=Ma("retryDelaySeedMs",1e4,c),this.Wa=Ma("forwardChannelMaxRetries",2,c),this.wa=Ma("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Io(c&&c.concurrentRequestLimit),this.Da=new Na,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Ss.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,A){De(0),this.W=c,this.H=y||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Cu(this,null,this.W),As(this)};function Po(c){if(bu(c),c.G==3){var y=c.U++,_=xe(c.I);if(Zt(_,"SID",c.K),Zt(_,"RID",y),Zt(_,"TYPE","terminate"),Va(c,_),y=new br(c,c.j,y),y.L=2,y.v=Ca(xe(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Du(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ge(y)}Ru(c)}function ws(c){c.g&&(ja(c),c.g.cancel(),c.g=null)}function bu(c){ws(c),c.u&&(m.clearTimeout(c.u),c.u=null),Rs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function As(c){if(!Oo(c.h)&&!c.s){c.s=!0;var y=c.Ga;ht||k(),ut||(ht(),ut=!0),At.add(y,c),c.B=0}}function zh(c,y){return gu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ri(x(c.Ga,c,y),qo(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const F=new br(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=C(Y),O(Y,this.S)):Y=this.S),this.m!==null||this.O||(F.H=Y,Y=null),this.P)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=xu(this,F,y),_=xe(this.I),Zt(_,"RID",c),Zt(_,"CVER",22),this.D&&Zt(_,"X-HTTP-Session-Id",this.D),Va(this,_),Y&&(this.O?y="headers="+encodeURIComponent(String(Uo(Y)))+"&"+y:this.m&&Qe(_,this.m,Y)),Vi(this.h,F),this.Ua&&Zt(_,"TYPE","init"),this.P?(Zt(_,"$req",y),Zt(_,"SID","null"),F.T=!0,ar(F,_,null)):ar(F,_,y),this.G=2}}else this.G==3&&(c?Bo(this,c):this.i.length==0||Oo(this.h)||Bo(this))};function Bo(c,y){var _;y?_=y.l:_=c.U++;const A=xe(c.I);Zt(A,"SID",c.K),Zt(A,"RID",_),Zt(A,"AID",c.T),Va(c,A),c.m&&c.o&&Qe(A,c.m,c.o),_=new br(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=xu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Vi(c.h,_),ar(_,A,y)}function Va(c,y){c.H&&ct(c.H,function(_,A){Zt(y,A,_)}),c.l&&Aa({},function(_,A){Zt(y,A,_)})}function xu(c,y,_){_=Math.min(c.i.length,_);var A=c.l?x(c.l.Na,c.l,c):null;t:{var F=c.i;let Y=-1;for(;;){const lt=["count="+_];Y==-1?0<_?(Y=F[0].g,lt.push("ofs="+Y)):Y=0:lt.push("ofs="+Y);let Gt=!0;for(let Ue=0;Ue<_;Ue++){let Qt=F[Ue].g;const $e=F[Ue].map;if(Qt-=Y,0>Qt)Y=Math.max(0,F[Ue].g-100),Gt=!1;else try{Sr($e,lt,"req"+Qt+"_")}catch{A&&A($e)}}if(Gt){A=lt.join("&");break t}}}return c=c.i.splice(0,_),y.D=c,A}function Su(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ht||k(),ut||(ht(),ut=!0),At.add(y,c),c.v=0}}function zo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ri(x(c.Fa,c),qo(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,wu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ri(x(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,De(10),ws(this),wu(this))};function ja(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function wu(c){c.g=new br(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=xe(c.qa);Zt(y,"RID","rpc"),Zt(y,"SID",c.K),Zt(y,"AID",c.T),Zt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Zt(y,"TO",c.ja),Zt(y,"TYPE","xmlhttp"),Va(c,y),c.m&&c.o&&Qe(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Ca(xe(y)),_.m=null,_.P=!0,Kr(_,c)}i.Za=function(){this.C!=null&&(this.C=null,ws(this),zo(this),De(19))};function Rs(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Au(c,y){var _=null;if(c.g==y){Rs(c),ja(c),c.g=null;var A=2}else if(Mi(c.h,y))_=y.D,Pn(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var F=c.B;A=ms(),ue(A,new du(A,_)),As(c)}else Su(c);else if(F=y.s,F==3||F==0&&0<y.X||!(A==1&&zh(c,y)||A==2&&zo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),F){case 1:ti(c,5);break;case 4:ti(c,10);break;case 3:ti(c,6);break;default:ti(c,2)}}}function qo(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function ti(c,y){if(c.j.info("Error code "+y),y==2){var _=x(c.fb,c),A=c.Xa;const F=!A;A=new Yr(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ji(A,"https"),Ca(A),F?_u(A.toString(),_):Da(A.toString(),_)}else De(2);c.G=0,c.l&&c.l.sa(y),Ru(c),bu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),De(2)):(this.j.info("Failed to ping google.com"),De(1))};function Ru(c){if(c.G=0,c.ka=[],c.l){const y=pn(c.h);(y.length!=0||c.i.length!=0)&&(j(c.ka,y),j(c.ka,c.i),c.h.i.length=0,H(c.i),c.i.length=0),c.l.ra()}}function Cu(c,y,_){var A=_ instanceof Yr?xe(_):new Yr(_);if(A.g!="")y&&(A.g=y+"."+A.g),Ra(A,A.s);else{var F=m.location;A=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;var Y=new Yr(null);A&&ji(Y,A),y&&(Y.g=y),F&&Ra(Y,F),_&&(Y.l=_),A=Y}return _=c.D,y=c.ya,_&&y&&Zt(A,_,y),Zt(A,"VER",c.la),Va(c,A),A}function Du(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new re(new Li({eb:_})):new re(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Nu(){}i=Nu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Cs(){}Cs.prototype.g=function(c,y){return new gn(c,y)};function gn(c,y){Et.call(this),this.g=new Ss(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!Q(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!Q(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Cr(this)}M(gn,Et),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Po(this.g)},gn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=rr(c),c=_);y.i.push(new jh(y.Ya++,c)),y.G==3&&As(y)},gn.prototype.N=function(){this.g.l=null,delete this.j,Po(this.g),delete this.g,gn.aa.N.call(this)};function Iu(c){Si.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const _ in y){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}M(Iu,Si);function Ou(){ir.call(this),this.status=1}M(Ou,ir);function Cr(c){this.g=c}M(Cr,Nu),Cr.prototype.ua=function(){ue(this.g,"a")},Cr.prototype.ta=function(c){ue(this.g,new Iu(c))},Cr.prototype.sa=function(c){ue(this.g,new Ou)},Cr.prototype.ra=function(){ue(this.g,"b")},Cs.prototype.createWebChannel=Cs.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,dT=function(){return new Cs},fT=function(){return ms()},hT=Un,bm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Le.NO_ERROR=0,Le.TIMEOUT=8,Le.HTTP_ERROR=6,qc=Le,$r.COMPLETE="complete",cT=$r,fu.EventType=Er,Er.OPEN="a",Er.CLOSE="b",Er.ERROR="c",Er.MESSAGE="d",Et.prototype.listen=Et.prototype.K,Ml=fu,re.prototype.listenOnce=re.prototype.L,re.prototype.getLastError=re.prototype.Ka,re.prototype.getLastErrorCode=re.prototype.Ba,re.prototype.getStatus=re.prototype.Z,re.prototype.getResponseJson=re.prototype.Oa,re.prototype.getResponseText=re.prototype.oa,re.prototype.send=re.prototype.ea,re.prototype.setWithCredentials=re.prototype.Ha,uT=re}).apply(typeof Vc<"u"?Vc:typeof self<"u"?self:typeof window<"u"?window:{});const z_="@firebase/firestore",q_="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bo="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os=new nT("@firebase/firestore");function io(){return os.logLevel}function ft(i,...t){if(os.logLevel<=Yt.DEBUG){const n=t.map(up);os.debug(`Firestore (${bo}): ${i}`,...n)}}function Ei(i,...t){if(os.logLevel<=Yt.ERROR){const n=t.map(up);os.error(`Firestore (${bo}): ${i}`,...n)}}function ho(i,...t){if(os.logLevel<=Yt.WARN){const n=t.map(up);os.warn(`Firestore (${bo}): ${i}`,...n)}}function up(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(i="Unexpected state"){const t=`FIRESTORE (${bo}) INTERNAL ASSERTION FAILED: `+i;throw Ei(t),new Error(t)}function ie(i,t){i||wt()}function It(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mt extends To{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class TC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(hn.UNAUTHENTICATED))}shutdown(){}}class bC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class xC{constructor(t){this.t=t,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){ie(this.o===void 0);let a=this.i;const o=p=>this.i!==a?(a=this.i,n(p)):Promise.resolve();let u=new ca;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ca,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ca)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==t?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ie(typeof a.accessToken=="string"),new mT(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ie(t===null||typeof t=="string"),new hn(t)}}class SC{constructor(t,n,a){this.l=t,this.h=n,this.P=a,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class wC{constructor(t,n,a){this.l=t,this.h=n,this.P=a}getToken(){return Promise.resolve(new SC(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(hn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class H_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AC{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,sC(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){ie(this.o===void 0);const a=u=>{u.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,ft("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>a(u))};const o=u=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new H_(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(ie(typeof n.token=="string"),this.R=n.token,new H_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let a=0;a<i;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=RC(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=t.charAt(o[u]%62))}return a}}function Ft(i,t){return i<t?-1:i>t?1:0}function fo(i,t,n){return i.length===t.length&&i.every((a,o)=>n(a,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_=-62135596800,G_=1e6;class Ce{static now(){return Ce.fromMillis(Date.now())}static fromDate(t){return Ce.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),a=Math.floor((t-1e3*n)*G_);return new Ce(n,a)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new mt(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new mt(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<F_)throw new mt(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new mt(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/G_}_compareTo(t){return this.seconds===t.seconds?Ft(this.nanoseconds,t.nanoseconds):Ft(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-F_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{static fromTimestamp(t){return new Rt(t)}static min(){return new Rt(new Ce(0,0))}static max(){return new Rt(new Ce(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="__name__";class kr{constructor(t,n,a){n===void 0?n=0:n>t.length&&wt(),a===void 0?a=t.length-n:a>t.length-n&&wt(),this.segments=t,this.offset=n,this.len=a}get length(){return this.len}isEqual(t){return kr.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof kr?t.forEach(a=>{n.push(a)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,a=this.limit();n<a;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const a=Math.min(t.length,n.length);for(let o=0;o<a;o++){const u=kr.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Math.sign(t.length-n.length)}static compareSegments(t,n){const a=kr.isNumericId(t),o=kr.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?kr.extractNumericId(t).compare(kr.extractNumericId(n)):t<n?-1:t>n?1:0}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ua.fromString(t.substring(4,t.length-2))}}class me extends kr{construct(t,n,a){return new me(t,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const a of t){if(a.indexOf("//")>=0)throw new mt(et.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(o=>o.length>0))}return new me(n)}static emptyPath(){return new me([])}}const CC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends kr{construct(t,n,a){return new rn(t,n,a)}static isValidIdentifier(t){return CC.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Q_}static keyField(){return new rn([Q_])}static fromServerFormat(t){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new mt(et.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new mt(et.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new mt(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(a+=m,o++):(u(),o++)}if(u(),f)throw new mt(et.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new rn(n)}static emptyPath(){return new rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(t){this.path=t}static fromPath(t){return new _t(me.fromString(t))}static fromName(t){return new _t(me.fromString(t).popFirst(5))}static empty(){return new _t(me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&me.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return me.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new _t(new me(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl=-1;function DC(i,t){const n=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,o=Rt.fromTimestamp(a===1e9?new Ce(n+1,0):new Ce(n,a));return new da(o,_t.empty(),t)}function NC(i){return new da(i.readTime,i.key,Gl)}class da{constructor(t,n,a){this.readTime=t,this.documentKey=n,this.largestBatchId=a}static min(){return new da(Rt.min(),_t.empty(),Gl)}static max(){return new da(Rt.max(),_t.empty(),Gl)}}function IC(i,t){let n=i.readTime.compareTo(t.readTime);return n!==0?n:(n=_t.comparator(i.documentKey,t.documentKey),n!==0?n:Ft(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xo(i){if(i.code!==et.FAILED_PRECONDITION||i.message!==OC)throw i;ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&wt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new J((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):J.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):J.reject(n)}static resolve(t){return new J((n,a)=>{n(t)})}static reject(t){return new J((n,a)=>{a(t)})}static waitFor(t){return new J((n,a)=>{let o=0,u=0,f=!1;t.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>a(p))}),f=!0,u===o&&n()})}static or(t){let n=J.resolve(!1);for(const a of t)n=n.next(o=>o?J.resolve(o):a());return n}static forEach(t,n){const a=[];return t.forEach((o,u)=>{a.push(n.call(this,o,u))}),this.waitFor(a)}static mapArray(t,n){return new J((a,o)=>{const u=t.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(t[g]).next(T=>{f[g]=T,++m,m===u&&a(f)},T=>o(T))}})}static doWhile(t,n){return new J((a,o)=>{const u=()=>{t()===!0?n().next(()=>{u()},o):a()};u()})}}function VC(i){const t=i.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function So(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=a=>this.oe(a),this._e=a=>n.writeSequenceNumber(a))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}yh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp=-1;function vh(i){return i==null}function eh(i){return i===0&&1/i==-1/0}function jC(i){return typeof i=="number"&&Number.isInteger(i)&&!eh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="";function kC(i){let t="";for(let n=0;n<i.length;n++)t.length>0&&(t=$_(t)),t=LC(i.get(n),t);return $_(t)}function LC(i,t){let n=t;const a=i.length;for(let o=0;o<a;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case gT:n+="";break;default:n+=u}}return n}function $_(i){return i+gT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(i){let t=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t++;return t}function _a(i,t){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t(n,i[n])}function yT(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(t,n){this.comparator=t,this.root=n||nn.EMPTY}insert(t,n){return new Ee(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(t){return new Ee(this.comparator,this.root.remove(t,this.comparator).copy(null,null,nn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(t,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(t){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,a)=>(t(n,a),!1))}toString(){const t=[];return this.inorderTraversal((n,a)=>(t.push(`${n}:${a}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new jc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new jc(this.root,t,this.comparator,!1)}getReverseIterator(){return new jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new jc(this.root,t,this.comparator,!0)}}class jc{constructor(t,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?a(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class nn{constructor(t,n,a,o,u){this.key=t,this.value=n,this.color=a??nn.RED,this.left=o??nn.EMPTY,this.right=u??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,a,o,u){return new nn(t??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,a){let o=this;const u=a(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let a,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return nn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw wt();const t=this.left.check();if(t!==this.right.check())throw wt();return t+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw wt()}get value(){throw wt()}get color(){throw wt()}get left(){throw wt()}get right(){throw wt()}copy(t,n,a,o,u){return this}insert(t,n,a){return new nn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t){this.comparator=t,this.data=new Ee(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,a)=>(t(n),!1))}forEachInRange(t,n){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Y_(this.data.getIterator())}getIteratorFrom(t){return new Y_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(a=>{n=n.add(a)}),n}isEqual(t){if(!(t instanceof He)||this.size!==t.size)return!1;const n=this.data.getIterator(),a=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new He(this.comparator);return n.data=t,n}}class Y_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(t){this.fields=t,t.sort(rn.comparator)}static empty(){return new kn([])}unionWith(t){let n=new He(rn.comparator);for(const a of this.fields)n=n.add(a);for(const a of t)n=n.add(a);return new kn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return fo(this.fields,t.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new vT("Invalid base64 string: "+u):u}}(t);return new an(n)}static fromUint8Array(t){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new an(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ft(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}an.EMPTY_BYTE_STRING=new an("");const UC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ma(i){if(ie(!!i),typeof i=="string"){let t=0;const n=UC.exec(i);if(ie(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Ie(i.seconds),nanos:Ie(i.nanos)}}function Ie(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function pa(i){return typeof i=="string"?an.fromBase64String(i):an.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="server_timestamp",ET="__type__",TT="__previous_value__",bT="__local_write_time__";function hp(i){var t,n;return((n=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[ET])===null||n===void 0?void 0:n.stringValue)===_T}function _h(i){const t=i.mapValue.fields[TT];return hp(t)?_h(t):t}function Ql(i){const t=ma(i.mapValue.fields[bT].timestampValue);return new Ce(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(t,n,a,o,u,f,m,p,g){this.databaseId=t,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g}}const nh="(default)";class $l{constructor(t,n){this.projectId=t,this.database=n||nh}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database===nh}isEqual(t){return t instanceof $l&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="__type__",BC="__max__",kc={mapValue:{}},ST="__vector__",rh="value";function ga(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?hp(i)?4:qC(i)?9007199254740991:zC(i)?10:11:wt()}function zr(i,t){if(i===t)return!0;const n=ga(i);if(n!==ga(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return Ql(i).isEqual(Ql(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ma(o.timestampValue),m=ma(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return function(o,u){return pa(o.bytesValue).isEqual(pa(u.bytesValue))}(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return function(o,u){return Ie(o.geoPointValue.latitude)===Ie(u.geoPointValue.latitude)&&Ie(o.geoPointValue.longitude)===Ie(u.geoPointValue.longitude)}(i,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Ie(o.integerValue)===Ie(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Ie(o.doubleValue),m=Ie(u.doubleValue);return f===m?eh(f)===eh(m):isNaN(f)&&isNaN(m)}return!1}(i,t);case 9:return fo(i.arrayValue.values||[],t.arrayValue.values||[],zr);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(K_(f)!==K_(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!zr(f[p],m[p])))return!1;return!0}(i,t);default:return wt()}}function Kl(i,t){return(i.values||[]).find(n=>zr(n,t))!==void 0}function mo(i,t){if(i===t)return 0;const n=ga(i),a=ga(t);if(n!==a)return Ft(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ft(i.booleanValue,t.booleanValue);case 2:return function(u,f){const m=Ie(u.integerValue||u.doubleValue),p=Ie(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,t);case 3:return X_(i.timestampValue,t.timestampValue);case 4:return X_(Ql(i),Ql(t));case 5:return Ft(i.stringValue,t.stringValue);case 6:return function(u,f){const m=pa(u),p=pa(f);return m.compareTo(p)}(i.bytesValue,t.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const T=Ft(m[g],p[g]);if(T!==0)return T}return Ft(m.length,p.length)}(i.referenceValue,t.referenceValue);case 8:return function(u,f){const m=Ft(Ie(u.latitude),Ie(f.latitude));return m!==0?m:Ft(Ie(u.longitude),Ie(f.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return W_(i.arrayValue,t.arrayValue);case 10:return function(u,f){var m,p,g,T;const b=u.fields||{},x=f.fields||{},D=(m=b[rh])===null||m===void 0?void 0:m.arrayValue,M=(p=x[rh])===null||p===void 0?void 0:p.arrayValue,H=Ft(((g=D==null?void 0:D.values)===null||g===void 0?void 0:g.length)||0,((T=M==null?void 0:M.values)===null||T===void 0?void 0:T.length)||0);return H!==0?H:W_(D,M)}(i.mapValue,t.mapValue);case 11:return function(u,f){if(u===kc.mapValue&&f===kc.mapValue)return 0;if(u===kc.mapValue)return 1;if(f===kc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},T=Object.keys(g);p.sort(),T.sort();for(let b=0;b<p.length&&b<T.length;++b){const x=Ft(p[b],T[b]);if(x!==0)return x;const D=mo(m[p[b]],g[T[b]]);if(D!==0)return D}return Ft(p.length,T.length)}(i.mapValue,t.mapValue);default:throw wt()}}function X_(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Ft(i,t);const n=ma(i),a=ma(t),o=Ft(n.seconds,a.seconds);return o!==0?o:Ft(n.nanos,a.nanos)}function W_(i,t){const n=i.values||[],a=t.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=mo(n[o],a[o]);if(u)return u}return Ft(n.length,a.length)}function po(i){return xm(i)}function xm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const a=ma(n);return`time(${a.seconds},${a.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return pa(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return _t.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=xm(u);return a+"]"}(i.arrayValue):"mapValue"in i?function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of a)u?u=!1:o+=",",o+=`${f}:${xm(n.fields[f])}`;return o+"}"}(i.mapValue):wt()}function Hc(i){switch(ga(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=_h(i);return t?16+Hc(t):16;case 5:return 2*i.stringValue.length;case 6:return pa(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,u)=>o+Hc(u),0)}(i.arrayValue);case 10:case 11:return function(a){let o=0;return _a(a.fields,(u,f)=>{o+=u.length+Hc(f)}),o}(i.mapValue);default:throw wt()}}function Z_(i,t){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${t.path.canonicalString()}`}}function Sm(i){return!!i&&"integerValue"in i}function fp(i){return!!i&&"arrayValue"in i}function J_(i){return!!i&&"nullValue"in i}function t0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Fc(i){return!!i&&"mapValue"in i}function zC(i){var t,n;return((n=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[xT])===null||n===void 0?void 0:n.stringValue)===ST}function Ll(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const t={mapValue:{fields:{}}};return _a(i.mapValue.fields,(n,a)=>t.mapValue.fields[n]=Ll(a)),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ll(i.arrayValue.values[n]);return t}return Object.assign({},i)}function qC(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===BC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(t){this.value=t}static empty(){return new wn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let a=0;a<t.length-1;++a)if(n=(n.mapValue.fields||{})[t.get(a)],!Fc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ll(n)}setAll(t){let n=rn.emptyPath(),a={},o=[];t.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,a,o),a={},o=[],n=m.popLast()}f?a[m.lastSegment()]=Ll(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(t){const n=this.field(t.popLast());Fc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return zr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=n.mapValue.fields[t.get(a)];Fc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,a){_a(n,(o,u)=>t[o]=u);for(const o of a)delete t[o]}clone(){return new wn(Ll(this.value))}}function wT(i){const t=[];return _a(i.fields,(n,a)=>{const o=new rn([n]);if(Fc(a)){const u=wT(a.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)}),new kn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t,n,a,o,u,f,m){this.key=t,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new fn(t,0,Rt.min(),Rt.min(),Rt.min(),wn.empty(),0)}static newFoundDocument(t,n,a,o){return new fn(t,1,n,Rt.min(),a,o,0)}static newNoDocument(t,n){return new fn(t,2,n,Rt.min(),Rt.min(),wn.empty(),0)}static newUnknownDocument(t,n){return new fn(t,3,n,Rt.min(),Rt.min(),wn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof fn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(t,n){this.position=t,this.inclusive=n}}function e0(i,t,n){let a=0;for(let o=0;o<i.position.length;o++){const u=t[o],f=i.position[o];if(u.field.isKeyField()?a=_t.comparator(_t.fromName(f.referenceValue),n.key):a=mo(f,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function n0(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!zr(i.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(t,n="asc"){this.field=t,this.dir=n}}function HC(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{}class ke extends AT{constructor(t,n,a){super(),this.field=t,this.op=n,this.value=a}static create(t,n,a){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,a):new GC(t,n,a):n==="array-contains"?new KC(t,a):n==="in"?new YC(t,a):n==="not-in"?new XC(t,a):n==="array-contains-any"?new WC(t,a):new ke(t,n,a)}static createKeyFieldInFilter(t,n,a){return n==="in"?new QC(t,a):new $C(t,a)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(mo(n,this.value)):n!==null&&ga(this.value)===ga(n)&&this.matchesComparison(mo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return wt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dr extends AT{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new dr(t,n)}matches(t){return RT(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function RT(i){return i.op==="and"}function CT(i){return FC(i)&&RT(i)}function FC(i){for(const t of i.filters)if(t instanceof dr)return!1;return!0}function wm(i){if(i instanceof ke)return i.field.canonicalString()+i.op.toString()+po(i.value);if(CT(i))return i.filters.map(t=>wm(t)).join(",");{const t=i.filters.map(n=>wm(n)).join(",");return`${i.op}(${t})`}}function DT(i,t){return i instanceof ke?function(a,o){return o instanceof ke&&a.op===o.op&&a.field.isEqual(o.field)&&zr(a.value,o.value)}(i,t):i instanceof dr?function(a,o){return o instanceof dr&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((u,f,m)=>u&&DT(f,o.filters[m]),!0):!1}(i,t):void wt()}function NT(i){return i instanceof ke?function(n){return`${n.field.canonicalString()} ${n.op} ${po(n.value)}`}(i):i instanceof dr?function(n){return n.op.toString()+" {"+n.getFilters().map(NT).join(" ,")+"}"}(i):"Filter"}class GC extends ke{constructor(t,n,a){super(t,n,a),this.key=_t.fromName(a.referenceValue)}matches(t){const n=_t.comparator(t.key,this.key);return this.matchesComparison(n)}}class QC extends ke{constructor(t,n){super(t,"in",n),this.keys=IT("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class $C extends ke{constructor(t,n){super(t,"not-in",n),this.keys=IT("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function IT(i,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(a=>_t.fromName(a.referenceValue))}class KC extends ke{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return fp(n)&&Kl(n.arrayValue,this.value)}}class YC extends ke{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Kl(this.value.arrayValue,n)}}class XC extends ke{constructor(t,n){super(t,"not-in",n)}matches(t){if(Kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Kl(this.value.arrayValue,n)}}class WC extends ke{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!fp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>Kl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(t,n=null,a=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function r0(i,t=null,n=[],a=[],o=null,u=null,f=null){return new ZC(i,t,n,a,o,u,f)}function dp(i){const t=It(i);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(a=>wm(a)).join(","),n+="|ob:",n+=t.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),vh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(a=>po(a)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(a=>po(a)).join(",")),t.le=n}return t.le}function mp(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!HC(i.orderBy[n],t.orderBy[n]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!DT(i.filters[n],t.filters[n]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!n0(i.startAt,t.startAt)&&n0(i.endAt,t.endAt)}function Am(i){return _t.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(t,n=null,a=[],o=[],u=null,f="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function JC(i,t,n,a,o,u,f,m){return new wo(i,t,n,a,o,u,f,m)}function pp(i){return new wo(i)}function i0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function OT(i){return i.collectionGroup!==null}function Ul(i){const t=It(i);if(t.he===null){t.he=[];const n=new Set;for(const u of t.explicitOrderBy)t.he.push(u),n.add(u.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new He(rn.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.he.push(new Yl(u,a))}),n.has(rn.keyField().canonicalString())||t.he.push(new Yl(rn.keyField(),a))}return t.he}function Lr(i){const t=It(i);return t.Pe||(t.Pe=t2(t,Ul(i))),t.Pe}function t2(i,t){if(i.limitType==="F")return r0(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Yl(o.field,u)});const n=i.endAt?new ih(i.endAt.position,i.endAt.inclusive):null,a=i.startAt?new ih(i.startAt.position,i.startAt.inclusive):null;return r0(i.path,i.collectionGroup,t,i.filters,i.limit,n,a)}}function Rm(i,t){const n=i.filters.concat([t]);return new wo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Cm(i,t,n){return new wo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,n,i.startAt,i.endAt)}function Eh(i,t){return mp(Lr(i),Lr(t))&&i.limitType===t.limitType}function MT(i){return`${dp(Lr(i))}|lt:${i.limitType}`}function ao(i){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(o=>NT(o)).join(", ")}]`),vh(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(o=>po(o)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(o=>po(o)).join(",")),`Target(${a})`}(Lr(i))}; limitType=${i.limitType})`}function Th(i,t){return t.isFoundDocument()&&function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):_t.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(i,t)&&function(a,o){for(const u of Ul(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,t)&&function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0}(i,t)&&function(a,o){return!(a.startAt&&!function(f,m,p){const g=e0(f,m,p);return f.inclusive?g<=0:g<0}(a.startAt,Ul(a),o)||a.endAt&&!function(f,m,p){const g=e0(f,m,p);return f.inclusive?g>=0:g>0}(a.endAt,Ul(a),o))}(i,t)}function e2(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function VT(i){return(t,n)=>{let a=!1;for(const o of Ul(i)){const u=n2(o,t,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function n2(i,t,n){const a=i.field.isKeyField()?_t.comparator(t.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?mo(p,g):wt()}(i.field,t,n);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return wt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){_a(this.inner,(n,a)=>{for(const[o,u]of a)t(o,u)})}isEmpty(){return yT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=new Ee(_t.comparator);function Ti(){return r2}const jT=new Ee(_t.comparator);function Vl(...i){let t=jT;for(const n of i)t=t.insert(n.key,n);return t}function kT(i){let t=jT;return i.forEach((n,a)=>t=t.insert(n,a.overlayedDocument)),t}function as(){return Pl()}function LT(){return Pl()}function Pl(){return new hs(i=>i.toString(),(i,t)=>i.isEqual(t))}const i2=new Ee(_t.comparator),a2=new He(_t.comparator);function zt(...i){let t=a2;for(const n of i)t=t.add(n);return t}const s2=new He(Ft);function o2(){return s2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gp(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eh(t)?"-0":t}}function UT(i){return{integerValue:""+i}}function l2(i,t){return jC(t)?UT(t):gp(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(){this._=void 0}}function u2(i,t,n){return i instanceof Xl?function(o,u){const f={fields:{[ET]:{stringValue:_T},[bT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&hp(u)&&(u=_h(u)),u&&(f.fields[TT]=u),{mapValue:f}}(n,t):i instanceof Wl?BT(i,t):i instanceof Zl?zT(i,t):function(o,u){const f=PT(o,u),m=a0(f)+a0(o.Ie);return Sm(f)&&Sm(o.Ie)?UT(m):gp(o.serializer,m)}(i,t)}function c2(i,t,n){return i instanceof Wl?BT(i,t):i instanceof Zl?zT(i,t):n}function PT(i,t){return i instanceof ah?function(a){return Sm(a)||function(u){return!!u&&"doubleValue"in u}(a)}(t)?t:{integerValue:0}:null}class Xl extends bh{}class Wl extends bh{constructor(t){super(),this.elements=t}}function BT(i,t){const n=qT(t);for(const a of i.elements)n.some(o=>zr(o,a))||n.push(a);return{arrayValue:{values:n}}}class Zl extends bh{constructor(t){super(),this.elements=t}}function zT(i,t){let n=qT(t);for(const a of i.elements)n=n.filter(o=>!zr(o,a));return{arrayValue:{values:n}}}class ah extends bh{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function a0(i){return Ie(i.integerValue||i.doubleValue)}function qT(i){return fp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(t,n){this.field=t,this.transform=n}}function f2(i,t){return i.field.isEqual(t.field)&&function(a,o){return a instanceof Wl&&o instanceof Wl||a instanceof Zl&&o instanceof Zl?fo(a.elements,o.elements,zr):a instanceof ah&&o instanceof ah?zr(a.Ie,o.Ie):a instanceof Xl&&o instanceof Xl}(i.transform,t.transform)}class d2{constructor(t,n){this.version=t,this.transformResults=n}}class hr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new hr}static exists(t){return new hr(void 0,t)}static updateTime(t){return new hr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Gc(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class xh{}function HT(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new yp(i.key,hr.none()):new au(i.key,i.data,hr.none());{const n=i.data,a=wn.empty();let o=new He(rn.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?a.delete(u):a.set(u,f),o=o.add(u)}return new Ea(i.key,a,new kn(o.toArray()),hr.none())}}function m2(i,t,n){i instanceof au?function(o,u,f){const m=o.value.clone(),p=o0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,t,n):i instanceof Ea?function(o,u,f){if(!Gc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=o0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(FT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(i,t,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function Bl(i,t,n,a){return i instanceof au?function(u,f,m,p){if(!Gc(u.precondition,f))return m;const g=u.value.clone(),T=l0(u.fieldTransforms,p,f);return g.setAll(T),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(i,t,n,a):i instanceof Ea?function(u,f,m,p){if(!Gc(u.precondition,f))return m;const g=l0(u.fieldTransforms,p,f),T=f.data;return T.setAll(FT(u)),T.setAll(g),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(i,t,n,a):function(u,f,m){return Gc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,t,n)}function p2(i,t){let n=null;for(const a of i.fieldTransforms){const o=t.data.field(a.field),u=PT(a.transform,o||null);u!=null&&(n===null&&(n=wn.empty()),n.set(a.field,u))}return n||null}function s0(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&fo(a,o,(u,f)=>f2(u,f))}(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class au extends xh{constructor(t,n,a,o=[]){super(),this.key=t,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ea extends xh{constructor(t,n,a,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function FT(i){const t=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=i.data.field(n);t.set(n,a)}}),t}function o0(i,t,n){const a=new Map;ie(i.length===n.length);for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=t.data.field(u.field);a.set(u.field,c2(f,m,n[o]))}return a}function l0(i,t,n){const a=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);a.set(o.field,u2(u,f,t))}return a}class yp extends xh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class g2 extends xh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(t,n,a,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&m2(u,t,a[o])}}applyToLocalView(t,n){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(n=Bl(a,t,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(n=Bl(a,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const a=LT();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=HT(f,m);p!==null&&a.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Rt.min())}),a}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),zt())}isEqual(t){return this.batchId===t.batchId&&fo(this.mutations,t.mutations,(n,a)=>s0(n,a))&&fo(this.baseMutations,t.baseMutations,(n,a)=>s0(n,a))}}class vp{constructor(t,n,a,o){this.batch=t,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(t,n,a){ie(t.mutations.length===a.length);let o=function(){return i2}();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,a[f].version);return new vp(t,n,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je,Kt;function E2(i){switch(i){case et.OK:return wt();case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0;default:return wt()}}function GT(i){if(i===void 0)return Ei("GRPC error has no .code"),et.UNKNOWN;switch(i){case je.OK:return et.OK;case je.CANCELLED:return et.CANCELLED;case je.UNKNOWN:return et.UNKNOWN;case je.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case je.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case je.INTERNAL:return et.INTERNAL;case je.UNAVAILABLE:return et.UNAVAILABLE;case je.UNAUTHENTICATED:return et.UNAUTHENTICATED;case je.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case je.NOT_FOUND:return et.NOT_FOUND;case je.ALREADY_EXISTS:return et.ALREADY_EXISTS;case je.PERMISSION_DENIED:return et.PERMISSION_DENIED;case je.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case je.ABORTED:return et.ABORTED;case je.OUT_OF_RANGE:return et.OUT_OF_RANGE;case je.UNIMPLEMENTED:return et.UNIMPLEMENTED;case je.DATA_LOSS:return et.DATA_LOSS;default:return wt()}}(Kt=je||(je={}))[Kt.OK=0]="OK",Kt[Kt.CANCELLED=1]="CANCELLED",Kt[Kt.UNKNOWN=2]="UNKNOWN",Kt[Kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kt[Kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kt[Kt.NOT_FOUND=5]="NOT_FOUND",Kt[Kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kt[Kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kt[Kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kt[Kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kt[Kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kt[Kt.ABORTED=10]="ABORTED",Kt[Kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kt[Kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kt[Kt.INTERNAL=13]="INTERNAL",Kt[Kt.UNAVAILABLE=14]="UNAVAILABLE",Kt[Kt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=new ua([4294967295,4294967295],0);function u0(i){const t=T2().encode(i),n=new lT;return n.update(t),new Uint8Array(n.digest())}function c0(i){const t=new DataView(i.buffer),n=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new ua([n,a],0),new ua([o,u],0)]}class _p{constructor(t,n,a){if(this.bitmap=t,this.padding=n,this.hashCount=a,n<0||n>=8)throw new jl(`Invalid padding: ${n}`);if(a<0)throw new jl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new jl(`Invalid hash count: ${a}`);if(t.length===0&&n!==0)throw new jl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=ua.fromNumber(this.Ee)}Ae(t,n,a){let o=t.add(n.multiply(ua.fromNumber(a)));return o.compare(b2)===1&&(o=new ua([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const n=u0(t),[a,o]=c0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(a,o,u);if(!this.Re(f))return!1}return!0}static create(t,n,a){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new _p(u,o,n);return a.forEach(m=>f.insert(m)),f}insert(t){if(this.Ee===0)return;const n=u0(t),[a,o]=c0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(a,o,u);this.Ve(f)}}Ve(t){const n=Math.floor(t/8),a=t%8;this.bitmap[n]|=1<<a}}class jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(t,n,a,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,a){const o=new Map;return o.set(t,su.createSynthesizedTargetChangeForCurrentChange(t,n,a)),new Sh(Rt.min(),o,new Ee(Ft),Ti(),zt())}}class su{constructor(t,n,a,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,a){return new su(a,n,zt(),zt(),zt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(t,n,a,o){this.me=t,this.removedTargetIds=n,this.key=a,this.fe=o}}class QT{constructor(t,n){this.targetId=t,this.ge=n}}class $T{constructor(t,n,a=an.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=a,this.cause=o}}class h0{constructor(){this.pe=0,this.ye=f0(),this.we=an.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=zt(),n=zt(),a=zt();return this.ye.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:wt()}}),new su(this.we,this.Se,t,n,a)}Me(){this.be=!1,this.ye=f0()}xe(t,n){this.be=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,ie(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class x2{constructor(t){this.ke=t,this.qe=new Map,this.Qe=Ti(),this.$e=Lc(),this.Ke=Lc(),this.Ue=new Ee(Ft)}We(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(n,t.fe):this.ze(n,t.key,t.fe);for(const n of t.removedTargetIds)this.ze(n,t.key,t.fe)}je(t){this.forEachTarget(t,n=>{const a=this.He(n);switch(t.state){case 0:this.Je(n)&&a.Ce(t.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(t.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(n);break;case 3:this.Je(n)&&(a.Le(),a.Ce(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),a.Ce(t.resumeToken));break;default:wt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((a,o)=>{this.Je(o)&&n(o)})}Ze(t){const n=t.targetId,a=t.ge.count,o=this.Xe(n);if(o){const u=o.target;if(Am(u))if(a===0){const f=new _t(u.path);this.ze(n,f,fn.newNoDocument(f,Rt.min()))}else ie(a===1);else{const f=this.et(n);if(f!==a){const m=this.tt(t),p=m?this.nt(m,t,f):1;if(p!==0){this.Ye(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,g)}}}}}tt(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=pa(a).toUint8Array()}catch(p){if(p instanceof vT)return ho("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new _p(f,o,u)}catch(p){return ho(p instanceof jl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(t,n,a){return n.ge.count===a-this.st(t,n.targetId)?0:2}st(t,n){const a=this.ke.getRemoteKeysForTarget(n);let o=0;return a.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(t){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&Am(m.target)){const p=new _t(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,fn.newNoDocument(p,t))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let a=zt();this.Ke.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(a=a.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(t));const o=new Sh(t,n,this.Ue,this.Qe,a);return this.Qe=Ti(),this.$e=Lc(),this.Ke=Lc(),this.Ue=new Ee(Ft),o}Ge(t,n){if(!this.Je(t))return;const a=this.ut(t,n.key)?2:0;this.He(t).xe(n.key,a),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(t))}ze(t,n,a){if(!this.Je(t))return;const o=this.He(t);this.ut(t,n)?o.xe(n,1):o.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(t)),this.Ke=this.Ke.insert(n,this.ct(n).add(t)),a&&(this.Qe=this.Qe.insert(n,a))}removeTarget(t){this.qe.delete(t)}et(t){const n=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let n=this.qe.get(t);return n||(n=new h0,this.qe.set(t,n)),n}ct(t){let n=this.Ke.get(t);return n||(n=new He(Ft),this.Ke=this.Ke.insert(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new He(Ft),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||ft("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new h0),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ut(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function Lc(){return new Ee(_t.comparator)}function f0(){return new Ee(_t.comparator)}const S2={asc:"ASCENDING",desc:"DESCENDING"},w2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},A2={and:"AND",or:"OR"};class R2{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Dm(i,t){return i.useProto3Json||vh(t)?t:{value:t}}function sh(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function KT(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function C2(i,t){return sh(i,t.toTimestamp())}function Ur(i){return ie(!!i),Rt.fromTimestamp(function(n){const a=ma(n);return new Ce(a.seconds,a.nanos)}(i))}function Ep(i,t){return Nm(i,t).canonicalString()}function Nm(i,t){const n=function(o){return new me(["projects",o.projectId,"databases",o.database])}(i).child("documents");return t===void 0?n:n.child(t)}function YT(i){const t=me.fromString(i);return ie(tb(t)),t}function Im(i,t){return Ep(i.databaseId,t.path)}function tm(i,t){const n=YT(t);if(n.get(1)!==i.databaseId.projectId)throw new mt(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new mt(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new _t(WT(n))}function XT(i,t){return Ep(i.databaseId,t)}function D2(i){const t=YT(i);return t.length===4?me.emptyPath():WT(t)}function Om(i){return new me(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function WT(i){return ie(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function d0(i,t,n){return{name:Im(i,t),fields:n.value.mapValue.fields}}function N2(i,t){let n;if("targetChange"in t){t.targetChange;const a=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:wt()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(g,T){return g.useProto3Json?(ie(T===void 0||typeof T=="string"),an.fromBase64String(T||"")):(ie(T===void 0||T instanceof Buffer||T instanceof Uint8Array),an.fromUint8Array(T||new Uint8Array))}(i,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&function(g){const T=g.code===void 0?et.UNKNOWN:GT(g.code);return new mt(T,g.message||"")}(f);n=new $T(a,o,u,m||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=tm(i,a.document.name),u=Ur(a.document.updateTime),f=a.document.createTime?Ur(a.document.createTime):Rt.min(),m=new wn({mapValue:{fields:a.document.fields}}),p=fn.newFoundDocument(o,u,f,m),g=a.targetIds||[],T=a.removedTargetIds||[];n=new Qc(g,T,p.key,p)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=tm(i,a.document),u=a.readTime?Ur(a.readTime):Rt.min(),f=fn.newNoDocument(o,u),m=a.removedTargetIds||[];n=new Qc([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=tm(i,a.document),u=a.removedTargetIds||[];n=new Qc([],u,o,null)}else{if(!("filter"in t))return wt();{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,f=new _2(o,u),m=a.targetId;n=new QT(m,f)}}return n}function I2(i,t){let n;if(t instanceof au)n={update:d0(i,t.key,t.value)};else if(t instanceof yp)n={delete:Im(i,t.key)};else if(t instanceof Ea)n={update:d0(i,t.key,t.data),updateMask:B2(t.fieldMask)};else{if(!(t instanceof g2))return wt();n={verify:Im(i,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(a=>function(u,f){const m=f.transform;if(m instanceof Xl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Wl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Zl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof ah)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw wt()}(0,a))),t.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:C2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:wt()}(i,t.precondition)),n}function O2(i,t){return i&&i.length>0?(ie(t!==void 0),i.map(n=>function(o,u){let f=o.updateTime?Ur(o.updateTime):Ur(u);return f.isEqual(Rt.min())&&(f=Ur(u)),new d2(f,o.transformResults||[])}(n,t))):[]}function M2(i,t){return{documents:[XT(i,t.path)]}}function V2(i,t){const n={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=XT(i,o);const u=function(g){if(g.length!==0)return JT(dr.create(g,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(T=>function(x){return{field:so(x.field),direction:L2(x.dir)}}(T))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Dm(i,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{ht:n,parent:o}}function j2(i){let t=D2(i.parent);const n=i.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){ie(a===1);const T=n.from[0];T.allDescendants?o=T.collectionId:t=t.child(T.collectionId)}let u=[];n.where&&(u=function(b){const x=ZT(b);return x instanceof dr&&CT(x)?x.getFilters():[x]}(n.where));let f=[];n.orderBy&&(f=function(b){return b.map(x=>function(M){return new Yl(oo(M.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(x))}(n.orderBy));let m=null;n.limit&&(m=function(b){let x;return x=typeof b=="object"?b.value:b,vh(x)?null:x}(n.limit));let p=null;n.startAt&&(p=function(b){const x=!!b.before,D=b.values||[];return new ih(D,x)}(n.startAt));let g=null;return n.endAt&&(g=function(b){const x=!b.before,D=b.values||[];return new ih(D,x)}(n.endAt)),JC(t,o,f,u,m,"F",p,g)}function k2(i,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function ZT(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=oo(n.unaryFilter.field);return ke.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=oo(n.unaryFilter.field);return ke.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=oo(n.unaryFilter.field);return ke.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=oo(n.unaryFilter.field);return ke.create(f,"!=",{nullValue:"NULL_VALUE"});default:return wt()}}(i):i.fieldFilter!==void 0?function(n){return ke.create(oo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wt()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return dr.create(n.compositeFilter.filters.map(a=>ZT(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return wt()}}(n.compositeFilter.op))}(i):wt()}function L2(i){return S2[i]}function U2(i){return w2[i]}function P2(i){return A2[i]}function so(i){return{fieldPath:i.canonicalString()}}function oo(i){return rn.fromServerFormat(i.fieldPath)}function JT(i){return i instanceof ke?function(n){if(n.op==="=="){if(t0(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NAN"}};if(J_(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(t0(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NAN"}};if(J_(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:so(n.field),op:U2(n.op),value:n.value}}}(i):i instanceof dr?function(n){const a=n.getFilters().map(o=>JT(o));return a.length===1?a[0]:{compositeFilter:{op:P2(n.op),filters:a}}}(i):wt()}function B2(i){const t=[];return i.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function tb(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(t,n,a,o,u=Rt.min(),f=Rt.min(),m=an.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new sa(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new sa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(t){this.Tt=t}}function q2(i){const t=j2({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Cm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(){this.Tn=new F2}addToCollectionParentIndex(t,n){return this.Tn.add(n),J.resolve()}getCollectionParents(t,n){return J.resolve(this.Tn.getEntries(n))}addFieldIndex(t,n){return J.resolve()}deleteFieldIndex(t,n){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,n){return J.resolve()}getDocumentsMatchingTarget(t,n){return J.resolve(null)}getIndexType(t,n){return J.resolve(0)}getFieldIndexes(t,n){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,n){return J.resolve(da.min())}getMinOffsetFromCollectionGroup(t,n){return J.resolve(da.min())}updateCollectionGroup(t,n,a){return J.resolve()}updateIndexEntries(t,n){return J.resolve()}}class F2{constructor(){this.index={}}add(t){const n=t.lastSegment(),a=t.popLast(),o=this.index[n]||new He(me.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(t){const n=t.lastSegment(),a=t.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(t){return(this.index[t]||new He(me.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eb=41943040;class Sn{static withCacheSize(t){return new Sn(t,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(eb,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Kn(){return new go(0)}static Un(){return new go(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="LruGarbageCollector",G2=1048576;function g0([i,t],[n,a]){const o=Ft(i,n);return o===0?Ft(t,a):o}class Q2{constructor(t){this.Hn=t,this.buffer=new He(g0),this.Jn=0}Yn(){return++this.Jn}Zn(t){const n=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();g0(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class $2{constructor(t,n,a){this.garbageCollector=t,this.asyncQueue=n,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){ft(p0,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){So(n)?ft(p0,"Ignoring IndexedDB error during garbage collection: ",n):await xo(n)}await this.er(3e5)})}}class K2{constructor(t,n){this.tr=t,this.params=n}calculateTargetCount(t,n){return this.tr.nr(t).next(a=>Math.floor(n/100*a))}nthSequenceNumber(t,n){if(n===0)return J.resolve(yh.ae);const a=new Q2(n);return this.tr.forEachTarget(t,o=>a.Zn(o.sequenceNumber)).next(()=>this.tr.rr(t,o=>a.Zn(o))).next(()=>a.maxValue)}removeTargets(t,n,a){return this.tr.removeTargets(t,n,a)}removeOrphanedDocuments(t,n){return this.tr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(m0)):this.getCacheSize(t).next(a=>a<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),m0):this.ir(t,n))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,n){let a,o,u,f,m,p,g;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(t,o))).next(b=>(a=b,m=Date.now(),this.removeTargets(t,a,n))).next(b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(t,a))).next(b=>(g=Date.now(),io()<=Yt.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-T}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function Y2(i,t){return new K2(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(){this.changes=new hs(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,fn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?J.resolve(a):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(t,n,a,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,n){let a=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(a=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(a!==null&&Bl(a.mutation,o,kn.empty(),Ce.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(a=>this.getLocalViewOfDocuments(t,a,zt()).next(()=>a))}getLocalViewOfDocuments(t,n,a=zt()){const o=as();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,a).next(u=>{let f=Vl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const a=as();return this.populateOverlays(t,a,n).next(()=>this.computeViews(t,n,a,zt()))}populateOverlays(t,n,a){const o=[];return a.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(t,n,a,o){let u=Ti();const f=Pl(),m=function(){return Pl()}();return n.forEach((p,g)=>{const T=a.get(g.key);o.has(g.key)&&(T===void 0||T.mutation instanceof Ea)?u=u.insert(g.key,g):T!==void 0?(f.set(g.key,T.mutation.getFieldMask()),Bl(T.mutation,g,T.mutation.getFieldMask(),Ce.now())):f.set(g.key,kn.empty())}),this.recalculateAndSaveOverlays(t,u).next(p=>(p.forEach((g,T)=>f.set(g,T)),n.forEach((g,T)=>{var b;return m.set(g,new W2(T,(b=f.get(g))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(t,n){const a=Pl();let o=new Ee((f,m)=>f-m),u=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let T=a.get(p)||kn.empty();T=m.applyToLocalView(g,T),a.set(p,T);const b=(o.get(m.batchId)||zt()).add(p);o=o.insert(m.batchId,b)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,T=p.value,b=LT();T.forEach(x=>{if(!u.has(x)){const D=HT(n.get(x),a.get(x));D!==null&&b.set(x,D),u=u.add(x)}}),f.push(this.documentOverlayCache.saveOverlays(t,g,b))}return J.waitFor(f)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(a=>this.recalculateAndSaveOverlays(t,a))}getDocumentsMatchingQuery(t,n,a,o){return function(f){return _t.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):OT(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,a,o):this.getDocumentsMatchingCollectionQuery(t,n,a,o)}getNextDocuments(t,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,a,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,a.largestBatchId,o-u.size):J.resolve(as());let m=Gl,p=u;return f.next(g=>J.forEach(g,(T,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(T)?J.resolve():this.remoteDocumentCache.getEntry(t,T).next(x=>{p=p.insert(T,x)}))).next(()=>this.populateOverlays(t,g,u)).next(()=>this.computeViews(t,p,g,zt())).next(T=>({batchId:m,changes:kT(T)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new _t(n)).next(a=>{let o=Vl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,a,o){const u=n.collectionGroup;let f=Vl();return this.indexManager.getCollectionParents(t,u).next(m=>J.forEach(m,p=>{const g=function(b,x){return new wo(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,a,o).next(T=>{T.forEach((b,x)=>{f=f.insert(b,x)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,a.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,a,u,o))).next(f=>{u.forEach((p,g)=>{const T=g.getKey();f.get(T)===null&&(f=f.insert(T,fn.newInvalidDocument(T)))});let m=Vl();return f.forEach((p,g)=>{const T=u.get(p);T!==void 0&&Bl(T.mutation,g,kn.empty(),Ce.now()),Th(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,n){return J.resolve(this.dr.get(n))}saveBundleMetadata(t,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Ur(o.createTime)}}(n)),J.resolve()}getNamedQuery(t,n){return J.resolve(this.Ar.get(n))}saveNamedQuery(t,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:q2(o.bundledQuery),readTime:Ur(o.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(){this.overlays=new Ee(_t.comparator),this.Rr=new Map}getOverlay(t,n){return J.resolve(this.overlays.get(n))}getOverlays(t,n){const a=as();return J.forEach(n,o=>this.getOverlay(t,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(t,n,a){return a.forEach((o,u)=>{this.Et(t,n,u)}),J.resolve()}removeOverlaysForBatchId(t,n,a){const o=this.Rr.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(a)),J.resolve()}getOverlaysForCollection(t,n,a){const o=as(),u=n.length+1,f=new _t(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>a&&o.set(p.getKey(),p)}return J.resolve(o)}getOverlaysForCollectionGroup(t,n,a,o){let u=new Ee((g,T)=>g-T);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>a){let T=u.get(g.largestBatchId);T===null&&(T=as(),u=u.insert(g.largestBatchId,T)),T.set(g.getKey(),g)}}const m=as(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,T)=>m.set(g,T)),!(m.size()>=o)););return J.resolve(m)}Et(t,n,a){const o=this.overlays.get(a.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(a.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new v2(n,a));let u=this.Rr.get(n);u===void 0&&(u=zt(),this.Rr.set(n,u)),this.Rr.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(){this.Vr=new He(We.mr),this.gr=new He(We.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,n){const a=new We(t,n);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(t,n){t.forEach(a=>this.addReference(a,n))}removeReference(t,n){this.wr(new We(t,n))}Sr(t,n){t.forEach(a=>this.removeReference(a,n))}br(t){const n=new _t(new me([])),a=new We(n,t),o=new We(n,t+1),u=[];return this.gr.forEachInRange([a,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const n=new _t(new me([])),a=new We(n,t),o=new We(n,t+1);let u=zt();return this.gr.forEachInRange([a,o],f=>{u=u.add(f.key)}),u}containsKey(t){const n=new We(t,0),a=this.Vr.firstAfterOrEqual(n);return a!==null&&t.isEqual(a.key)}}class We{constructor(t,n){this.key=t,this.Cr=n}static mr(t,n){return _t.comparator(t.key,n.key)||Ft(t.Cr,n.Cr)}static pr(t,n){return Ft(t.Cr,n.Cr)||_t.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new He(We.mr)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,a,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new y2(u,n,a,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new We(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return J.resolve(f)}lookupMutationBatch(t,n){return J.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(t,n){const a=n+1,o=this.Nr(a),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?cp:this.Fr-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const a=new We(n,0),o=new We(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([a,o],f=>{const m=this.Or(f.Cr);u.push(m)}),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let a=new He(Ft);return n.forEach(o=>{const u=new We(o,0),f=new We(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{a=a.add(m.Cr)})}),J.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(t,n){const a=n.path,o=a.length+1;let u=a;_t.isDocumentKey(u)||(u=u.child(""));const f=new We(new _t(u),0);let m=new He(Ft);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Cr)),!0)},f),J.resolve(this.Br(m))}Br(t){const n=[];return t.forEach(a=>{const o=this.Or(a);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){ie(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return J.forEach(n.mutations,o=>{const u=new We(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Mr=a})}qn(t){}containsKey(t,n){const a=new We(n,0),o=this.Mr.firstAfterOrEqual(a);return J.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}Lr(t,n){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const n=this.Nr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(t){this.kr=t,this.docs=function(){return new Ee(_t.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const a=this.docs.get(n);return J.resolve(a?a.document.mutableCopy():fn.newInvalidDocument(n))}getEntries(t,n){let a=Ti();return n.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():fn.newInvalidDocument(o))}),J.resolve(a)}getDocumentsMatchingQuery(t,n,a,o){let u=Ti();const f=n.path,m=new _t(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:T}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||IC(NC(T),a)<=0||(o.has(T.key)||Th(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(t,n,a,o){wt()}qr(t,n){return J.forEach(this.docs,a=>n(a))}newChangeBuffer(t){return new iD(this)}getSize(t){return J.resolve(this.size)}}class iD extends X2{constructor(t){super(),this.Ir=t}applyChanges(t){const n=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(t,o)):this.Ir.removeEntry(a)}),J.waitFor(n)}getFromCache(t,n){return this.Ir.getEntry(t,n)}getAllFromCache(t,n){return this.Ir.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(t){this.persistence=t,this.Qr=new hs(n=>dp(n),mp),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Tp,this.targetCount=0,this.Ur=go.Kn()}forEachTarget(t,n){return this.Qr.forEach((a,o)=>n(o)),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Ur.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.$r&&(this.$r=n),J.resolve()}zn(t){this.Qr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Ur=new go(n),this.highestTargetId=n),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,n){return this.zn(n),this.targetCount+=1,J.resolve()}updateTargetData(t,n){return this.zn(n),J.resolve()}removeTargetData(t,n){return this.Qr.delete(n.target),this.Kr.br(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,n,a){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),J.waitFor(u).next(()=>o)}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,n){const a=this.Qr.get(n)||null;return J.resolve(a)}addMatchingKeys(t,n,a){return this.Kr.yr(n,a),J.resolve()}removeMatchingKeys(t,n,a){this.Kr.Sr(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),J.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.Kr.br(n),J.resolve()}getMatchingKeysForTargetId(t,n){const a=this.Kr.vr(n);return J.resolve(a)}containsKey(t,n){return J.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(t,n){this.Wr={},this.overlays={},this.Gr=new yh(0),this.zr=!1,this.zr=!0,this.jr=new eD,this.referenceDelegate=t(this),this.Hr=new aD(this),this.indexManager=new H2,this.remoteDocumentCache=function(o){return new rD(o)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new z2(n),this.Yr=new J2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new tD,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let a=this.Wr[t.toKey()];return a||(a=new nD(n,this.referenceDelegate),this.Wr[t.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,n,a){ft("MemoryPersistence","Starting transaction:",t);const o=new sD(this.Gr.next());return this.referenceDelegate.Zr(),a(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(t,n){return J.or(Object.values(this.Wr).map(a=>()=>a.containsKey(t,n)))}}class sD extends MC{constructor(t){super(),this.currentSequenceNumber=t}}class bp{constructor(t){this.persistence=t,this.ti=new Tp,this.ni=null}static ri(t){return new bp(t)}get ii(){if(this.ni)return this.ni;throw wt()}addReference(t,n,a){return this.ti.addReference(a,n),this.ii.delete(a.toString()),J.resolve()}removeReference(t,n,a){return this.ti.removeReference(a,n),this.ii.add(a.toString()),J.resolve()}markPotentiallyOrphaned(t,n){return this.ii.add(n.toString()),J.resolve()}removeTarget(t,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>a.removeTargetData(t,n))}Zr(){this.ni=new Set}Xr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ii,a=>{const o=_t.fromPath(a);return this.si(t,o).next(u=>{u||n.removeEntry(o,Rt.min())})}).next(()=>(this.ni=null,n.apply(t)))}updateLimboDocument(t,n){return this.si(t,n).next(a=>{a?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(t){return 0}si(t,n){return J.or([()=>J.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.ei(t,n)])}}class oh{constructor(t,n){this.persistence=t,this.oi=new hs(a=>kC(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=Y2(this,n)}static ri(t,n){return new oh(t,n)}Zr(){}Xr(t){return J.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}nr(t){const n=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(a=>n.next(o=>a+o))}sr(t){let n=0;return this.rr(t,a=>{n++}).next(()=>n)}rr(t,n){return J.forEach(this.oi,(a,o)=>this.ar(t,a,o).next(u=>u?J.resolve():n(o)))}removeTargets(t,n,a){return this.persistence.getTargetCache().removeTargets(t,n,a)}removeOrphanedDocuments(t,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(t,f=>this.ar(t,f,n).next(m=>{m||(a++,u.removeEntry(f,Rt.min()))})).next(()=>u.apply(t)).next(()=>a)}markPotentiallyOrphaned(t,n){return this.oi.set(n,t.currentSequenceNumber),J.resolve()}removeTarget(t,n){const a=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,n,a){return this.oi.set(a,t.currentSequenceNumber),J.resolve()}removeReference(t,n,a){return this.oi.set(a,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,n){return this.oi.set(n,t.currentSequenceNumber),J.resolve()}Jr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Hc(t.data.value)),n}ar(t,n,a){return J.or([()=>this.persistence.ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.oi.get(n);return J.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(t,n,a,o){this.targetId=t,this.fromCache=n,this.Hi=a,this.Ji=o}static Yi(t,n){let a=zt(),o=zt();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new xp(t,n.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return rR()?8:VC(eR())>0?6:4}()}initialize(t,n){this.ns=t,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(t,n,a,o){const u={result:null};return this.rs(t,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(t,n,o,a).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new oD;return this._s(t,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(t,n,f,m.size)})}).next(()=>u.result)}us(t,n,a,o){return a.documentReadCount<this.es?(io()<=Yt.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",ao(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),J.resolve()):(io()<=Yt.DEBUG&&ft("QueryEngine","Query:",ao(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ts*o?(io()<=Yt.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",ao(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Lr(n))):J.resolve())}rs(t,n){if(i0(n))return J.resolve(null);let a=Lr(n);return this.indexManager.getIndexType(t,a).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Cm(n,null,"F"),a=Lr(n)),this.indexManager.getDocumentsMatchingTarget(t,a).next(u=>{const f=zt(...u);return this.ns.getDocuments(t,f).next(m=>this.indexManager.getMinOffset(t,a).next(p=>{const g=this.cs(n,m);return this.ls(n,g,f,p.readTime)?this.rs(t,Cm(n,null,"F")):this.hs(t,g,n,p)}))})))}ss(t,n,a,o){return i0(n)||o.isEqual(Rt.min())?J.resolve(null):this.ns.getDocuments(t,a).next(u=>{const f=this.cs(n,u);return this.ls(n,f,a,o)?J.resolve(null):(io()<=Yt.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ao(n)),this.hs(t,f,n,DC(o,Gl)).next(m=>m))})}cs(t,n){let a=new He(VT(t));return n.forEach((o,u)=>{Th(t,u)&&(a=a.add(u))}),a}ls(t,n,a,o){if(t.limit===null)return!1;if(a.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(t,n,a){return io()<=Yt.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",ao(n)),this.ns.getDocumentsMatchingQuery(t,n,da.min(),a)}hs(t,n,a,o){return this.ns.getDocumentsMatchingQuery(t,a,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp="LocalStore",uD=3e8;class cD{constructor(t,n,a,o){this.persistence=t,this.Ps=n,this.serializer=o,this.Ts=new Ee(Ft),this.Is=new hs(u=>dp(u),mp),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(a)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Z2(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ts))}}function hD(i,t,n,a){return new cD(i,t,n,a)}async function rb(i,t){const n=It(i);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,n.As(t),n.mutationQueue.getAllMutationBatches(a))).next(u=>{const f=[],m=[];let p=zt();for(const g of o){f.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}for(const g of u){m.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(a,p).next(g=>({Rs:g,removedBatchIds:f,addedBatchIds:m}))})})}function fD(i,t){const n=It(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=t.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,g,T){const b=g.batch,x=b.keys();let D=J.resolve();return x.forEach(M=>{D=D.next(()=>T.getEntry(p,M)).next(H=>{const j=g.docVersions.get(M);ie(j!==null),H.version.compareTo(j)<0&&(b.applyToRemoteDocument(H,g),H.isValidDocument()&&(H.setReadTime(g.commitVersion),T.addEntry(H)))})}),D.next(()=>m.mutationQueue.removeMutationBatch(p,b))}(n,a,t,u).next(()=>u.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(m){let p=zt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(t))).next(()=>n.localDocuments.getDocuments(a,o))})}function ib(i){const t=It(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Hr.getLastRemoteSnapshotVersion(n))}function dD(i,t){const n=It(i),a=t.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];t.targetChanges.forEach((T,b)=>{const x=o.get(b);if(!x)return;m.push(n.Hr.removeMatchingKeys(u,T.removedDocuments,b).next(()=>n.Hr.addMatchingKeys(u,T.addedDocuments,b)));let D=x.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(b)!==null?D=D.withResumeToken(an.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):T.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(T.resumeToken,a)),o=o.insert(b,D),function(H,j,L){return H.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=uD?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(x,D,T)&&m.push(n.Hr.updateTargetData(u,D))});let p=Ti(),g=zt();if(t.documentUpdates.forEach(T=>{t.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))}),m.push(mD(u,f,t.documentUpdates).next(T=>{p=T.Vs,g=T.fs})),!a.isEqual(Rt.min())){const T=n.Hr.getLastRemoteSnapshotVersion(u).next(b=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,a));m.push(T)}return J.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ts=o,u))}function mD(i,t,n){let a=zt(),o=zt();return n.forEach(u=>a=a.add(u)),t.getEntries(i,a).next(u=>{let f=Ti();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Rt.min())?(t.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),f=f.insert(m,p)):ft(Sp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function pD(i,t){const n=It(i);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(t===void 0&&(t=cp),n.mutationQueue.getNextMutationBatchAfterBatchId(a,t)))}function gD(i,t){const n=It(i);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return n.Hr.getTargetData(a,t).next(u=>u?(o=u,J.resolve(o)):n.Hr.allocateTargetId(a).next(f=>(o=new sa(t,f,"TargetPurposeListen",a.currentSequenceNumber),n.Hr.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=n.Ts.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(a.targetId,a),n.Is.set(t,a.targetId)),a})}async function Mm(i,t,n){const a=It(i),o=a.Ts.get(t),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,f=>a.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!So(f))throw f;ft(Sp,`Failed to update sequence numbers for target ${t}: ${f}`)}a.Ts=a.Ts.remove(t),a.Is.delete(o.target)}function y0(i,t,n){const a=It(i);let o=Rt.min(),u=zt();return a.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,T){const b=It(p),x=b.Is.get(T);return x!==void 0?J.resolve(b.Ts.get(x)):b.Hr.getTargetData(g,T)}(a,f,Lr(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>a.Ps.getDocumentsMatchingQuery(f,t,n?o:Rt.min(),n?u:zt())).next(m=>(yD(a,e2(t),m),{documents:m,gs:u})))}function yD(i,t,n){let a=i.Es.get(t)||Rt.min();n.forEach((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),i.Es.set(t,a)}class v0{constructor(){this.activeTargetIds=o2()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class vD{constructor(){this.ho=new v0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,a){}addLocalQueryTarget(t,n=!0){return n&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,n,a){this.Po[t]=n}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new v0,Promise.resolve()}handleUserChange(t,n,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="ConnectivityMonitor";class E0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ft(_0,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){ft(_0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uc=null;function Vm(){return Uc===null?Uc=function(){return 268435456+Math.round(2147483648*Math.random())}():Uc++,"0x"+Uc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em="RestConnection",ED={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class TD{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo=`projects/${a}/databases/${o}`,this.wo=this.databaseId.database===nh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}So(t,n,a,o,u){const f=Vm(),m=this.bo(t,n.toUriEncodedString());ft(em,`Sending RPC '${t}' ${f}:`,m,a);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(t,m,p,a).then(g=>(ft(em,`Received RPC '${t}' ${f}: `,g),g),g=>{throw ho(em,`RPC '${t}' ${f} failed with error: `,g,"url: ",m,"request:",a),g})}Co(t,n,a,o,u,f){return this.So(t,n,a,o,u)}Do(t,n,a){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>t[u]=o),a&&a.headers.forEach((o,u)=>t[u]=o)}bo(t,n){const a=ED[t];return`${this.po}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Ko(t){this.ko(t)}Uo(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection";class xD extends TD{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,a,o){const u=Vm();return new Promise((f,m)=>{const p=new uT;p.setWithCredentials(!0),p.listenOnce(cT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case qc.NO_ERROR:const T=p.getResponseJson();ft(cn,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(T)),f(T);break;case qc.TIMEOUT:ft(cn,`RPC '${t}' ${u} timed out`),m(new mt(et.DEADLINE_EXCEEDED,"Request time out"));break;case qc.HTTP_ERROR:const b=p.getStatus();if(ft(cn,`RPC '${t}' ${u} failed with status:`,b,"response text:",p.getResponseText()),b>0){let x=p.getResponseJson();Array.isArray(x)&&(x=x[0]);const D=x==null?void 0:x.error;if(D&&D.status&&D.message){const M=function(j){const L=j.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(L)>=0?L:et.UNKNOWN}(D.status);m(new mt(M,D.message))}else m(new mt(et.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new mt(et.UNAVAILABLE,"Connection failed."));break;default:wt()}}finally{ft(cn,`RPC '${t}' ${u} completed.`)}});const g=JSON.stringify(o);ft(cn,`RPC '${t}' ${u} sending request:`,o),p.send(n,"POST",g,a,15)})}Wo(t,n,a){const o=Vm(),u=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=dT(),m=fT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,a),p.encodeInitMessageHeaders=!0;const T=u.join("");ft(cn,`Creating RPC '${t}' stream ${o}: ${T}`,p);const b=f.createWebChannel(T,p);let x=!1,D=!1;const M=new bD({Fo:j=>{D?ft(cn,`Not sending because RPC '${t}' stream ${o} is closed:`,j):(x||(ft(cn,`Opening RPC '${t}' stream ${o} transport.`),b.open(),x=!0),ft(cn,`RPC '${t}' stream ${o} sending:`,j),b.send(j))},Mo:()=>b.close()}),H=(j,L,Q)=>{j.listen(L,K=>{try{Q(K)}catch(rt){setTimeout(()=>{throw rt},0)}})};return H(b,Ml.EventType.OPEN,()=>{D||(ft(cn,`RPC '${t}' stream ${o} transport opened.`),M.Qo())}),H(b,Ml.EventType.CLOSE,()=>{D||(D=!0,ft(cn,`RPC '${t}' stream ${o} transport closed`),M.Ko())}),H(b,Ml.EventType.ERROR,j=>{D||(D=!0,ho(cn,`RPC '${t}' stream ${o} transport errored:`,j),M.Ko(new mt(et.UNAVAILABLE,"The operation could not be completed")))}),H(b,Ml.EventType.MESSAGE,j=>{var L;if(!D){const Q=j.data[0];ie(!!Q);const K=Q,rt=(K==null?void 0:K.error)||((L=K[0])===null||L===void 0?void 0:L.error);if(rt){ft(cn,`RPC '${t}' stream ${o} received error:`,rt);const at=rt.status;let ct=function(R){const O=je[R];if(O!==void 0)return GT(O)}(at),V=rt.message;ct===void 0&&(ct=et.INTERNAL,V="Unknown error status: "+at+" with message "+rt.message),D=!0,M.Ko(new mt(ct,V)),b.close()}else ft(cn,`RPC '${t}' stream ${o} received:`,Q),M.Uo(Q)}}),H(m,hT.STAT_EVENT,j=>{j.stat===bm.PROXY?ft(cn,`RPC '${t}' stream ${o} detected buffering proxy`):j.stat===bm.NOPROXY&&ft(cn,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{M.$o()},0),M}}function nm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(i){return new R2(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(t,n,a=1e3,o=1.5,u=6e4){this.Ti=t,this.timerId=n,this.Go=a,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-a);o>0&&ft("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="PersistentStream";class sb{constructor(t,n,a,o,u,f,m,p){this.Ti=t,this.n_=a,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new ab(t,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():n&&n.code===et.RESOURCE_EXHAUSTED?(Ei(n.toString()),Ei("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.i_===n&&this.V_(a,o)},a=>{t(()=>{const o=new mt(et.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(o)})})}V_(t,n){const a=this.R_(this.i_);this.stream=this.f_(t,n),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{a(()=>this.m_(o))}),this.stream.onMessage(o=>{a(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return ft(T0,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return n=>{this.Ti.enqueueAndForget(()=>this.i_===t?n():(ft(T0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class SD extends sb{constructor(t,n,a,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}f_(t,n){return this.connection.Wo("Listen",t,n)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const n=N2(this.serializer,t),a=function(u){if(!("targetChange"in u))return Rt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Rt.min():f.readTime?Ur(f.readTime):Rt.min()}(t);return this.listener.p_(n,a)}y_(t){const n={};n.database=Om(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Am(p)?{documents:M2(u,p)}:{query:V2(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=KT(u,f.resumeToken);const g=Dm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Rt.min())>0){m.readTime=sh(u,f.snapshotVersion.toTimestamp());const g=Dm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,t);const a=k2(this.serializer,t);a&&(n.labels=a),this.I_(n)}w_(t){const n={};n.database=Om(this.serializer),n.removeTarget=t,this.I_(n)}}class wD extends sb{constructor(t,n,a,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,n){return this.connection.Wo("Write",t,n)}g_(t){return ie(!!t.streamToken),this.lastStreamToken=t.streamToken,ie(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){ie(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const n=O2(t.writeResults,t.commitTime),a=Ur(t.commitTime);return this.listener.v_(a,n)}C_(){const t={};t.database=Om(this.serializer),this.I_(t)}b_(t){const n={streamToken:this.lastStreamToken,writes:t.map(a=>I2(this.serializer,a))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{}class RD extends AD{constructor(t,n,a,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new mt(et.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,a,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(t,Nm(n,a),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new mt(et.UNKNOWN,u.toString())})}Co(t,n,a,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(t,Nm(n,a),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new mt(et.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class CD{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ei(n),this.N_=!1):ft("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls="RemoteStore";class DD{constructor(t,n,a,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{a.enqueueAndForget(async()=>{fs(this)&&(ft(ls,"Restarting streams for network reachability change."),await async function(p){const g=It(p);g.W_.add(4),await ou(g),g.j_.set("Unknown"),g.W_.delete(4),await Ah(g)}(this))})}),this.j_=new CD(a,o)}}async function Ah(i){if(fs(i))for(const t of i.G_)await t(!0)}async function ou(i){for(const t of i.G_)await t(!1)}function ob(i,t){const n=It(i);n.U_.has(t.targetId)||(n.U_.set(t.targetId,t),Cp(n)?Rp(n):Ao(n).c_()&&Ap(n,t))}function wp(i,t){const n=It(i),a=Ao(n);n.U_.delete(t),a.c_()&&lb(n,t),n.U_.size===0&&(a.c_()?a.P_():fs(n)&&n.j_.set("Unknown"))}function Ap(i,t){if(i.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Rt.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ao(i).y_(t)}function lb(i,t){i.H_.Ne(t),Ao(i).w_(t)}function Rp(i){i.H_=new x2({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>i.U_.get(t)||null,it:()=>i.datastore.serializer.databaseId}),Ao(i).start(),i.j_.B_()}function Cp(i){return fs(i)&&!Ao(i).u_()&&i.U_.size>0}function fs(i){return It(i).W_.size===0}function ub(i){i.H_=void 0}async function ND(i){i.j_.set("Online")}async function ID(i){i.U_.forEach((t,n)=>{Ap(i,t)})}async function OD(i,t){ub(i),Cp(i)?(i.j_.q_(t),Rp(i)):i.j_.set("Unknown")}async function MD(i,t,n){if(i.j_.set("Online"),t instanceof $T&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.U_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.U_.delete(m),o.H_.removeTarget(m))}(i,t)}catch(a){ft(ls,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await lh(i,a)}else if(t instanceof Qc?i.H_.We(t):t instanceof QT?i.H_.Ze(t):i.H_.je(t),!n.isEqual(Rt.min()))try{const a=await ib(i.localStore);n.compareTo(a)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.U_.get(g);T&&u.U_.set(g,T.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const T=u.U_.get(p);if(!T)return;u.U_.set(p,T.withResumeToken(an.EMPTY_BYTE_STRING,T.snapshotVersion)),lb(u,p);const b=new sa(T.target,p,g,T.sequenceNumber);Ap(u,b)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(a){ft(ls,"Failed to raise snapshot:",a),await lh(i,a)}}async function lh(i,t,n){if(!So(t))throw t;i.W_.add(1),await ou(i),i.j_.set("Offline"),n||(n=()=>ib(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ft(ls,"Retrying IndexedDB access"),await n(),i.W_.delete(1),await Ah(i)})}function cb(i,t){return t().catch(n=>lh(i,n,t))}async function Rh(i){const t=It(i),n=ya(t);let a=t.K_.length>0?t.K_[t.K_.length-1].batchId:cp;for(;VD(t);)try{const o=await pD(t.localStore,a);if(o===null){t.K_.length===0&&n.P_();break}a=o.batchId,jD(t,o)}catch(o){await lh(t,o)}hb(t)&&fb(t)}function VD(i){return fs(i)&&i.K_.length<10}function jD(i,t){i.K_.push(t);const n=ya(i);n.c_()&&n.S_&&n.b_(t.mutations)}function hb(i){return fs(i)&&!ya(i).u_()&&i.K_.length>0}function fb(i){ya(i).start()}async function kD(i){ya(i).C_()}async function LD(i){const t=ya(i);for(const n of i.K_)t.b_(n.mutations)}async function UD(i,t,n){const a=i.K_.shift(),o=vp.from(a,t,n);await cb(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await Rh(i)}async function PD(i,t){t&&ya(i).S_&&await async function(a,o){if(function(f){return E2(f)&&f!==et.ABORTED}(o.code)){const u=a.K_.shift();ya(a).h_(),await cb(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Rh(a)}}(i,t),hb(i)&&fb(i)}async function b0(i,t){const n=It(i);n.asyncQueue.verifyOperationInProgress(),ft(ls,"RemoteStore received new credentials");const a=fs(n);n.W_.add(3),await ou(n),a&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await Ah(n)}async function BD(i,t){const n=It(i);t?(n.W_.delete(2),await Ah(n)):t||(n.W_.add(2),await ou(n),n.j_.set("Unknown"))}function Ao(i){return i.J_||(i.J_=function(n,a,o){const u=It(n);return u.M_(),new SD(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:ND.bind(null,i),No:ID.bind(null,i),Lo:OD.bind(null,i),p_:MD.bind(null,i)}),i.G_.push(async t=>{t?(i.J_.h_(),Cp(i)?Rp(i):i.j_.set("Unknown")):(await i.J_.stop(),ub(i))})),i.J_}function ya(i){return i.Y_||(i.Y_=function(n,a,o){const u=It(n);return u.M_(),new wD(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:kD.bind(null,i),Lo:PD.bind(null,i),D_:LD.bind(null,i),v_:UD.bind(null,i)}),i.G_.push(async t=>{t?(i.Y_.h_(),await Rh(i)):(await i.Y_.stop(),i.K_.length>0&&(ft(ls,`Stopping write stream with ${i.K_.length} pending writes`),i.K_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(t,n,a,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new ca,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,a,o,u){const f=Date.now()+a,m=new Dp(t,n,f,o,u);return m.start(a),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new mt(et.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Np(i,t){if(Ei("AsyncQueue",`${t}: ${i}`),So(i))return new mt(et.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{static emptySet(t){return new co(t.comparator)}constructor(t){this.comparator=t?(n,a)=>t(n,a)||_t.comparator(n.key,a.key):(n,a)=>_t.comparator(n.key,a.key),this.keyedMap=Vl(),this.sortedSet=new Ee(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,a)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof co)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const a=new co;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(){this.Z_=new Ee(_t.comparator)}track(t){const n=t.doc.key,a=this.Z_.get(n);a?t.type!==0&&a.type===3?this.Z_=this.Z_.insert(n,t):t.type===3&&a.type!==1?this.Z_=this.Z_.insert(n,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.Z_=this.Z_.remove(n):t.type===1&&a.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):wt():this.Z_=this.Z_.insert(n,t)}X_(){const t=[];return this.Z_.inorderTraversal((n,a)=>{t.push(a)}),t}}class yo{constructor(t,n,a,o,u,f,m,p,g){this.query=t,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,a,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new yo(t,n,co.emptySet(n),f,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Eh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,a=t.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class qD{constructor(){this.queries=S0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,a){const o=It(n),u=o.queries;o.queries=S0(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(a)})})(this,new mt(et.ABORTED,"Firestore shutting down"))}}function S0(){return new hs(i=>MT(i),Eh)}async function db(i,t){const n=It(i);let a=3;const o=t.query;let u=n.queries.get(o);u?!u.na()&&t.ra()&&(a=2):(u=new zD,a=t.ra()?0:1);try{switch(a){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Np(f,`Initialization of query '${ao(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.ta.push(t),t.sa(n.onlineState),u.ea&&t.oa(u.ea)&&Ip(n)}async function mb(i,t){const n=It(i),a=t.query;let o=3;const u=n.queries.get(a);if(u){const f=u.ta.indexOf(t);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=t.ra()?0:1:!u.na()&&t.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function HD(i,t){const n=It(i);let a=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(a=!0);f.ea=o}}a&&Ip(n)}function FD(i,t,n){const a=It(i),o=a.queries.get(t);if(o)for(const u of o.ta)u.onError(n);a.queries.delete(t)}function Ip(i){i.ia.forEach(t=>{t.next()})}var jm,w0;(w0=jm||(jm={}))._a="default",w0.Cache="cache";class pb{constructor(t,n,a){this.query=t,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new yo(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ua?this.la(t)&&(this.aa.next(t),n=!0):this.ha(t,this.onlineState)&&(this.Pa(t),n=!0),this.ca=t,n}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),n=!0),n}ha(t,n){if(!t.fromCache||!this.ra())return!0;const a=n!=="Offline";return(!this.options.Ta||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}la(t){if(t.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(t){t=yo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==jm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(t){this.key=t}}class yb{constructor(t){this.key=t}}class GD{constructor(t,n){this.query=t,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=zt(),this.mutatedKeys=zt(),this.ya=VT(t),this.wa=new co(this.ya)}get Sa(){return this.fa}ba(t,n){const a=n?n.Da:new x0,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((T,b)=>{const x=o.get(T),D=Th(this.query,b)?b:null,M=!!x&&this.mutatedKeys.has(x.key),H=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let j=!1;x&&D?x.data.isEqual(D.data)?M!==H&&(a.track({type:3,doc:D}),j=!0):this.va(x,D)||(a.track({type:2,doc:D}),j=!0,(p&&this.ya(D,p)>0||g&&this.ya(D,g)<0)&&(m=!0)):!x&&D?(a.track({type:0,doc:D}),j=!0):x&&!D&&(a.track({type:1,doc:x}),j=!0,(p||g)&&(m=!0)),j&&(D?(f=f.add(D),u=H?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),a.track({type:1,doc:T})}return{wa:f,Da:a,ls:m,mutatedKeys:u}}va(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,a,o){const u=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const f=t.Da.X_();f.sort((T,b)=>function(D,M){const H=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt()}};return H(D)-H(M)}(T.type,b.type)||this.ya(T.doc,b.doc)),this.Ca(a),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,f.length!==0||g?{snapshot:new yo(this.query,t.wa,u,f,t.mutatedKeys,p===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new x0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=zt(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const n=[];return t.forEach(a=>{this.pa.has(a)||n.push(new yb(a))}),this.pa.forEach(a=>{t.has(a)||n.push(new gb(a))}),n}Oa(t){this.fa=t.gs,this.pa=zt();const n=this.ba(t.documents);return this.applyChanges(n,!0)}Na(){return yo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Op="SyncEngine";class QD{constructor(t,n,a){this.query=t,this.targetId=n,this.view=a}}class $D{constructor(t){this.key=t,this.Ba=!1}}class KD{constructor(t,n,a,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new hs(m=>MT(m),Eh),this.qa=new Map,this.Qa=new Set,this.$a=new Ee(_t.comparator),this.Ka=new Map,this.Ua=new Tp,this.Wa={},this.Ga=new Map,this.za=go.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function YD(i,t,n=!0){const a=xb(i);let o;const u=a.ka.get(t);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await vb(a,t,n,!0),o}async function XD(i,t){const n=xb(i);await vb(n,t,!0,!1)}async function vb(i,t,n,a){const o=await gD(i.localStore,Lr(t)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return a&&(m=await WD(i,t,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&ob(i.remoteStore,o),m}async function WD(i,t,n,a,o){i.Ha=(b,x,D)=>async function(H,j,L,Q){let K=j.view.ba(L);K.ls&&(K=await y0(H.localStore,j.query,!1).then(({documents:V})=>j.view.ba(V,K)));const rt=Q&&Q.targetChanges.get(j.targetId),at=Q&&Q.targetMismatches.get(j.targetId)!=null,ct=j.view.applyChanges(K,H.isPrimaryClient,rt,at);return R0(H,j.targetId,ct.Ma),ct.snapshot}(i,b,x,D);const u=await y0(i.localStore,t,!0),f=new GD(t,u.gs),m=f.ba(u.documents),p=su.createSynthesizedTargetChangeForCurrentChange(n,a&&i.onlineState!=="Offline",o),g=f.applyChanges(m,i.isPrimaryClient,p);R0(i,n,g.Ma);const T=new QD(t,n,f);return i.ka.set(t,T),i.qa.has(n)?i.qa.get(n).push(t):i.qa.set(n,[t]),g.snapshot}async function ZD(i,t,n){const a=It(i),o=a.ka.get(t),u=a.qa.get(o.targetId);if(u.length>1)return a.qa.set(o.targetId,u.filter(f=>!Eh(f,t))),void a.ka.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Mm(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),n&&wp(a.remoteStore,o.targetId),km(a,o.targetId)}).catch(xo)):(km(a,o.targetId),await Mm(a.localStore,o.targetId,!0))}async function JD(i,t){const n=It(i),a=n.ka.get(t),o=n.qa.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),wp(n.remoteStore,a.targetId))}async function tN(i,t,n){const a=oN(i);try{const o=await function(f,m){const p=It(f),g=Ce.now(),T=m.reduce((D,M)=>D.add(M.key),zt());let b,x;return p.persistence.runTransaction("Locally write mutations","readwrite",D=>{let M=Ti(),H=zt();return p.ds.getEntries(D,T).next(j=>{M=j,M.forEach((L,Q)=>{Q.isValidDocument()||(H=H.add(L))})}).next(()=>p.localDocuments.getOverlayedDocuments(D,M)).next(j=>{b=j;const L=[];for(const Q of m){const K=p2(Q,b.get(Q.key).overlayedDocument);K!=null&&L.push(new Ea(Q.key,K,wT(K.value.mapValue),hr.exists(!0)))}return p.mutationQueue.addMutationBatch(D,g,L,m)}).next(j=>{x=j;const L=j.applyToLocalDocumentSet(b,H);return p.documentOverlayCache.saveOverlays(D,j.batchId,L)})}).then(()=>({batchId:x.batchId,changes:kT(b)}))}(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Wa[f.currentUser.toKey()];g||(g=new Ee(Ft)),g=g.insert(m,p),f.Wa[f.currentUser.toKey()]=g}(a,o.batchId,n),await lu(a,o.changes),await Rh(a.remoteStore)}catch(o){const u=Np(o,"Failed to persist write");n.reject(u)}}async function _b(i,t){const n=It(i);try{const a=await dD(n.localStore,t);t.targetChanges.forEach((o,u)=>{const f=n.Ka.get(u);f&&(ie(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?ie(f.Ba):o.removedDocuments.size>0&&(ie(f.Ba),f.Ba=!1))}),await lu(n,a,t)}catch(a){await xo(a)}}function A0(i,t,n){const a=It(i);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.ka.forEach((u,f)=>{const m=f.view.sa(t);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=It(f);p.onlineState=m;let g=!1;p.queries.forEach((T,b)=>{for(const x of b.ta)x.sa(m)&&(g=!0)}),g&&Ip(p)}(a.eventManager,t),o.length&&a.La.p_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function eN(i,t,n){const a=It(i);a.sharedClientState.updateQueryState(t,"rejected",n);const o=a.Ka.get(t),u=o&&o.key;if(u){let f=new Ee(_t.comparator);f=f.insert(u,fn.newNoDocument(u,Rt.min()));const m=zt().add(u),p=new Sh(Rt.min(),new Map,new Ee(Ft),f,m);await _b(a,p),a.$a=a.$a.remove(u),a.Ka.delete(t),Mp(a)}else await Mm(a.localStore,t,!1).then(()=>km(a,t,n)).catch(xo)}async function nN(i,t){const n=It(i),a=t.batch.batchId;try{const o=await fD(n.localStore,t);Tb(n,a,null),Eb(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await lu(n,o)}catch(o){await xo(o)}}async function rN(i,t,n){const a=It(i);try{const o=await function(f,m){const p=It(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let T;return p.mutationQueue.lookupMutationBatch(g,m).next(b=>(ie(b!==null),T=b.keys(),p.mutationQueue.removeMutationBatch(g,b))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,T,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,T)).next(()=>p.localDocuments.getDocuments(g,T))})}(a.localStore,t);Tb(a,t,n),Eb(a,t),a.sharedClientState.updateMutationState(t,"rejected",n),await lu(a,o)}catch(o){await xo(o)}}function Eb(i,t){(i.Ga.get(t)||[]).forEach(n=>{n.resolve()}),i.Ga.delete(t)}function Tb(i,t,n){const a=It(i);let o=a.Wa[a.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),a.Wa[a.currentUser.toKey()]=o}}function km(i,t,n=null){i.sharedClientState.removeLocalQueryTarget(t);for(const a of i.qa.get(t))i.ka.delete(a),n&&i.La.Ja(a,n);i.qa.delete(t),i.isPrimaryClient&&i.Ua.br(t).forEach(a=>{i.Ua.containsKey(a)||bb(i,a)})}function bb(i,t){i.Qa.delete(t.path.canonicalString());const n=i.$a.get(t);n!==null&&(wp(i.remoteStore,n),i.$a=i.$a.remove(t),i.Ka.delete(n),Mp(i))}function R0(i,t,n){for(const a of n)a instanceof gb?(i.Ua.addReference(a.key,t),iN(i,a)):a instanceof yb?(ft(Op,"Document no longer in limbo: "+a.key),i.Ua.removeReference(a.key,t),i.Ua.containsKey(a.key)||bb(i,a.key)):wt()}function iN(i,t){const n=t.key,a=n.path.canonicalString();i.$a.get(n)||i.Qa.has(a)||(ft(Op,"New document in limbo: "+n),i.Qa.add(a),Mp(i))}function Mp(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const t=i.Qa.values().next().value;i.Qa.delete(t);const n=new _t(me.fromString(t)),a=i.za.next();i.Ka.set(a,new $D(n)),i.$a=i.$a.insert(n,a),ob(i.remoteStore,new sa(Lr(pp(n.path)),a,"TargetPurposeLimboResolution",yh.ae))}}async function lu(i,t,n){const a=It(i),o=[],u=[],f=[];a.ka.isEmpty()||(a.ka.forEach((m,p)=>{f.push(a.Ha(p,t,n).then(g=>{var T;if((g||n)&&a.isPrimaryClient){const b=g?!g.fromCache:(T=n==null?void 0:n.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;a.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(g){o.push(g);const b=xp.Yi(p.targetId,g);u.push(b)}}))}),await Promise.all(f),a.La.p_(o),await async function(p,g){const T=It(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>J.forEach(g,x=>J.forEach(x.Hi,D=>T.persistence.referenceDelegate.addReference(b,x.targetId,D)).next(()=>J.forEach(x.Ji,D=>T.persistence.referenceDelegate.removeReference(b,x.targetId,D)))))}catch(b){if(!So(b))throw b;ft(Sp,"Failed to update sequence numbers: "+b)}for(const b of g){const x=b.targetId;if(!b.fromCache){const D=T.Ts.get(x),M=D.snapshotVersion,H=D.withLastLimboFreeSnapshotVersion(M);T.Ts=T.Ts.insert(x,H)}}}(a.localStore,u))}async function aN(i,t){const n=It(i);if(!n.currentUser.isEqual(t)){ft(Op,"User change. New user:",t.toKey());const a=await rb(n.localStore,t);n.currentUser=t,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new mt(et.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await lu(n,a.Rs)}}function sN(i,t){const n=It(i),a=n.Ka.get(t);if(a&&a.Ba)return zt().add(a.key);{let o=zt();const u=n.qa.get(t);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.Sa)}return o}}function xb(i){const t=It(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=_b.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=sN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=eN.bind(null,t),t.La.p_=HD.bind(null,t.eventManager),t.La.Ja=FD.bind(null,t.eventManager),t}function oN(i){const t=It(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=nN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=rN.bind(null,t),t}class uh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=wh(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,n){return null}nu(t,n){return null}eu(t){return hD(this.persistence,new lD,t.initialUser,this.serializer)}Xa(t){return new nb(bp.ri,this.serializer)}Za(t){return new vD}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uh.provider={build:()=>new uh};class lN extends uh{constructor(t){super(),this.cacheSizeBytes=t}tu(t,n){ie(this.persistence.referenceDelegate instanceof oh);const a=this.persistence.referenceDelegate.garbageCollector;return new $2(a,t.asyncQueue,n)}Xa(t){const n=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new nb(a=>oh.ri(a,n),this.serializer)}}class Lm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>A0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=aN.bind(null,this.syncEngine),await BD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new qD}()}createDatastore(t){const n=wh(t.databaseInfo.databaseId),a=function(u){return new xD(u)}(t.databaseInfo);return function(u,f,m,p){return new RD(u,f,m,p)}(t.authCredentials,t.appCheckCredentials,a,n)}createRemoteStore(t){return function(a,o,u,f,m){return new DD(a,o,u,f,m)}(this.localStore,this.datastore,t.asyncQueue,n=>A0(this.syncEngine,n,0),function(){return E0.D()?new E0:new _D}())}createSyncEngine(t,n){return function(o,u,f,m,p,g,T){const b=new KD(o,u,f,m,p,g);return T&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const u=It(o);ft(ls,"RemoteStore shutting down."),u.W_.add(5),await ou(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Lm.provider={build:()=>new Lm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Ei("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="FirestoreClient";class uN{constructor(t,n,a,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=hn.UNAUTHENTICATED,this.clientId=pT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async f=>{ft(va,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(a,f=>(ft(va,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ca;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const a=Np(n,"Failed to shutdown persistence");t.reject(a)}}),t.promise}}async function rm(i,t){i.asyncQueue.verifyOperationInProgress(),ft(va,"Initializing OfflineComponentProvider");const n=i.configuration;await t.initialize(n);let a=n.initialUser;i.setCredentialChangeListener(async o=>{a.isEqual(o)||(await rb(t.localStore,o),a=o)}),t.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=t}async function C0(i,t){i.asyncQueue.verifyOperationInProgress();const n=await cN(i);ft(va,"Initializing OnlineComponentProvider"),await t.initialize(n,i.configuration),i.setCredentialChangeListener(a=>b0(t.remoteStore,a)),i.setAppCheckTokenChangeListener((a,o)=>b0(t.remoteStore,o)),i._onlineComponents=t}async function cN(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ft(va,"Using user provided OfflineComponentProvider");try{await rm(i,i._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===et.FAILED_PRECONDITION||o.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;ho("Error using user provided cache. Falling back to memory cache: "+n),await rm(i,new uh)}}else ft(va,"Using default OfflineComponentProvider"),await rm(i,new lN(void 0));return i._offlineComponents}async function wb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ft(va,"Using user provided OnlineComponentProvider"),await C0(i,i._uninitializedComponentsProvider._online)):(ft(va,"Using default OnlineComponentProvider"),await C0(i,new Lm))),i._onlineComponents}function hN(i){return wb(i).then(t=>t.syncEngine)}async function Um(i){const t=await wb(i),n=t.eventManager;return n.onListen=YD.bind(null,t.syncEngine),n.onUnlisten=ZD.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=XD.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=JD.bind(null,t.syncEngine),n}function fN(i,t,n={}){const a=new ca;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const T=new Sb({next:x=>{T.su(),f.enqueueAndForget(()=>mb(u,b)),x.fromCache&&p.source==="server"?g.reject(new mt(et.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(x)},error:x=>g.reject(x)}),b=new pb(m,T,{includeMetadataChanges:!0,Ta:!0});return db(u,b)}(await Um(i),i.asyncQueue,t,n,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(i,t,n){if(!n)throw new mt(et.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function dN(i,t,n,a){if(t===!0&&a===!0)throw new mt(et.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function N0(i){if(!_t.isDocumentKey(i))throw new mt(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function I0(i){if(_t.isDocumentKey(i))throw new mt(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Ch(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=function(a){return a.constructor?a.constructor.name:null}(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":wt()}function Pr(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new mt(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ch(i);throw new mt(et.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="firestore.googleapis.com",O0=!0;class M0{constructor(t){var n,a;if(t.host===void 0){if(t.ssl!==void 0)throw new mt(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Cb,this.ssl=O0}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:O0;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=eb;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<G2)throw new mt(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}dN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ab((a=t.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new mt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new mt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new mt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Dh{constructor(t,n,a,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new M0({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new mt(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new mt(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new M0(t),t.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new TC;switch(a.type){case"firstParty":return new wC(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new mt(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=D0.get(n);a&&(ft("ComponentProvider","Removing Datastore"),D0.delete(n),a.terminate())}(this),Promise.resolve()}}function mN(i,t,n,a={}){var o;const u=(i=Pr(i,Dh))._getSettings(),f=`${t}:${n}`;if(u.host!==Cb&&u.host!==f&&ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},u),{host:f,ssl:!1})),a.mockUserToken){let m,p;if(typeof a.mockUserToken=="string")m=a.mockUserToken,p=hn.MOCK_USER;else{m=tR(a.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const g=a.mockUserToken.sub||a.mockUserToken.user_id;if(!g)throw new mt(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new hn(g)}i._authCredentials=new bC(new mT(m,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(t,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Ta(this.firestore,t,this._query)}}class An{constructor(t,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ha(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new An(this.firestore,t,this._key)}}class ha extends Ta{constructor(t,n,a){super(t,n,pp(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new An(this.firestore,null,new _t(t))}withConverter(t){return new ha(this.firestore,t,this._path)}}function pe(i,t,...n){if(i=Br(i),Rb("collection","path",t),i instanceof Dh){const a=me.fromString(t,...n);return I0(a),new ha(i,null,a)}{if(!(i instanceof An||i instanceof ha))throw new mt(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(me.fromString(t,...n));return I0(a),new ha(i.firestore,null,a)}}function Fr(i,t,...n){if(i=Br(i),arguments.length===1&&(t=pT.newId()),Rb("doc","path",t),i instanceof Dh){const a=me.fromString(t,...n);return N0(a),new An(i,null,new _t(a))}{if(!(i instanceof An||i instanceof ha))throw new mt(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(me.fromString(t,...n));return N0(a),new An(i.firestore,i instanceof ha?i.converter:null,new _t(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="AsyncQueue";class j0{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new ab(this,"async_queue_retry"),this.Su=()=>{const a=nm();a&&ft(V0,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.bu=t;const n=nm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=nm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new ca;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!So(t))throw t;ft(V0,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.bu.then(()=>(this.pu=!0,t().catch(a=>{this.gu=a,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(a);throw Ei("INTERNAL UNHANDLED ERROR: ",o),a}).then(a=>(this.pu=!1,a))));return this.bu=n,n}enqueueAfterDelay(t,n,a){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const o=Dp.createAndSchedule(this,t,n,a,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&wt()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}function k0(i){return function(n,a){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of a)if(u in o&&typeof o[u]=="function")return!0;return!1}(i,["next","error","complete"])}class us extends Dh{constructor(t,n,a,o){super(t,n,a,o),this.type="firestore",this._queue=new j0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new j0(t),this._firestoreClient=void 0,await t}}}function pN(i,t){const n=typeof i=="object"?i:cC(),a=typeof i=="string"?i:nh,o=aC(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=ZA("firestore");u&&mN(o,...u)}return o}function Vp(i){if(i._terminated)throw new mt(et.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||gN(i),i._firestoreClient}function gN(i){var t,n,a;const o=i._freezeSettings(),u=function(m,p,g,T){return new PC(m,p,g,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,Ab(T.experimentalLongPollingOptions),T.useFetchStreams)}(i._databaseId,((t=i._app)===null||t===void 0?void 0:t.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new uN(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new vo(an.fromBase64String(t))}catch(n){throw new mt(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new vo(an.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new mt(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new mt(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new mt(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ft(this._lat,t._lat)||Ft(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=/^__.*__$/;class vN{constructor(t,n,a){this.data=t,this.fieldMask=n,this.fieldTransforms=a}toMutation(t,n){return this.fieldMask!==null?new Ea(t,this.data,this.fieldMask,n,this.fieldTransforms):new au(t,this.data,n,this.fieldTransforms)}}class Db{constructor(t,n,a){this.data=t,this.fieldMask=n,this.fieldTransforms=a}toMutation(t,n){return new Ea(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function Nb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt()}}class Lp{constructor(t,n,a,o,u,f){this.settings=t,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new Lp(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.ku({path:a,Qu:!1});return o.$u(t),o}Ku(t){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.ku({path:a,Qu:!1});return o.Bu(),o}Uu(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return ch(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(Nb(this.Lu)&&yN.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class _N{constructor(t,n,a){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=a||wh(t)}ju(t,n,a,o=!1){return new Lp({Lu:t,methodName:n,zu:a,path:rn.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Up(i){const t=i._freezeSettings(),n=wh(i._databaseId);return new _N(i._databaseId,!!t.ignoreUndefinedProperties,n)}function EN(i,t,n,a,o,u={}){const f=i.ju(u.merge||u.mergeFields?2:0,t,n,o);Bp("Data must be an object, but it was:",f,a);const m=Ib(a,f);let p,g;if(u.merge)p=new kn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const b of u.mergeFields){const x=Pm(t,b,n);if(!f.contains(x))throw new mt(et.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);Mb(T,x)||T.push(x)}p=new kn(T),g=f.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,g=f.fieldTransforms;return new vN(new wn(m),p,g)}class Oh extends Ih{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Oh}}class Pp extends Ih{_toFieldTransform(t){return new h2(t.path,new Xl)}isEqual(t){return t instanceof Pp}}function TN(i,t,n,a){const o=i.ju(1,t,n);Bp("Data must be an object, but it was:",o,a);const u=[],f=wn.empty();_a(a,(p,g)=>{const T=zp(t,p,n);g=Br(g);const b=o.Ku(T);if(g instanceof Oh)u.push(T);else{const x=uu(g,b);x!=null&&(u.push(T),f.set(T,x))}});const m=new kn(u);return new Db(f,m,o.fieldTransforms)}function bN(i,t,n,a,o,u){const f=i.ju(1,t,n),m=[Pm(t,a,n)],p=[o];if(u.length%2!=0)throw new mt(et.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<u.length;x+=2)m.push(Pm(t,u[x])),p.push(u[x+1]);const g=[],T=wn.empty();for(let x=m.length-1;x>=0;--x)if(!Mb(g,m[x])){const D=m[x];let M=p[x];M=Br(M);const H=f.Ku(D);if(M instanceof Oh)g.push(D);else{const j=uu(M,H);j!=null&&(g.push(D),T.set(D,j))}}const b=new kn(g);return new Db(T,b,f.fieldTransforms)}function xN(i,t,n,a=!1){return uu(n,i.ju(a?4:3,t))}function uu(i,t){if(Ob(i=Br(i)))return Bp("Unsupported field value:",t,i),Ib(i,t);if(i instanceof Ih)return function(a,o){if(!Nb(o.Lu))throw o.Wu(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(a,o){const u=[];let f=0;for(const m of a){let p=uu(m,o.Uu(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(i,t)}return function(a,o){if((a=Br(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return l2(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=Ce.fromDate(a);return{timestampValue:sh(o.serializer,u)}}if(a instanceof Ce){const u=new Ce(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:sh(o.serializer,u)}}if(a instanceof jp)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof vo)return{bytesValue:KT(o.serializer,a._byteString)};if(a instanceof An){const u=o.databaseId,f=a.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ep(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof kp)return function(f,m){return{mapValue:{fields:{[xT]:{stringValue:ST},[rh]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Wu("VectorValues must only contain numeric values.");return gp(m.serializer,g)})}}}}}}(a,o);throw o.Wu(`Unsupported field value: ${Ch(a)}`)}(i,t)}function Ib(i,t){const n={};return yT(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):_a(i,(a,o)=>{const u=uu(o,t.qu(a));u!=null&&(n[a]=u)}),{mapValue:{fields:n}}}function Ob(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Ce||i instanceof jp||i instanceof vo||i instanceof An||i instanceof Ih||i instanceof kp)}function Bp(i,t,n){if(!Ob(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const a=Ch(n);throw a==="an object"?t.Wu(i+" a custom object"):t.Wu(i+" "+a)}}function Pm(i,t,n){if((t=Br(t))instanceof Nh)return t._internalPath;if(typeof t=="string")return zp(i,t);throw ch("Field path arguments must be of type string or ",i,!1,void 0,n)}const SN=new RegExp("[~\\*/\\[\\]]");function zp(i,t,n){if(t.search(SN)>=0)throw ch(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Nh(...t.split("."))._internalPath}catch{throw ch(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function ch(i,t,n,a,o){const u=a&&!a.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${a}`),f&&(p+=` in document ${o}`),p+=")"),new mt(et.INVALID_ARGUMENT,m+i+p)}function Mb(i,t){return i.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(t,n,a,o,u){this._firestore=t,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new An(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new wN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Mh("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class wN extends Vb{data(){return super.data()}}function Mh(i,t){return typeof t=="string"?zp(i,t):t instanceof Nh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new mt(et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qp{}class kb extends qp{}function dn(i,t,...n){let a=[];t instanceof qp&&a.push(t),a=a.concat(n),function(u){const f=u.filter(p=>p instanceof Hp).length,m=u.filter(p=>p instanceof Vh).length;if(f>1||f>0&&m>0)throw new mt(et.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const o of a)i=o._apply(i);return i}class Vh extends kb{constructor(t,n,a){super(),this._field=t,this._op=n,this._value=a,this.type="where"}static _create(t,n,a){return new Vh(t,n,a)}_apply(t){const n=this._parse(t);return Ub(t._query,n),new Ta(t.firestore,t.converter,Rm(t._query,n))}_parse(t){const n=Up(t.firestore);return function(u,f,m,p,g,T,b){let x;if(g.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new mt(et.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){U0(b,T);const M=[];for(const H of b)M.push(L0(p,u,H));x={arrayValue:{values:M}}}else x=L0(p,u,b)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||U0(b,T),x=xN(m,f,b,T==="in"||T==="not-in");return ke.create(g,T,x)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function Rn(i,t,n){const a=t,o=Mh("where",i);return Vh._create(o,a,n)}class Hp extends qp{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Hp(t,n)}_parse(t){const n=this._queryConstraints.map(a=>a._parse(t)).filter(a=>a.getFilters().length>0);return n.length===1?n[0]:dr.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)Ub(f,p),f=Rm(f,p)}(t._query,n),new Ta(t.firestore,t.converter,Rm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Fp extends kb{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Fp(t,n)}_apply(t){const n=function(o,u,f){if(o.startAt!==null)throw new mt(et.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new mt(et.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Yl(u,f)}(t._query,this._field,this._direction);return new Ta(t.firestore,t.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new wo(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(t._query,n))}}function Lb(i,t="asc"){const n=t,a=Mh("orderBy",i);return Fp._create(a,n)}function L0(i,t,n){if(typeof(n=Br(n))=="string"){if(n==="")throw new mt(et.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!OT(t)&&n.indexOf("/")!==-1)throw new mt(et.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=t.path.child(me.fromString(n));if(!_t.isDocumentKey(a))throw new mt(et.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Z_(i,new _t(a))}if(n instanceof An)return Z_(i,n._key);throw new mt(et.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ch(n)}.`)}function U0(i,t){if(!Array.isArray(i)||i.length===0)throw new mt(et.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Ub(i,t){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new mt(et.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new mt(et.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class AN{convertValue(t,n="none"){switch(ga(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ie(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(pa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw wt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const a={};return _a(t,(o,u)=>{a[o]=this.convertValue(u,n)}),a}convertVectorValue(t){var n,a,o;const u=(o=(a=(n=t.fields)===null||n===void 0?void 0:n[rh].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(f=>Ie(f.doubleValue));return new kp(u)}convertGeoPoint(t){return new jp(Ie(t.latitude),Ie(t.longitude))}convertArray(t,n){return(t.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(t,n){switch(n){case"previous":const a=_h(t);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(Ql(t));default:return null}}convertTimestamp(t){const n=ma(t);return new Ce(n.seconds,n.nanos)}convertDocumentKey(t,n){const a=me.fromString(t);ie(tb(a));const o=new $l(a.get(1),a.get(3)),u=new _t(a.popFirst(5));return o.isEqual(n)||Ei(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(i,t,n){let a;return a=i?i.toFirestore(t):t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Pb extends Vb{constructor(t,n,a,o,u,f){super(t,n,a,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new $c(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const a=this._document.data.field(Mh("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}}class $c extends Pb{data(t={}){return super.data(t)}}class Bb{constructor(t,n,a,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new kl(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(a=>{t.call(n,new $c(this._firestore,this._userDataWriter,a.key,a,new kl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new mt(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new $c(o._firestore,o._userDataWriter,m.doc.key,m.doc,new kl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new $c(o._firestore,o._userDataWriter,m.doc.key,m.doc,new kl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,T=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),T=f.indexOf(m.doc.key)),{type:CN(m.type),doc:p,oldIndex:g,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function CN(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt()}}class Gp extends AN{constructor(t){super(),this.firestore=t}convertBytes(t){return new vo(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new An(this.firestore,null,n)}}function sn(i){i=Pr(i,Ta);const t=Pr(i.firestore,us),n=Vp(t),a=new Gp(t);return jb(i._query),fN(n,i._query).then(o=>new Bb(t,a,i,o))}function pr(i,t,n,...a){i=Pr(i,An);const o=Pr(i.firestore,us),u=Up(o);let f;return f=typeof(t=Br(t))=="string"||t instanceof Nh?bN(u,"updateDoc",i._key,t,n,a):TN(u,"updateDoc",i._key,t),Qp(o,[f.toMutation(i._key,hr.exists(!0))])}function zb(i){return Qp(Pr(i.firestore,us),[new yp(i._key,hr.none())])}function qb(i,t){const n=Pr(i.firestore,us),a=Fr(i),o=RN(i.converter,t);return Qp(n,[EN(Up(i.firestore),"addDoc",a._key,o,i.converter!==null,{}).toMutation(a._key,hr.exists(!1))]).then(()=>a)}function cu(i,...t){var n,a,o;i=Br(i);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof t[f]!="object"||k0(t[f])||(u=t[f],f++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(k0(t[f])){const b=t[f];t[f]=(n=b.next)===null||n===void 0?void 0:n.bind(b),t[f+1]=(a=b.error)===null||a===void 0?void 0:a.bind(b),t[f+2]=(o=b.complete)===null||o===void 0?void 0:o.bind(b)}let p,g,T;if(i instanceof An)g=Pr(i.firestore,us),T=pp(i._key.path),p={next:b=>{t[f]&&t[f](DN(g,i,b))},error:t[f+1],complete:t[f+2]};else{const b=Pr(i,Ta);g=Pr(b.firestore,us),T=b._query;const x=new Gp(g);p={next:D=>{t[f]&&t[f](new Bb(g,x,b,D))},error:t[f+1],complete:t[f+2]},jb(i._query)}return function(x,D,M,H){const j=new Sb(H),L=new pb(D,j,M);return x.asyncQueue.enqueueAndForget(async()=>db(await Um(x),L)),()=>{j.su(),x.asyncQueue.enqueueAndForget(async()=>mb(await Um(x),L))}}(Vp(g),T,m,p)}function Qp(i,t){return function(a,o){const u=new ca;return a.asyncQueue.enqueueAndForget(async()=>tN(await hN(a),o,u)),u.promise}(Vp(i),t)}function DN(i,t,n){const a=n.docs.get(t._key),o=new Gp(i);return new Pb(i,o,t._key,a,new kl(n.hasPendingWrites,n.fromCache),t.converter)}function NN(){return new Pp("serverTimestamp")}(function(t,n=!0){(function(o){bo=o})(uC),th(new Hl("firestore",(a,{instanceIdentifier:o,options:u})=>{const f=a.getProvider("app").getImmediate(),m=new us(new xC(a.getProvider("auth-internal")),new AC(f,a.getProvider("app-check-internal")),function(g,T){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new mt(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(g.options.projectId,T)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),uo(z_,q_,t),uo(z_,q_,"esm2017")})();var IN="firebase",ON="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */uo(IN,ON,"app");const MN={apiKey:"AIzaSyAuqKhjCSWU_E_ubt4jPpTVX4iv4H75WeY",authDomain:"tommitrestaurant.firebaseapp.com",projectId:"tommitrestaurant",storageBucket:"tommitrestaurant.firebasestorage.app",messagingSenderId:"71659069298",appId:"1:71659069298:web:543e21298970edd46187eb",measurementId:"G-K2FQG5H3X3"},VN=aT(MN),Xt=pN(VN),Bm=async(i,t,n,a,o)=>{if(!i||!a)throw new Error("Vui lòng điền đầy đủ thông tin!");try{await qb(pe(Xt,"Notification"),{Sender:i,Receiver:t,Type:n,Message:a,CreatedAt:NN(),data:o}),console.log("Thông báo đã được thêm vào Firestore!")}catch(u){throw console.error("Lỗi khi thêm thông báo:",u),u}},jN="/tommitres/assets/staffAvt-D9no3iit.png",kN="/tommitres/assets/managerAvt-DESLOvue.png",LN="/tommitres/assets/chefAvt-CAIIhxxc.png",UN=()=>{const i=mr(),{width:t}=gh(),{userType:n,userName:a}=iu(),o=t<=768,[u,f]=S.useState(!1),[m,p]=S.useState(!1),[g,T]=S.useState(""),[b,x]=S.useState("");S.useEffect(()=>{console.log("UserProfile returned:",n),n&&T(n)},[n]);const D=()=>{f(L=>!L)},M=()=>{localStorage.clear(),i("/tommitres"),window.location.reload()},H=()=>{p(!0)},j=async L=>{if(L.preventDefault(),!g){alert("Lỗi: !");return}try{await Bm(g,"M0001","Password",`${n} muốn đổi mật khẩu thành ${b}`,b),alert("Thông báo đã được gửi!"),p(!1),x("")}catch(Q){alert("Lỗi khi gửi thông báo!"),console.error(Q)}};return v.jsxs(v.Fragment,{children:[n==null?v.jsx(er,{variant:"primary",style:{fontSize:o?"12px":"18px"},onClick:()=>i("/tommitres/Login"),children:"Đăng nhập"}):v.jsxs("div",{className:"user-avatar-container",onClick:D,children:[v.jsx("img",{className:"user-avatar",src:n.startsWith("ST")?jN:n.startsWith("C")?LN:kN,alt:"User Avatar"}),u&&v.jsxs("div",{className:"dropdown-menu",children:[(n.startsWith("ST")||n.startsWith("C"))&&v.jsx("button",{className:"dropdown-item",onClick:H,children:"Yêu cầu đổi mật khẩu"}),v.jsx("button",{className:"dropdown-item",onClick:M,children:"Đăng xuất"})]})]}),v.jsxs(Mc,{show:m,onHide:()=>p(!1),children:[v.jsx(Mc.Header,{closeButton:!0,children:v.jsx(Mc.Title,{children:"Yêu cầu đổi mật khẩu"})}),v.jsx(Mc.Body,{children:v.jsxs(ts,{onSubmit:j,children:[v.jsxs(ts.Group,{className:"mb-3",children:[v.jsx(ts.Label,{children:"Người gửi"}),v.jsx(ts.Control,{type:"text",value:g,readOnly:!0})]}),v.jsxs(ts.Group,{className:"mb-3",children:[v.jsx(ts.Label,{children:"Mật khẩu mới"}),v.jsx(ts.Control,{as:"textarea",rows:1,placeholder:"Mật khẩu mới: ",value:b,onChange:L=>x(L.target.value),required:!0})]}),v.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:v.jsx(er,{variant:"primary",type:"submit",children:"Gửi yêu cầu"})})]})})]})]})},zm=()=>v.jsx("div",{className:"notification-sign"}),PN=async(i,t,n)=>{try{const a=pe(Xt,"Account"),o=dn(a,Rn("Username","==",i)),u=await sn(o);if(u.empty)throw new Error("Không tìm thấy tài khoản!");const f=u.docs[0];if(f.data().Password!==t)throw new Error("Mật khẩu hiện tại không chính xác!");return await pr(f.ref,{Password:n}),"Mật khẩu đã được cập nhật thành công!"}catch(a){return`Lỗi: ${a.message}`}};async function BN(i,t){try{const n=pe(Xt,"Account"),a=dn(n,Rn("Username","==",i)),o=await sn(a);if(o.empty)throw new Error("Không tìm thấy tài khoản!");const u=o.docs[0];return await pr(u.ref,{Password:t}),"Mật khẩu đã được cập nhật thành công!"}catch(n){return`Lỗi: ${n.message}`}}const zN=()=>v.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#52c41a",strokeWidth:"2",children:v.jsx("path",{d:"M20 6L9 17l-5-5"})}),qN=()=>v.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#faad14",strokeWidth:"2",children:v.jsx("path",{d:"M12 2L2 20h20L12 2zm0 16v-2m0-4v-4"})}),HN=()=>v.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#f5222d",strokeWidth:"2",children:[v.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),v.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),$p=()=>{const i=mr(),{width:t}=gh(),{userType:n}=iu(),a=t<=768,[o,u]=S.useState(!1),f=S.useRef(null),[m,p]=S.useState([]);S.useEffect(()=>{if(n){const b=cu(dn(pe(Xt,"Notification"),Rn("Receiver","==",`${n}`),Lb("CreatedAt","desc")),x=>{const D=x.docs.map(M=>({...M.data(),id:M.id}));console.log("Fetched Notifications:",D),p(D)});return()=>b()}},[n]);const g=async b=>{try{const D=(await sn(pe(Xt,"Notification"))).docs.filter(M=>M.data().Message.includes(b));if(D.length>0){for(const H of D)await zb(Fr(Xt,"Notification",H.id)),console.log(`Notification with message "${b}" deleted from Firestore`);const M=m.filter(H=>!H.Message.includes(b));p(M)}else console.log("No notifications found with this message")}catch(x){console.error("Error deleting notification by message:",x)}},T=()=>{console.log("Toggling dropdown, current state:",o),u(!o)};return S.useEffect(()=>{const b=x=>{f.current&&!f.current.contains(x.target)&&u(!1)};return o?(document.addEventListener("mousedown",b),document.addEventListener("touchstart",b)):(document.removeEventListener("mousedown",b),document.removeEventListener("touchstart",b)),()=>{document.removeEventListener("mousedown",b),document.removeEventListener("touchstart",b)}},[o]),v.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,backgroundColor:"white",zIndex:1e3,padding:"5px 10px",boxShadow:"0 2px 5px rgba(0, 0, 0, 0.1)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:10,height:a?80:85},children:[v.jsx("h1",{style:{margin:0},children:v.jsx("a",{onClick:()=>i("/tommitres"),style:{cursor:"pointer"},children:v.jsx("img",{src:BA,width:a?t/3:t/2.5,alt:"Tôm & Mít Restaurant"})})}),v.jsx("a",{href:"tel:0862051226",children:v.jsxs("div",{children:[v.jsx("img",{src:zA,height:a?"50px":"80px",style:{marginRight:5}}),v.jsx("p",{style:{display:"inline-block",fontSize:a?"12px":"18px"},children:"Gọi ngay"})]})}),n&&v.jsxs("div",{className:"noti-icon-container",style:{position:"relative",cursor:"pointer"},ref:f,onClick:T,children:[v.jsx("img",{src:qA,className:"noti-icon",alt:"Thông báo",style:{transition:"transform 0.2s",filter:o?"brightness(0.8)":"none"},onTouchStart:b=>b.currentTarget.style.transform="scale(0.95)",onTouchEnd:b=>b.currentTarget.style.transform="scale(1)"}),m.length===0?null:v.jsx(zm,{}),o&&v.jsxs("div",{className:"dropdown-menu",style:{position:"fixed",top:a?60:100,left:a?"5%":"auto",right:a?"5%":0,width:a?"90%":"400px",maxWidth:a?"90%":"400px",backgroundColor:"#fff",boxShadow:"0 8px 20px rgba(0,0,0,0.15)",borderRadius:"12px",padding:0,fontSize:a?"12px":"16px",overflowY:"auto",maxHeight:a?"70vh":"350px",animation:"fadeInDown 0.3s ease-in-out",zIndex:1001,border:"1px solid #e5e5e5"},children:[v.jsxs("div",{style:{padding:a?"10px 15px":"15px 20px",fontWeight:"600",fontSize:a?"14px":"16px",color:"#333",borderBottom:"1px solid #f0f0f0",display:"flex",justifyContent:"space-between",alignItems:"center",background:"linear-gradient(135deg, #f9f9f9, #fff)",borderTopLeftRadius:"12px",borderTopRightRadius:"12px"},children:["Thông báo mới",v.jsx("button",{onClick:()=>u(!1),style:{background:"none",border:"none",cursor:"pointer",fontSize:a?"14px":"16px",color:"#888",padding:"0 5px",transition:"color 0.2s"},onTouchStart:b=>b.currentTarget.style.color="#ff4d4f",onTouchEnd:b=>b.currentTarget.style.color="#888",children:"✕"})]}),m.length>0?m.map(b=>v.jsxs("div",{className:"noti-item",style:{display:"flex",alignItems:"center",padding:a?"10px 15px":"12px 20px",borderBottom:"1px solid #f5f5f5",transition:"background-color 0.2s",backgroundColor:"#fff",cursor:"pointer"},onTouchStart:x=>x.currentTarget.style.backgroundColor="#f0f0f0",onTouchEnd:x=>x.currentTarget.style.backgroundColor="#fff",children:[v.jsx("div",{style:{marginRight:a?"8px":"12px",width:a?"20px":"24px",height:a?"20px":"24px",display:"flex",alignItems:"center",justifyContent:"center"},children:b.Type==="Accept"?v.jsx(zN,{}):b.Type==="Refuse"?v.jsx(HN,{}):v.jsx(qN,{})}),v.jsx("div",{style:{flex:1},children:v.jsx("span",{style:{display:"block",fontWeight:"500",color:"#333",fontSize:a?"12px":"14px"},children:b.Message})}),v.jsxs("div",{className:"noti-buttons",style:{display:"flex",gap:a?"5px":"10px"},children:[v.jsx("button",{onClick:()=>{n==="M0001"&&(Bm(n,b.Sender,"Accept","Mật khẩu đã được đổi thành công",""),BN(b.Sender,b.data)),g(b.Message)},style:{border:"none",background:"none",cursor:"pointer",width:a?"50px":"60px",height:a?"50px":"10px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",transition:"background-color 0.2s"},onTouchStart:x=>x.currentTarget.style.backgroundColor="#d9f7be",onTouchEnd:x=>x.currentTarget.style.backgroundColor="transparent",title:"Đánh dấu đã đọc",children:v.jsx("svg",{width:a?"24":"28",height:a?"24":"28",viewBox:"0 0 24 24",fill:"none",stroke:"#389e0d",strokeWidth:"2.5",children:v.jsx("path",{d:"M20 6L9 17l-5-5"})})}),v.jsx("button",{onClick:()=>{n==="M0001"&&Bm(n,b.Sender,"Refuse","Yêu cầu không được chấp thuận",""),g(b.Message)},style:{border:"none",background:"none",cursor:"pointer",width:a?"50px":"60px",height:a?"50px":"10px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",transition:"background-color 0.2s"},onTouchStart:x=>x.currentTarget.style.backgroundColor="#ffccc7",onTouchEnd:x=>x.currentTarget.style.backgroundColor="transparent",title:"Xóa",children:v.jsx("svg",{width:a?"24":"28",height:a?"24":"28",viewBox:"0 0 24 24",fill:"none",stroke:"#cf1322",strokeWidth:"2.5",children:v.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]})]},b.id)):v.jsx("div",{style:{padding:a?"15px":"20px",textAlign:"center",color:"#888",fontSize:a?"12px":"14px",backgroundColor:"#fafafa",borderBottomLeftRadius:"12px",borderBottomRightRadius:"12px"},children:"Không có thông báo nào"})]})]}),v.jsx(UN,{})]})},FN="/tommitres/assets/tom-mit-DmBKdzfS.jpg",Hb="/tommitres/assets/do-an-BwFUdnYW.jpg",GN="/tommitres/assets/nem-nuong-BsC3FQ4m.jpg",QN=[FN,Hb,GN],$N=()=>{const{width:i,height:t}=gh();return v.jsx("div",{style:{marginTop:"20px",overflow:"hidden",alignItems:"center"},className:"vw-100",children:v.jsx(x_,{children:QN.map((n,a)=>v.jsx(x_.Item,{children:v.jsx("img",{className:"d-block w-100",src:n,style:{objectFit:"cover",width:"100%",height:t/1.6}})},a))})})},Fb=S.createContext(),Gb=()=>S.useContext(Fb),P0=({children:i})=>{const[t,n]=S.useState(0);return v.jsx(Fb.Provider,{value:{unread:t,setUnread:n},children:i})},KN=()=>{const i=mr(),{width:t,height:n}=gh(),{userType:a}=iu(),{unread:o}=Gb();if(a==null)return null;console.log("usertype123: ",a,typeof a);let u;if(a.startsWith("ST"))u=v.jsxs(v.Fragment,{children:[v.jsx(er,{variant:"success",className:"px-4 py-2",onClick:()=>i("/tommitres/Order"),children:"Order"}),v.jsxs("div",{style:{position:"relative"},children:[v.jsx(er,{variant:"warning",className:"px-4 py-2",onClick:()=>i("/tommitres/manageOrder"),children:"Quản lý đơn hàng"}),o===0?null:v.jsx(zm,{})]})]});else if(a.startsWith("C"))u=v.jsxs("div",{style:{position:"relative"},children:[v.jsx(er,{variant:"info",className:"px-4 py-2",onClick:()=>i("/tommitres/manageOrder"),children:"Quản lý đơn hàng"}),o===0?null:v.jsx(zm,{})]});else return v.jsx("div",{className:"d-flex justify-content-center align-items-center gap-3 mt-4 flex-wrap",style:{paddingBottom:"20px",paddingTop:"20px"},children:a.startsWith("ST")?v.jsxs(v.Fragment,{children:[v.jsx(er,{variant:"success",className:"px-4 py-2",onClick:()=>i("/tommitres/Order"),children:"Order"}),v.jsx(er,{variant:"warning",className:"px-4 py-2",onClick:()=>i("/tommitres/OrderStatus"),children:"Trạng thái đơn hàng"})]}):a.startsWith("C")?v.jsx(er,{variant:"info",className:"px-4 py-2",onClick:()=>i("/tommitres/ChefOrders"),children:"Đơn đang chờ"}):v.jsxs(v.Fragment,{children:[" ",v.jsx(er,{variant:"warning",className:"px-4 py-2",onClick:()=>i("/tommitres/manageAccount"),children:"Quản lý tài khoản"}),v.jsx(er,{variant:"warning",className:"px-4 py-2",onClick:()=>i("/tommitres/DetailedRevenue"),children:"Doanh Thu"})]})});return v.jsx("div",{className:"d-flex justify-content-center align-items-center gap-3 mt-4 flex-wrap",style:{paddingBottom:"20px",paddingTop:"20px"},children:u})},YN=()=>{const[i,t]=S.useState(""),[n,a]=S.useState(""),[o,u]=S.useState(null),[f,m]=S.useState(!1),p=mr(),g=async(b,x)=>{try{console.log("Đang thực hiện yêu cầu lấy tất cả tài khoản..."),m(!0);const D=pe(Xt,"Account");console.log("Truy vấn tất cả tài khoản");const M=await sn(D);console.log("Kết quả từ Firestore:",M);let H=!1;M.forEach(j=>{const L=j.data();if(console.log("Dữ liệu tài khoản:",L),L.Username===b&&L.Password===x){H=!0;const Q={username:b};localStorage.setItem("currentUser",JSON.stringify(Q)),console.log("Đăng nhập thành công."),p("/tommitres")}}),H||(u("Tài khoản hoặc mật khẩu không đúng"),console.log("Tài khoản hoặc mật khẩu không đúng."))}catch(D){u("Đã xảy ra lỗi khi đăng nhập"),console.error("Lỗi trong khi lấy tài khoản từ Firestore:",D)}finally{m(!1),console.log("Kết thúc quá trình đăng nhập.")}},T=b=>{b.preventDefault(),console.log("Form đã được submit."),g(i,n)};return v.jsx("div",{className:"d-flex justify-content-center align-items-center vh-100 vw-100",style:{background:"#f0f2f5"},children:v.jsxs("div",{className:"card p-5 shadow-lg d-flex flex-column justify-content-center",style:{width:"450px",height:"520px",borderRadius:"15px",boxShadow:"0px 4px 10px rgba(0, 0, 0, 0.2)",backgroundColor:"white"},children:[v.jsx("h3",{className:"text-center mb-4",style:{color:"#333"},children:"Đăng nhập"}),v.jsxs("form",{onSubmit:T,children:[v.jsxs("div",{className:"mb-3",children:[v.jsx("label",{className:"form-label fw-semibold",children:"Tên người dùng"}),v.jsx("input",{type:"text",className:"form-control p-2",value:i,onChange:b=>t(b.target.value),required:!0,style:{borderRadius:"10px"}})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"form-label fw-semibold",children:"Mật khẩu"}),v.jsx("input",{type:"password",className:"form-control p-2",value:n,onChange:b=>a(b.target.value),required:!0,style:{borderRadius:"10px"}})]}),v.jsx("button",{type:"submit",className:"btn w-100 p-2 fw-bold",style:{backgroundColor:"#4A90E2",color:"white",borderRadius:"10px"},disabled:f,children:f?"Đang đăng nhập...":"Đăng nhập"})]}),o&&v.jsx("p",{className:"text-center text-danger mt-3",children:o}),v.jsx("p",{className:"text-center mt-3",children:v.jsx("a",{href:"#",className:"text-decoration-none",style:{color:"#4A90E2"},children:"Quên mật khẩu?"})})]})})},Qb="/tommitres/assets/Facebook-logo-OyJVFIgi.png",XN=[{orderID:"DH12345",customerName:"Nguyễn Văn A",status:"Đang xử lý",orderDate:"2023-10-20 14:30",tableNumber:"Bàn 1",totalAmount:345e3,items:[{productID:1,productName:"Pizza Margherita",unitPrice:15e4,quantity:2},{productID:2,productName:"Trà Sữa Trân Châu",unitPrice:45e3,quantity:1}],paymentMethod:"Tiền mặt"},{orderID:"DH12346",customerName:"Trần Thị B",status:"Đang xử lý",orderDate:"2023-10-20 15:00",tableNumber:"Bàn 2",totalAmount:195e3,items:[{productID:3,productName:"Burger Bò Phô Mai",unitPrice:12e4,quantity:1},{productID:4,productName:"Coca Cola",unitPrice:15e3,quantity:5}],paymentMethod:"Chuyển khoản"}],WN=()=>{const[i,t]=S.useState(XN),[n,a]=S.useState("Tất cả"),o=(f,m)=>{t(p=>p.map(g=>g.orderID===f?{...g,status:m}:g)),alert(`Đã cập nhật trạng thái đơn hàng ${f} thành "${m}"`)},u=n==="Tất cả"?i:i.filter(f=>f.status===n);return v.jsxs("div",{style:{padding:"20px",maxWidth:"100%",margin:"0 auto",fontFamily:"Arial, sans-serif",overflowX:"auto",backgroundColor:"#f5f5f5",borderRadius:"8px"},children:[v.jsx("h1",{style:{fontSize:"clamp(20px, 5vw, 24px)",fontWeight:"600",marginBottom:"20px",textAlign:"center",color:"#333"},children:"Quản lý trạng thái đơn hàng"}),v.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"15px",marginBottom:"20px"},children:["Tất cả","Đang xử lý","Hoàn thành"].map(f=>v.jsx("button",{onClick:()=>a(f),style:{padding:"8px 20px",backgroundColor:n===f?"#ff5722":"#fff",color:n===f?"#fff":"#333",border:"1px solid #ddd",borderRadius:"5px",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"background-color 0.3s"},onMouseOver:m=>m.target.style.backgroundColor=n===f?"#e64a19":"#f0f0f0",onMouseOut:m=>m.target.style.backgroundColor=n===f?"#ff5722":"#fff",children:f},f))}),v.jsxs("div",{style:{minWidth:"980px",backgroundColor:"#fff",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[v.jsxs("div",{style:{display:"flex",backgroundColor:"#fafafa",padding:"15px",fontWeight:"600",borderBottom:"1px solid #e0e0e0",color:"#555",fontSize:"14px"},children:[v.jsx("div",{style:{width:"100px",textAlign:"center"},children:"Bàn"}),v.jsx("div",{style:{width:"280px",textAlign:"left"},children:"Món ăn"}),v.jsx("div",{style:{width:"140px",textAlign:"center"},children:"Thanh toán"}),v.jsx("div",{style:{width:"150px",textAlign:"right"},children:"Tổng tiền"}),v.jsx("div",{style:{width:"160px",textAlign:"center"},children:"Ngày đặt"}),v.jsx("div",{style:{width:"100px",textAlign:"center"},children:"Trạng thái"}),v.jsx("div",{style:{width:"120px",textAlign:"center"},children:"Hành động"})]}),u.length===0?v.jsx("p",{style:{textAlign:"center",padding:"20px",color:"#666",fontSize:"14px"},children:"Không có đơn hàng nào!"}):u.map(f=>v.jsxs("div",{style:{display:"flex",padding:"15px",borderBottom:"1px solid #e0e0e0",alignItems:"center",fontSize:"14px",color:"#333"},children:[v.jsx("div",{style:{width:"100px",textAlign:"center"},children:f.tableNumber}),v.jsx("div",{style:{width:"280px"},children:f.items.map(m=>v.jsxs("div",{style:{marginBottom:"5px"},children:[m.productName," x ",m.quantity]},m.productID))}),v.jsx("div",{style:{width:"140px",textAlign:"center"},children:f.paymentMethod}),v.jsxs("div",{style:{width:"150px",textAlign:"right"},children:[f.totalAmount.toLocaleString("vi-VN")," VNĐ"]}),v.jsx("div",{style:{width:"160px",textAlign:"center"},children:f.orderDate}),v.jsx("div",{style:{width:"100px",textAlign:"center",color:f.status==="Hoàn thành"?"#4caf50":"#f44336",fontWeight:"500"},children:f.status}),v.jsx("div",{style:{width:"120px",textAlign:"center"},children:f.status!=="Hoàn thành"&&v.jsx("button",{onClick:()=>o(f.orderID,"Hoàn thành"),style:{padding:"6px 16px",backgroundColor:"#4caf50",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"13px",fontWeight:"500",transition:"background-color 0.3s"},onMouseOver:m=>m.target.style.backgroundColor="#45a049",onMouseOut:m=>m.target.style.backgroundColor="#4caf50",children:"Hoàn thành"})})]},f.orderID))]})]})};class Kp{constructor(t,n,a,o,u,f){this.productID=t,this.productName=n,this.quantity=a,this.unitPrice=o,this.description=u,this.category=f}updateQuantity(t){this.quantity=t}getProduct(t){let n=[];return t.forEach(a=>{const o=new Kp;o.productID=a.productID,o.productName=a.productName,o.quantity=a.quantity,o.unitPrice=a.unitPrice,o.description=a.description,o.category=a.category,n.push(o)}),n}}async function ZN(i,t){const n=dn(pe(Xt,"Product"),Rn("productID","==",i)),a=await sn(n);if(a.empty)console.log(`No product found for productID: ${i}`);else{const o=a.docs[0],u=Fr(Xt,"Product",o.id),p=o.data().quantity+t;try{await pr(u,{quantity:p})}catch(g){console.log(`Error updating product ${i}:`,g)}}}let JN=class{constructor(t,n,a,o,u,f,m){this.orderID=t,this.status=n,this.buyDate=a,this.userName=o,this.tableNumber=u,this.paymentMethod=f,this.totalPrice=m,this.products=[]}async getOrderID(){try{const t=dn(pe(Xt,"Count")),a=(await sn(t)).docs[0],o=a.data().countNumber;this.orderID=o;const u=Fr(Xt,"Count",a.id);await pr(u,{countNumber:o+1}),console.log("Order ID:",this.orderID,"Count number updated successfully.")}catch(t){console.error("Error getting or updating document:",t)}}addProduct(t,n,a,o,u){const f=this.products.find(m=>m.productID===t);if(f)f.orderQuantity=a,f.singleProductPrice=a*o,f.orderQuantity===0&&(this.products=this.products.filter(m=>m.productID!=t));else{console.log(a);const m=a*o;this.products.push({productID:t,productName:n,orderQuantity:a,unitPrice:o,singleProductPrice:m,imageLink:u})}}calculateTotalPrice(){this.totalPrice=this.products.reduce((t,n)=>t+n.singleProductPrice,0)}};async function B0(i,t){const n=dn(pe(Xt,"Order"),Rn("orderID","==",Number(i))),a=await sn(n);if(a.empty){console.log("❌ Không tìm thấy đơn hàng với orderID đã cho.");return}const o=a.docs[0],u=Fr(Xt,"Order",o.id);if(o.data().status!=="Sẵn sàng giao"){console.log("⚠️ Đơn hàng không ở trạng thái 'Sẵn sàng giao', không thể cập nhật.");return}try{await pr(u,{status:"Hoàn thành",userName:t,completedDate:Ce.now().toDate()}),console.log(`✅ Đơn hàng ${i} đã cập nhật thành 'Hoàn thành'`)}catch(m){console.error("❌ Lỗi khi cập nhật trạng thái đơn hàng:",m)}}const tI=async i=>{try{const t=Fr(Xt,"Order",i);await pr(t,{status:"Sẵn sàng giao"}),console.log(`✅ Đã cập nhật đơn hàng ${i} thành "Sẵn sàng giao"`)}catch(t){throw console.error("❌ Lỗi khi cập nhật trạng thái đơn hàng:",t),new Error("Không thể cập nhật trạng thái đơn hàng.")}};async function eI(i){await qb(pe(Xt,"Order"),{orderID:i.orderID,buyDate:Ce.now().toDate(),status:"Đang xử lý",userName:null,tableNumber:i.tableNumber,paymentMethod:i.paymentMethod==="cash"?"Tiền mặt":"Chuyển khoản",totalPrice:i.totalPrice,products:i.products.map(t=>({productID:t.productID,productName:t.productName,orderQuantity:t.orderQuantity,unitPrice:t.unitPrice,singleProductPrice:t.singleProductPrice}))})}async function nI(i){const t={paymentMethod:i.paymentMethod==="cash"?"Tiền mặt":"Chuyển khoản",totalPrice:i.totalPrice,products:i.products.map(o=>({productID:o.productID,productName:o.productName,orderQuantity:o.orderQuantity,unitPrice:o.unitPrice,singleProductPrice:o.singleProductPrice}))},n=pe(Xt,"Order"),a=dn(n,Rn("orderID","==",Number(i.orderID)));try{const o=await sn(a);if(o.empty)console.log("No matching order found.");else{const u=o.docs[0].ref;await pr(u,t),console.log("Order updated successfully!")}}catch(o){console.error("Error updating order:",o)}}async function rI(i){const t=pe(Xt,"Order"),n=dn(t,Rn("orderID","==",Number(i)));return!!(await sn(n)).empty}async function $b(i,t){const n=dn(pe(Xt,"Order"),Rn("orderID","==",Number(i))),a=await sn(n);if(a.empty){console.log("No order found with the provided orderID");return}const o=a.docs[0],u=Fr(Xt,"Order",o.id),f=Ce.now().toDate();try{await pr(u,{buyDate:f,status:"Đã xác nhận",userName:t}),console.log("Updated buydate and status")}catch(m){console.log(m)}}async function iI(i){const t=Number(i),n=dn(pe(Xt,"Order"),Rn("orderID","==",t));try{const a=await sn(n);if(a.empty)return console.log("No order found"),null;const o=a.docs[0].data();return console.log(`query return: ${o}`),o}catch(a){console.log(a)}}async function z0(i){const t=Number(i),n=dn(pe(Xt,"Order"),Rn("orderID","==",Number(t))),a=await sn(n);if(a.empty){console.log("No order found with the provided orderID");return}const o=a.docs[0];console.log(o.data());const u=Fr(Xt,"Order",o.id),f=o.data().products;console.log(f),f.forEach(async m=>{console.log(m.orderQuantity),await ZN(m.productID,m.orderQuantity)});try{await pr(u,{products:[]}),console.log("Updated buydate and status")}catch(m){console.log(m)}}const aI=()=>{const[i,t]=S.useState([]),[n,a]=S.useState("Tất cả"),[o,u]=S.useState(!0),[f,m]=S.useState(null),{userType:p}=iu(),g=mr(),{unread:T,setUnread:b}=Gb();S.useEffect(()=>{(()=>{try{const Q=pe(Xt,"Order"),K=cu(Q,rt=>{const at=new Date;at.setHours(0,0,0,0);let ct=rt.docs.map(V=>{var C;return{id:V.id,...V.data(),buyDate:((C=V.data().buyDate)==null?void 0:C.toDate())||null}});if(ct=ct.filter(V=>V.buyDate?V.buyDate.getFullYear()===at.getFullYear()&&V.buyDate.getMonth()===at.getMonth()&&V.buyDate.getDate()===at.getDate()&&V.status!=="Hoàn thành":!1),p.startsWith("ST")){let V=ct.filter(C=>{if(C.status==="Đang xử lý"||C.status==="Sẵn sàng giao")return!0});b(C=>C=V.length)}p.startsWith("C")&&(ct=ct.filter(V=>V.status==="Đã xác nhận"),b(V=>V=ct.length)),t(D(ct))});return()=>K()}catch(Q){console.error("❌ Lỗi khi lấy đơn hàng:",Q),m(Q.message)}finally{u(!1)}})()},[p]);const x=async L=>{try{p.startsWith("C")?await B0(L.orderID,p):L.status==="Sẵn sàng giao"?(await B0(L.orderID,p),t(Q=>Q.map(K=>K.id===L.id?{...K,status:"Hoàn thành"}:K))):(await $b(L.orderID,p),t(Q=>Q.map(K=>K.id===L.id?{...K,status:"Đã xác nhận"}:K)))}catch(Q){console.error("❌ Lỗi khi cập nhật đơn hàng:",Q)}},D=L=>{const Q={"Sẵn sàng giao":1,"Đang xử lý":2,"Đã xác nhận":3};return[...L].sort((K,rt)=>{const at=Q[K.status]||98,ct=Q[rt.status]||98;return at!==ct?at-ct:rt.buyDate-K.buyDate})},M=async L=>{try{if(L.status==="Hoàn thành"){alert("Không thể cập nhật đơn hàng đã hoàn thành.");return}await tI(L.id)}catch(Q){alert(Q.message)}},H=async L=>{if(window.confirm("Bạn có chắc chắn muốn hủy đơn hàng này?"))try{await z0(L.orderID),await zb(Fr(Xt,"Order",L.id)),alert("Đã hủy đơn hàng thành công!")}catch(Q){console.error("❌ Lỗi khi xóa đơn hàng:",Q),alert("Xóa đơn hàng thất bại!")}};if(o)return v.jsx("div",{children:"Đang tải dữ liệu..."});if(f)return v.jsxs("div",{children:["Lỗi: ",f]});const j=n==="Tất cả"?i:i.filter(L=>L.status===n);return v.jsxs("div",{children:[v.jsx($p,{}),v.jsx("h1",{style:{marginTop:80},children:"Quản lý trạng thái đơn hàng - Hôm nay"}),v.jsx("br",{}),v.jsxs("table",{className:"order-table",children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{children:"Bàn"}),v.jsx("th",{children:"Trạng thái"}),v.jsx("th",{children:"Phương thức thanh toán"}),v.jsx("th",{children:"Sản phẩm"}),v.jsx("th",{children:"Tổng tiền"}),v.jsx("th",{children:"Ngày mua"}),v.jsx("th",{children:"Thao tác"})]})}),v.jsx("tbody",{children:j.length===0?v.jsx("tr",{children:v.jsx("td",{colSpan:"7",style:{textAlign:"center"},children:"Không có đơn hàng nào hôm nay!"})}):j.map(L=>{var Q,K;return v.jsxs("tr",{children:[v.jsx("td",{"data-label":"Bàn:",children:L.tableNumber}),v.jsx("td",{"data-label":"Trạng thái:",children:L.status}),v.jsx("td",{"data-label":"Phương thức thanh toán:",children:L.paymentMethod}),v.jsx("td",{"data-label":"Sản phẩm:",children:(Q=L.products)==null?void 0:Q.map((rt,at)=>v.jsxs("div",{children:[rt.productName," x ",rt.orderQuantity]},at))}),v.jsxs("td",{"data-label":"Tổng tiền:",children:[(K=L.totalPrice)==null?void 0:K.toLocaleString("vi-VN")," VNĐ"]}),v.jsx("td",{"data-label":"Ngày mua:",children:L.buyDate?L.buyDate.toLocaleString("vi-VN"):"Không có dữ liệu"}),v.jsx("td",{"data-label":"Thao tác:",children:L.status!=="Hoàn thành"&&v.jsx("div",{className:"action-buttons",children:p.startsWith("C")?v.jsx("button",{className:"confirm-btn",onClick:()=>M(L),children:"Đánh dấu sẵn sàng giao"}):v.jsxs(v.Fragment,{children:[L.status==="Đã xác nhận"?null:v.jsx("button",{className:"confirm-btn",onClick:()=>x(L),children:L.status==="Sẵn sàng giao"?"Tiếp nhận":"Xác nhận"}),L.status==="Sẵn sàng giao"?null:v.jsxs(v.Fragment,{children:[v.jsx("button",{className:"edit-btn",onClick:async()=>{let rt;const at=L.orderID;await z0(at),L.tableNumber==="Mang đi"?g("/tommitres/Order/Takeaway",{state:{thisOrderID:at}}):(rt=Number(L.tableNumber.slice(4)),g(`/tommitres/Order/Table${rt}`,{state:{thisOrderID:at}}))},children:"Chỉnh sửa"}),v.jsx("button",{className:"delete-btn",onClick:async()=>{await H(L)},children:"Hủy đơn"})]})]})})})]},L.id)})})]})]})},sI=()=>v.jsx("div",{style:{overflowX:"hidden"},children:v.jsxs("div",{style:{overflowX:"hidden"},children:[v.jsx($p,{}),v.jsx($N,{}),v.jsx(KN,{}),v.jsx("div",{style:{position:"fixed",bottom:"20px",right:"15px",zIndex:1e3},children:v.jsx("a",{href:"https://www.facebook.com/TOM.MIT.88/?locale=vi_VN",target:"_blank",children:v.jsx("img",{src:Qb,width:100})})})]})}),oI=()=>{const i=mr();return v.jsx("div",{className:"table",style:{background:"lightblue"},onClick:()=>i("./Takeaway"),children:v.jsx("p",{style:{fontSize:30,color:"green",fontWeight:"bold",paddingTop:150},children:"Takeaway"})})},lI="/tommitres/assets/table_empty-BoJ7QO9Q.png",uI="/tommitres/assets/table_full-rtFXfAR3.png";class Kb{constructor(){Od(this,"getTableData",async function(){const n=[],a=dn(pe(Xt,"Table"),Lb("tableID"));return(await sn(a)).forEach(u=>{n.push({tableID:u.data().tableID,isOccupied:u.data().isOccupied})}),n});Od(this,"changeTableData",async function(n,a){const o=dn(pe(Xt,"Table"),Rn("tableID","==",n)),u=await sn(o);if(!u.empty){const f=u.docs[0].ref;await pr(f,{isOccupied:!a})}})}}function cI(i){const t=mr(),[n,a]=S.useState(),[o,u]=S.useState(),f=async()=>{try{await new Kb().changeTableData(o,n),a(g=>!g)}catch(p){console.error("Error updating table status:",p)}},m=async()=>{n||await f(),t(`/tommitres/Order/Table${i.tableID}`)};return S.useEffect(()=>{const p=cu(dn(pe(Xt,"Table"),Rn("tableID","==",i.tableID)),g=>{const T=g.docs[0],b=T.data().tableID,x=T.data().isOccupied;return a(x),u(b),()=>p()})},[n]),v.jsxs("div",{className:"table",children:[v.jsx("h2",{className:"table-number",children:o}),v.jsx("img",{className:"table-display",src:n?uI:lI}),v.jsx("p",{children:"Trạng thái:"}),v.jsx("p",{className:n?"table-status-full":"table-status",children:n?"Đang sử dụng":"Trống"}),v.jsx("button",{className:"table-status-controller",onClick:f,children:"Đổi trạng thái"}),v.jsx("button",{className:"table-order",onClick:m,children:"Gọi món"})]})}const hI=()=>{const[i,t]=S.useState([]),[n,a]=S.useState(!0);return S.useEffect(()=>{const o=new Kb;(async()=>{try{const f=await o.getTableData();t(f),a(!1)}catch{a(!1)}})()},[]),n?v.jsx("div",{style:{textAlign:"center"},children:"Loading...."}):i?v.jsxs("div",{style:{textAlign:"center"},children:[v.jsx(oI,{}),i.map((o,u)=>v.jsx(cI,{tableID:o.tableID,isOccupied:o.isOccupied},u))]}):v.jsx("div",{style:{textAlign:"center"},children:"Unexpected Error!"})},fI=()=>v.jsxs("div",{children:[v.jsx($p,{}),v.jsx("div",{style:{marginTop:80}}),v.jsx(hI,{})]});var Pc={},q0;function dI(){if(q0)return Pc;q0=1,Pc.match=u,Pc.parse=f;var i=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,t=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,n=/^(?:(min|max)-)?(.+)/,a=/(em|rem|px|cm|mm|in|pt|pc)?$/,o=/(dpi|dpcm|dppx)?$/;function u(T,b){return f(T).some(function(x){var D=x.inverse,M=x.type==="all"||b.type===x.type;if(M&&D||!(M||D))return!1;var H=x.expressions.every(function(j){var L=j.feature,Q=j.modifier,K=j.value,rt=b[L];if(!rt)return!1;switch(L){case"orientation":case"scan":return rt.toLowerCase()===K.toLowerCase();case"width":case"height":case"device-width":case"device-height":K=g(K),rt=g(rt);break;case"resolution":K=p(K),rt=p(rt);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":K=m(K),rt=m(rt);break;case"grid":case"color":case"color-index":case"monochrome":K=parseInt(K,10)||1,rt=parseInt(rt,10)||0;break}switch(Q){case"min":return rt>=K;case"max":return rt<=K;default:return rt===K}});return H&&!D||!H&&D})}function f(T){return T.split(",").map(function(b){b=b.trim();var x=b.match(i),D=x[1],M=x[2],H=x[3]||"",j={};return j.inverse=!!D&&D.toLowerCase()==="not",j.type=M?M.toLowerCase():"all",H=H.match(/\([^\)]+\)/g)||[],j.expressions=H.map(function(L){var Q=L.match(t),K=Q[1].toLowerCase().match(n);return{modifier:K[1],feature:K[2],value:Q[2]}}),j})}function m(T){var b=Number(T),x;return b||(x=T.match(/^(\d+)\s*\/\s*(\d+)$/),b=x[1]/x[2]),b}function p(T){var b=parseFloat(T),x=String(T).match(o)[1];switch(x){case"dpcm":return b/2.54;case"dppx":return b*96;default:return b}}function g(T){var b=parseFloat(T),x=String(T).match(a)[1];switch(x){case"em":return b*16;case"rem":return b*16;case"cm":return b*96/2.54;case"mm":return b*96/2.54/10;case"in":return b*96;case"pt":return b*72;case"pc":return b*72/12;default:return b}}return Pc}var im,H0;function mI(){if(H0)return im;H0=1;var i=dI().match,t=typeof window<"u"?window.matchMedia:null;function n(o,u,f){var m=this,p;t&&!f&&(p=t.call(window,o)),p?(this.matches=p.matches,this.media=p.media,p.addListener(b)):(this.matches=i(o,u),this.media=o),this.addListener=g,this.removeListener=T,this.dispose=x;function g(D){p&&p.addListener(D)}function T(D){p&&p.removeListener(D)}function b(D){m.matches=D.matches,m.media=D.media}function x(){p&&p.removeListener(b)}}function a(o,u,f){return new n(o,u,f)}return im=a,im}var pI=mI();const gI=Jl(pI);var yI=/[A-Z]/g,vI=/^ms-/,am={};function _I(i){return"-"+i.toLowerCase()}function Yb(i){if(am.hasOwnProperty(i))return am[i];var t=i.replace(yI,_I);return am[i]=vI.test(t)?"-"+t:t}function EI(i,t){if(i===t)return!0;if(!i||!t)return!1;const n=Object.keys(i),a=Object.keys(t),o=n.length;if(a.length!==o)return!1;for(let u=0;u<o;u++){const f=n[u];if(i[f]!==t[f]||!Object.prototype.hasOwnProperty.call(t,f))return!1}return!0}const _n=Nt.oneOfType([Nt.string,Nt.number]),Xb={all:Nt.bool,grid:Nt.bool,aural:Nt.bool,braille:Nt.bool,handheld:Nt.bool,print:Nt.bool,projection:Nt.bool,screen:Nt.bool,tty:Nt.bool,tv:Nt.bool,embossed:Nt.bool},TI={orientation:Nt.oneOf(["portrait","landscape"]),scan:Nt.oneOf(["progressive","interlace"]),aspectRatio:Nt.string,deviceAspectRatio:Nt.string,height:_n,deviceHeight:_n,width:_n,deviceWidth:_n,color:Nt.bool,colorIndex:Nt.bool,monochrome:Nt.bool,resolution:_n,type:Object.keys(Xb)},{type:sO,...bI}=TI,xI={minAspectRatio:Nt.string,maxAspectRatio:Nt.string,minDeviceAspectRatio:Nt.string,maxDeviceAspectRatio:Nt.string,minHeight:_n,maxHeight:_n,minDeviceHeight:_n,maxDeviceHeight:_n,minWidth:_n,maxWidth:_n,minDeviceWidth:_n,maxDeviceWidth:_n,minColor:Nt.number,maxColor:Nt.number,minColorIndex:Nt.number,maxColorIndex:Nt.number,minMonochrome:Nt.number,maxMonochrome:Nt.number,minResolution:_n,maxResolution:_n,...bI},SI={...Xb,...xI};var wI={all:SI};const AI=i=>`not ${i}`,RI=(i,t)=>{const n=Yb(i);return typeof t=="number"&&(t=`${t}px`),t===!0?n:t===!1?AI(n):`(${n}: ${t})`},CI=i=>i.join(" and "),DI=i=>{const t=[];return Object.keys(wI.all).forEach(n=>{const a=i[n];a!=null&&t.push(RI(n,a))}),CI(t)},NI=S.createContext(void 0),II=i=>i.query||DI(i),F0=i=>i?Object.keys(i).reduce((n,a)=>(n[Yb(a)]=i[a],n),{}):void 0,Wb=()=>{const i=S.useRef(!1);return S.useEffect(()=>{i.current=!0},[]),i.current},OI=i=>{const t=S.useContext(NI),n=()=>F0(i)||F0(t),[a,o]=S.useState(n);return S.useEffect(()=>{const u=n();EI(a,u)||o(u)},[i,t]),a},MI=i=>{const t=()=>II(i),[n,a]=S.useState(t);return S.useEffect(()=>{const o=t();n!==o&&a(o)},[i]),n},VI=(i,t)=>{const n=()=>gI(i,t||{},!!t),[a,o]=S.useState(n),u=Wb();return S.useEffect(()=>{if(u){const f=n();return o(f),()=>{f&&f.dispose()}}},[i,t]),a},jI=i=>{const[t,n]=S.useState(i.matches);return S.useEffect(()=>{const a=o=>{n(o.matches)};return i.addListener(a),n(i.matches),()=>{i.removeListener(a)}},[i]),t},kI=(i,t,n)=>{const a=OI(t),o=MI(i);if(!o)throw new Error("Invalid or missing MediaQuery!");const u=VI(o,a),f=jI(u);return Wb(),S.useEffect(()=>{},[f]),S.useEffect(()=>()=>{u&&u.dispose()},[]),f},LI="/tommitres/assets/dui-ga-ran-FNIsJ21o.png",UI="/tommitres/assets/canh-ga-ran-BHsSQZqM.png",PI="/tommitres/assets/canh-ga-sot-cay-B300v7QJ.png",BI="/tommitres/assets/dui-ga-sot-cay-CHo7ZQjx.png",zI="/tommitres/assets/kim-chi-Byujekya.png",qI="/tommitres/assets/tra-sua-khoai-mon-Cap74bjX.png",HI="/tommitres/assets/tra-sua-nuong-C4zcpE4T.png",FI="/tommitres/assets/tra-thai-xanh-D8puORuh.png",GI="/tommitres/assets/tran-chau-duong-den-Bj1ve415.png",jr={white:"#ffffff",textDark:"#333",primary:"#ff5722",disabled:"#ccc"},tr={container:{margin:10,textAlign:"center",border:"1px solid #ddd",padding:10,borderRadius:10,minHeight:"350px",display:"flex",flexDirection:"column",justifyContent:"space-between"},image:{width:"100%",height:"180px",borderRadius:10,maxWidth:"400px",objectFit:"cover"},productName:{fontSize:"1.5rem",fontWeight:"bold",margin:"10px 0 5px"},description:{fontSize:"1rem",fontStyle:"italic",margin:"0 0 10px",color:"#666"},price:{fontSize:"1.2rem",margin:"0 0 10px"},outOfStock:{fontSize:"1.25rem",color:"red",textAlign:"center",margin:"10px 0"},quantityContainer:{display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",marginTop:"10px"},quantityButton:{width:"30px",height:"30px",borderRadius:"50%",border:`2px solid ${jr.primary}`,background:jr.white,color:jr.primary,fontSize:"1.2rem",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"background 0.2s ease, color 0.2s ease",":hover":{background:jr.primary,color:jr.white}},disabledButton:{border:`2px solid ${jr.disabled}`,color:jr.disabled,cursor:"not-allowed",":hover":{background:jr.white,color:jr.disabled}},quantityText:{fontSize:"1.5rem",fontWeight:"bold",minWidth:"30px",textAlign:"center",color:jr.textDark}},qm=({productID:i,productName:t,unitPrice:n,description:a,handlecreateOrder:o})=>{const[u,f]=S.useState(0),[m,p]=S.useState();let g;switch(t){case"Đùi gà rán":g=LI;break;case"Kim chi":g=zI;break;case"Cánh gà rán":g=UI;break;case"Cánh gà sốt cay":g=PI;break;case"Đùi gà sốt cay":g=BI;break;case"Trà thái xanh":g=FI;break;case"Trà sữa khoai môn tươi":g=qI;break;case"Trà sữa nướng":g=HI;break;case"Sữa tươi trân châu đường đen":g=GI;break;default:g=Hb}S.useEffect(()=>{const x=cu(dn(pe(Xt,"Product"),Rn("productID","==",Number(i))),async D=>{const H=D.docs[0].data().quantity;return p(H),console.log("Realtime product"),u>Number(H)&&(f(H),await o(i,t,H,n,g),console.log("update when change max")),()=>x()})},[u]);const T=async()=>{const x=Math.max(u-1,0);f(x),await o(i,t,x,n,g)},b=async()=>{const x=u+1;x<=m&&(f(x),await o(i,t,x,n,g))};return v.jsxs("div",{style:tr.container,children:[v.jsx("img",{src:g,alt:t,style:tr.image}),v.jsx("p",{style:tr.productName,children:t}),v.jsx("p",{style:tr.description,children:a||""}),v.jsxs("p",{style:tr.price,children:["Giá: ",n.toLocaleString(),"đ"]}),m<=0?v.jsx("p",{style:tr.outOfStock,children:"Hết hàng"}):v.jsxs("div",{style:tr.quantityContainer,children:[v.jsx("button",{style:{...tr.quantityButton,...u===0?tr.disabledButton:{}},onClick:T,disabled:u===0,children:"-"}),v.jsx("span",{style:tr.quantityText,children:u}),v.jsx("button",{style:{...tr.quantityButton,...u>=m?tr.disabledButton:{}},onClick:b,disabled:u>=m,children:"+"})]})]})};qm.propTypes={productName:Nt.string.isRequired,unitPrice:Nt.number.isRequired,description:Nt.string,handlecreateOrder:Nt.func.isRequired};const QI=async()=>{try{const i=pe(Xt,"Product");return(await sn(i)).docs.map(a=>({id:a.id,...a.data()}))}catch(i){return console.error("Lỗi khi lấy sản phẩm:",i),[]}},xn={white:"#ffffff",textDark:"#333",foodPrimary:"#ff5722",foodBackground:"#ffebee",drinkPrimary:"#2196f3",drinkBackground:"#e3f2fd",divider:"#ddd",buttonGradientStart:"#ff5722",buttonGradientEnd:"#ff9800",buttonShadow:"rgba(255, 87, 34, 0.4)"},qe={container:{minHeight:"100vh",background:xn.white,padding:"20px",fontFamily:"'Roboto', sans-serif"},header:{background:xn.white,padding:"15px 20px",borderRadius:"10px",boxShadow:"0 2px 5px rgba(0,0,0,0.1)",marginBottom:"20px"},headerTitle:{margin:0,color:xn.textDark,fontSize:"24px",textAlign:"center"},section:{marginBottom:"40px",padding:"15px",borderRadius:"10px"},sectionTitle:{fontSize:"40px",margin:"0 0 15px 10px",display:"flex",alignItems:"center",gap:"8px"},divider:{height:"1px",background:xn.divider,margin:"20px auto",width:"90%"},desktopGrid:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"20px",padding:"0 20px"},mobileList:{display:"flex",flexDirection:"column",gap:"15px",padding:"0 10px"},desktopItem:{background:xn.white,borderRadius:"10px",padding:"15px",boxShadow:"0 2px 5px rgba(0,0,0,0.1)",transition:"transform 0.2s",":hover":{transform:"translateY(-5px)"}},mobileItem:{background:xn.white,borderRadius:"10px",padding:"15px",boxShadow:"0 2px 5px rgba(0,0,0,0.1)"},orderButton:{position:"fixed",bottom:"20px",right:"20px",padding:"15px 30px",background:`linear-gradient(45deg, ${xn.buttonGradientStart}, ${xn.buttonGradientEnd})`,border:"none",borderRadius:"25px",color:xn.white,fontSize:"16px",fontWeight:"bold",boxShadow:`0 4px 15px ${xn.buttonShadow}`,cursor:"pointer",transition:"transform 0.2s",":hover":{transform:"scale(1.05)"}}},cr=({tableID:i})=>{const[t,n]=S.useState([]),[a,o]=S.useState([]),u=mr(),f=Hr(),m=kI({query:"(max-width: 768px)"}),{thisOrderID:p}=f.state||{},g=new JN;p!=null&&(g.orderID=p);const T=()=>{u("/tommitres/yourorder",{state:{currentOrders:g}})},b=async(x,D,M,H,j)=>{g.orderID||await g.getOrderID(),g.addProduct(x,D,M,H,j),g.calculateTotalPrice(),g.tableNumber=i?`Bàn ${i}`:"Mang đi",console.log(JSON.stringify(g,null,2))};return S.useEffect(()=>{(async()=>{try{const D=await QI(),H=new Kp().getProduct(D);n(H.filter(j=>j.category==="Food")),o(H.filter(j=>j.category==="Drink"))}catch(D){console.error("Lỗi khi lấy sản phẩm:",D)}})()},[]),v.jsxs("div",{style:m?{...qe.container,padding:"10px"}:qe.container,children:[v.jsx("div",{style:qe.header,children:v.jsx("h2",{style:m?{...qe.headerTitle,fontSize:"20px"}:qe.headerTitle,children:i?`Bàn ${i}`:""})}),v.jsxs("section",{style:{...qe.section,background:xn.foodBackground},children:[v.jsxs("h2",{style:{...qe.sectionTitle,color:xn.foodPrimary},children:[v.jsx("span",{children:"🍕"})," Đồ ăn"]}),v.jsx("div",{style:m?qe.mobileList:qe.desktopGrid,children:t.map(x=>v.jsx(qm,{productID:x.productID,productName:x.productName,unitPrice:x.unitPrice,description:x.description,handlecreateOrder:b,style:m?qe.mobileItem:qe.desktopItem},x.productID))})]}),v.jsx("div",{style:qe.divider}),v.jsxs("section",{style:{...qe.section,background:xn.drinkBackground,marginBottom:"80px"},children:[v.jsxs("h2",{style:{...qe.sectionTitle,color:xn.drinkPrimary},children:[v.jsx("span",{children:"🧋"})," Đồ uống"]}),v.jsx("div",{style:m?qe.mobileList:qe.desktopGrid,children:a.map(x=>v.jsx(qm,{productID:x.productID,productName:x.productName,unitPrice:x.unitPrice,description:x.description,handlecreateOrder:b,style:m?qe.mobileItem:qe.desktopItem},x.productID))})]}),v.jsx("button",{onClick:()=>{g.products.length<=0?alert("Vui lòng đặt ít nhất 1 món ăn hoặc đồ uống"):T()},style:qe.orderButton,children:"Đặt hàng"})]})},$I=()=>{const i=Hr(),{currentOrders:t}=i.state||{},[n,a]=S.useState(t.products);console.log(t.products);const[o,u]=S.useState("cash"),[f,m]=S.useState(!1),[p,g]=S.useState(!1),{userType:T}=iu(),b=mr();console.log(`table: ${JSON.stringify(t)}`);const x=async()=>{if(!o){alert("Vui lòng chọn phương thức thanh toán!");return}for(let j of n){const L=dn(pe(Xt,"Product"),Rn("productID","==",j.productID));try{const Q=await sn(L);for(const K of Q.docs)if(K.exists()){const at=K.data().quantity-j.orderQuantity,ct=Fr(Xt,"Product",K.id);await pr(ct,{quantity:at})}}catch(Q){console.error(Q)}}t.paymentMethod=o,await rI(t.orderID)?(await eI(t),console.log("createNew")):(console.log("Update order"),await nI(t))},D=()=>{m(!f)},M=()=>{g(!p)},H=j=>{u(j),g(!1)};return v.jsxs("div",{style:{padding:"15px",maxWidth:"100%",margin:"0 auto",fontFamily:"Arial, sans-serif"},children:[v.jsx("h1",{style:{fontSize:"clamp(20px, 5vw, 24px)",fontWeight:"bold",marginBottom:"15px",textAlign:"center"},children:"Đơn hàng của bạn"}),v.jsx("div",{style:{border:"1px solid #e0e0e0",borderRadius:"8px",padding:"10px",backgroundColor:"#fff"},children:n.length===0?v.jsx("p",{style:{textAlign:"center"},children:"Giỏ hàng trống!"}):n.map(j=>v.jsxs("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:"10px 0",borderBottom:"1px solid #f0f0f0",flexWrap:"wrap",gap:"10px"},children:[v.jsxs("div",{style:{flex:"2",display:"flex",alignItems:"center",minWidth:"200px"},children:[v.jsx("img",{src:j.imageLink,alt:j.productName,style:{width:"40px",height:"40px",marginRight:"10px",objectFit:"cover"}}),v.jsxs("div",{children:[v.jsx("p",{style:{fontWeight:"bold",margin:0,fontSize:"clamp(14px, 3vw, 16px)"},children:j.productName}),v.jsxs("p",{style:{color:"#888",margin:0,fontSize:"clamp(12px, 2.5vw, 14px)"},children:[j.unitPrice.toLocaleString("vi-VN")," VNĐ x ",j.orderQuantity]})]})]}),v.jsx("div",{style:{textAlign:"right",minWidth:"80px"},children:v.jsxs("p",{style:{fontWeight:"bold",color:"#ff5722",fontSize:"clamp(14px, 3vw, 16px)"},children:[j.singleProductPrice.toLocaleString("vi-VN")," VNĐ"]})})]},j.productID))}),v.jsxs("div",{style:{marginTop:"15px",padding:"10px",backgroundColor:"#fff",border:"1px solid #e0e0e0",borderRadius:"8px"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer"},onClick:D,children:[v.jsx("p",{style:{fontSize:"clamp(16px, 4vw, 18px)",fontWeight:"bold"},children:"Tổng cộng:"}),v.jsxs("p",{style:{fontSize:"clamp(18px, 4.5vw, 20px)",fontWeight:"bold",color:"#ff5722"},children:[t.totalPrice.toLocaleString("vi-VN")," VNĐ"]})]}),f&&v.jsxs("div",{style:{marginTop:"15px",paddingTop:"10px",borderTop:"1px solid #e0e0e0"},children:[v.jsx("h3",{style:{fontSize:"clamp(14px, 3.5vw, 16px)",fontWeight:"bold",marginBottom:"10px"},children:"Chi tiết đơn hàng:"}),v.jsx("ul",{style:{listStyleType:"none",padding:0},children:n.map(j=>v.jsxs("li",{style:{display:"flex",justifyContent:"space-between",padding:"5px 0",fontSize:"clamp(12px, 3vw, 14px)"},children:[v.jsxs("span",{children:[j.productName," (x",j.orderQuantity,")"]}),v.jsxs("span",{children:[j.singleProductPrice.toLocaleString("vi-VN")," VNĐ"]})]},j.productID))}),v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 0",borderTop:"1px solid #e0e0e0",marginTop:"10px"},children:[v.jsx("p",{style:{fontWeight:"bold",fontSize:"clamp(14px, 3.5vw, 16px)"},children:"Tổng cộng:"}),v.jsxs("p",{style:{fontWeight:"bold",color:"#ff5722",fontSize:"clamp(14px, 3.5vw, 16px)"},children:[t.totalPrice.toLocaleString("vi-VN")," VNĐ"]})]})]})]}),v.jsxs("div",{style:{marginTop:"15px",padding:"10px",backgroundColor:"#fff",border:"1px solid #e0e0e0",borderRadius:"8px"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer"},onClick:M,children:[v.jsx("p",{style:{fontSize:"clamp(16px, 4vw, 18px)",fontWeight:"bold"},children:"Phương thức thanh toán:"}),v.jsx("p",{style:{fontSize:"clamp(16px, 4vw, 18px)",color:"#ff5722"},children:o?o==="cash"?"Tiền mặt":"Chuyển khoản":"Chưa chọn"})]}),p&&v.jsxs("div",{style:{marginTop:"15px",paddingTop:"10px",borderTop:"1px solid #e0e0e0"},children:[v.jsx("h3",{style:{fontSize:"clamp(14px, 3.5vw, 16px)",fontWeight:"bold",marginBottom:"10px"},children:"Chọn phương thức thanh toán:"}),v.jsxs("ul",{style:{listStyleType:"none",padding:0},children:[v.jsx("li",{style:{padding:"10px 0",cursor:"pointer",borderBottom:"1px solid #e0e0e0",fontSize:"clamp(14px, 3.5vw, 16px)"},onClick:()=>H("cash"),children:"Tiền mặt"}),v.jsx("li",{style:{padding:"10px 0",cursor:"pointer",fontSize:"clamp(14px, 3.5vw, 16px)"},onClick:()=>H("bank"),children:"Chuyển khoản"})]})]})]}),v.jsx("div",{style:{textAlign:"center"},children:T&&T.startsWith("ST")?v.jsx("button",{onClick:async()=>{await x(),await $b(t.orderID,T);const j=await iI(t.orderID);console.log(j),b("/tommitres/Invoice",{state:{billData:j}})},style:{width:"100%",padding:"12px",marginTop:"15px",backgroundColor:"#007bff",color:"#fff",border:"none",borderRadius:"8px",fontSize:"clamp(16px, 4vw, 18px)",fontWeight:"bold",cursor:"pointer"},children:"Xuất Hóa Đơn"}):v.jsx("button",{onClick:async()=>{await x(),b("/tommitres/ThankYou")},style:{width:"100%",padding:"12px",marginTop:"15px",backgroundColor:"#ff5722",color:"#fff",border:"none",borderRadius:"8px",fontSize:"clamp(16px, 4vw, 18px)",fontWeight:"bold",cursor:"pointer"},children:"Yêu Cầu Thanh Toán"})})]})},KI=()=>{const[i,t]=S.useState([]),[n,a]=S.useState([]),[o,u]=S.useState([]),[f,m]=S.useState(!0),[p,g]=S.useState(null),[T,b]=S.useState({}),[x,D]=S.useState(!1),[M,H]=S.useState(null),[j,L]=S.useState(""),[Q,K]=S.useState(""),[rt,at]=S.useState(""),[ct,V]=S.useState(window.innerWidth<=768);S.useEffect(()=>{const N=()=>V(window.innerWidth<=768);return window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)},[]),S.useEffect(()=>{(async()=>{try{m(!0);const Ot=pe(Xt,"Account"),xt=await sn(Ot);if(xt.empty)g("Không tìm thấy tài khoản.");else{const it=[],ht=[],ut=[];xt.docs.forEach(At=>{const k=At.data().Username,tt={id:At.id,username:k,password:At.data().Password};k.startsWith("ST")?it.push(tt):k.startsWith("M")?ht.push(tt):k.startsWith("C")&&ut.push(tt)}),t(it),a(ht),u(ut)}}catch(Ot){g("Đã xảy ra lỗi: "+Ot.message)}finally{m(!1)}})()},[]);const C=N=>{b(Ot=>({...Ot,[N]:!Ot[N]}))},R=N=>{H(N),D(!0)},O=async()=>{if(!M){alert("Không tìm thấy tài khoản để đổi mật khẩu!");return}if(Q!==rt){alert("Mật khẩu mới và xác nhận mật khẩu không khớp!");return}try{const N=await PN(M.username,j,Q);if(alert(N),N.includes("thành công")){const Ot=xt=>xt.map(it=>it.id===M.id?{...it,password:Q}:it);t(Ot(i)),a(Ot(n)),u(Ot(o)),D(!1),L(""),K(""),at("")}}catch(N){alert("Lỗi khi đổi mật khẩu: "+N.message)}};if(f)return v.jsx("p",{style:Mt.loading,children:"Đang tải..."});if(p)return v.jsxs("p",{style:Mt.error,children:["Lỗi: ",p]});const U=(N,Ot)=>v.jsxs("div",{style:Mt.section,children:[v.jsx("h3",{style:Mt.sectionTitle,children:N}),Ot.length>0?v.jsx("div",{style:Mt.tableContainer,children:v.jsxs("table",{style:Mt.table,children:[v.jsx("thead",{children:v.jsxs("tr",{style:Mt.tableHeader,children:[v.jsx("th",{style:Mt.th,children:"Tên đăng nhập"}),v.jsx("th",{style:Mt.th,children:"Mật khẩu"}),v.jsx("th",{style:Mt.th,children:"Hành động"})]})}),v.jsx("tbody",{children:Ot.map(xt=>v.jsxs("tr",{style:Mt.tr,children:[v.jsx("td",{style:Mt.td,children:xt.username}),v.jsx("td",{style:Mt.td,children:v.jsxs("div",{style:Mt.passwordContainer,children:[v.jsx("span",{style:Mt.password,children:T[xt.id]?xt.password:"●●●●●●"}),v.jsx("button",{onClick:()=>C(xt.id),style:Mt.iconButton,children:T[xt.id]?"🙈":"👁️"})]})}),v.jsx("td",{style:Mt.td,children:v.jsx("button",{onClick:()=>R(xt),style:Mt.actionButton,children:"Đổi mật khẩu"})})]},xt.id))})]})}):v.jsx("p",{style:Mt.noData,children:"Không có tài khoản."})]}),z=(N,Ot)=>v.jsxs("div",{style:Mt.section,children:[v.jsx("h3",{style:Mt.sectionTitle,children:N}),Ot.length>0?v.jsx("div",{style:Mt.cardContainer,children:Ot.map(xt=>v.jsxs("div",{style:Mt.card,children:[v.jsxs("div",{style:Mt.cardRow,children:[v.jsx("span",{style:Mt.label,children:"Tên đăng nhập:"}),v.jsx("span",{children:xt.username})]}),v.jsxs("div",{style:Mt.cardRow,children:[v.jsx("span",{style:Mt.label,children:"Mật khẩu:"}),v.jsxs("div",{style:Mt.passwordContainer,children:[v.jsx("span",{style:Mt.password,children:T[xt.id]?xt.password:"●●●●●●"}),v.jsx("button",{onClick:()=>C(xt.id),style:Mt.iconButton,children:T[xt.id]?"🙈":"👁️"})]})]}),v.jsx("button",{onClick:()=>R(xt),style:Mt.actionButton,children:"Đổi mật khẩu"})]},xt.id))}):v.jsx("p",{style:Mt.noData,children:"Không có tài khoản."})]});return v.jsxs("div",{style:Mt.container,children:[ct?v.jsxs(v.Fragment,{children:[z("Tài khoản Nhân viên",i),z("Tài khoản Quản lý",n),z("Tài khoản Đầu bếp",o)]}):v.jsxs(v.Fragment,{children:[U("Tài khoản Nhân viên",i),U("Tài khoản Quản lý",n),U("Tài khoản Đầu bếp",o)]}),x&&v.jsx("div",{style:Mt.dialogOverlay,children:v.jsxs("div",{style:ct?Mt.dialogMobile:Mt.dialogDesktop,children:[v.jsx("h3",{style:Mt.dialogTitle,children:"Đổi mật khẩu"}),v.jsx("input",{type:"password",placeholder:"Mật khẩu hiện tại",value:j,onChange:N=>L(N.target.value),style:Mt.input}),v.jsx("input",{type:"password",placeholder:"Mật khẩu mới",value:Q,onChange:N=>K(N.target.value),style:Mt.input}),v.jsx("input",{type:"password",placeholder:"Xác nhận mật khẩu mới",value:rt,onChange:N=>at(N.target.value),style:Mt.input}),v.jsxs("div",{style:Mt.dialogButtons,children:[v.jsx("button",{onClick:O,style:Mt.confirmButton,children:"Xác nhận"}),v.jsx("button",{onClick:()=>{L(""),K(""),at(""),D(!1)},style:Mt.cancelButton,children:"Hủy"})]})]})})]})},Mt={container:{padding:"1rem",maxWidth:"1200px",margin:"0 auto",fontFamily:"Arial, sans-serif"},section:{marginBottom:"2rem"},sectionTitle:{fontSize:"1.75rem",fontWeight:"bold",margin:"1rem 0",color:"#333"},tableContainer:{overflowX:"auto"},table:{width:"100%",borderCollapse:"collapse",fontSize:"1.25rem"},tableHeader:{backgroundColor:"#f2f2f2"},th:{padding:"0.75rem",textAlign:"left",borderBottom:"2px solid #ddd"},tr:{borderBottom:"1px solid #ddd"},td:{padding:"0.75rem",verticalAlign:"middle"},cardContainer:{display:"flex",flexDirection:"column",gap:"1rem"},card:{backgroundColor:"#fff",borderRadius:"10px",padding:"1rem",boxShadow:"0 2px 5px rgba(0,0,0,0.1)",border:"1px solid #e0e0e0"},cardRow:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.75rem"},label:{fontWeight:"bold",color:"#555"},passwordContainer:{display:"flex",alignItems:"center",gap:"0.5rem"},password:{fontFamily:"monospace"},iconButton:{backgroundColor:"transparent",border:"none",cursor:"pointer",fontSize:"1.25rem"},actionButton:{padding:"0.625rem 1rem",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"5px",fontSize:"1rem",cursor:"pointer",width:"100%",transition:"background-color 0.3s"},noData:{fontSize:"1.25rem",textAlign:"center",color:"#666"},loading:{fontSize:"1.5rem",textAlign:"center",color:"#007bff"},error:{fontSize:"1.25rem",textAlign:"center",color:"#dc3545"},dialogOverlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},dialogDesktop:{backgroundColor:"#fff",padding:"2rem",borderRadius:"15px",width:"400px",boxShadow:"0 5px 15px rgba(0,0,0,0.3)"},dialogMobile:{backgroundColor:"#fff",padding:"1.5rem",borderRadius:"15px",width:"90%",maxWidth:"400px",boxShadow:"0 5px 15px rgba(0,0,0,0.3)"},dialogTitle:{fontSize:"1.5rem",marginBottom:"1rem",color:"#333"},input:{display:"block",width:"100%",padding:"0.75rem",marginBottom:"1rem",fontSize:"1rem",borderRadius:"5px",border:"1px solid #4a90e2",backgroundColor:"#f0f8ff",color:"#333",boxSizing:"border-box",outline:"none",transition:"border-color 0.3s, box-shadow 0.3s"},dialogButtons:{display:"flex",gap:"0.5rem"},confirmButton:{flex:1,padding:"0.75rem",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"5px",fontSize:"1rem",cursor:"pointer",transition:"background-color 0.3s"},cancelButton:{flex:1,padding:"0.75rem",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"5px",fontSize:"1rem",cursor:"pointer",transition:"background-color 0.3s"}},YI=()=>{const[i,t]=S.useState([]),[n,a]=S.useState([]),[o,u]=S.useState(""),[f,m]=S.useState(!0),[p,g]=S.useState(null);S.useEffect(()=>{console.log("📡 Đang lắng nghe dữ liệu đơn hàng từ Firestore...");const b=pe(Xt,"Order"),x=cu(b,D=>{let M=D.docs.map(L=>{var K;const Q=L.data();return{id:L.id,...Q,buyDate:((K=Q.buyDate)==null?void 0:K.toDate())||null}});M=M.filter(L=>L.status==="Hoàn thành").sort((L,Q)=>Q.buyDate-L.buyDate);const H=[],j={};M.forEach(L=>{if(!L.buyDate)return;const Q=L.buyDate.toISOString().split("T")[0];j[Q]||(j[Q]={total:0,orders:[]}),j[Q].total+=L.totalPrice||0,j[Q].orders.push(L)}),Object.keys(j).forEach(L=>{H.push(...j[L].orders),H.push({id:`total-${L}`,isTotalRow:!0,buyDate:L,totalRevenue:j[L].total})}),t(H),a(H),m(!1)});return()=>x()},[]),S.useEffect(()=>{if(!o){a(i);return}const b=i.filter(x=>x.buyDate?!!((x.buyDate instanceof Date?x.buyDate.toISOString().split("T")[0]:x.buyDate)===o||x.isTotalRow&&x.buyDate===o):!1);a(b)},[o,i]);const T=b=>{u(b.target.value)};return f?v.jsx("div",{children:"Đang tải dữ liệu..."}):p?v.jsxs("div",{children:["Lỗi: ",p]}):v.jsxs("div",{children:[v.jsx("br",{}),v.jsx("h1",{children:"Quản lý doanh thu"}),v.jsxs("div",{style:{marginBottom:"20px"},children:[v.jsx("label",{htmlFor:"searchDate",style:{marginRight:"10px"},children:"Tìm đơn hàng theo ngày:"}),v.jsx("input",{type:"date",id:"searchDate",value:o,onChange:T})]}),v.jsx("br",{}),v.jsxs("table",{className:"order-table",children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{children:"Bàn"}),v.jsx("th",{children:"Nhân viên phụ trách"}),v.jsx("th",{children:"Phương thức thanh toán"}),v.jsx("th",{children:"Sản phẩm"}),v.jsx("th",{children:"Tổng tiền"}),v.jsx("th",{children:"Ngày mua"})]})}),v.jsx("tbody",{children:n.length===0?v.jsx("tr",{children:v.jsx("td",{colSpan:"6",style:{textAlign:"center"},children:"Không có đơn hàng nào!"})}):n.map(b=>{var x,D;return b.isTotalRow?v.jsxs("tr",{className:"total-row",children:[v.jsxs("td",{colSpan:"4",style:{fontWeight:"bold",textAlign:"right"},children:["Tổng doanh thu ngày"," ",new Date(b.buyDate).toLocaleDateString("vi-VN"),":"]}),v.jsxs("td",{style:{fontWeight:"bold",color:"red",textAlign:"center"},children:[b.totalRevenue.toLocaleString("vi-VN")," VNĐ"]}),v.jsx("td",{})]},b.id):v.jsxs("tr",{children:[v.jsx("td",{children:b.tableNumber}),v.jsx("td",{children:b.userName}),v.jsx("td",{children:b.paymentMethod}),v.jsx("td",{children:(x=b.products)==null?void 0:x.map((M,H)=>v.jsxs("div",{children:[M.productName," x ",M.orderQuantity]},H))}),v.jsxs("td",{children:[(D=b.totalPrice)==null?void 0:D.toLocaleString("vi-VN")," VNĐ"]}),v.jsx("td",{children:b.buyDate instanceof Date?b.buyDate.toLocaleDateString("vi-VN"):b.buyDate})]},b.id)})})]})]})},XI=()=>{const i=Hr(),{billData:t}=i.state||{},n=mr();console.log(t.buyDate);const a=t.buyDate,u=new Date(a.seconds*1e3).toLocaleDateString("vi-VN"),f=()=>{window.print()},m=()=>{n("/tommitres/manageOrder")};return v.jsxs("div",{className:"container w-75 mx-auto p-4",children:[v.jsxs("div",{className:"border bg-white shadow rounded p-4",children:[v.jsx("h2",{className:"text-center fw-bold fs-4",children:"HÓA ĐƠN THANH TOÁN"}),v.jsx("hr",{className:"my-2"}),v.jsxs("div",{className:"row text-start",children:[v.jsx("p",{className:"col-12 d-flex justify-content-between fw-semibold",children:v.jsxs("span",{className:"text-end",children:["NV: ",t.userName]})}),v.jsxs("p",{className:"col-12 d-flex justify-content-between align-items-center",children:[v.jsx("span",{className:"d-flex align-items-center gap-2",children:t.tableNumber}),v.jsxs("span",{className:"text-end",children:["Ngày: ",u]})]})]}),v.jsx("hr",{className:"my-2"}),v.jsxs("table",{className:"table-bordered text-start w-100",children:[v.jsx("thead",{className:"table-light",children:v.jsxs("tr",{children:[v.jsx("th",{className:"text-center",children:"STT"}),v.jsx("th",{className:"text-center",children:"Tên món"}),v.jsx("th",{className:"text-center",children:"SL"}),v.jsx("th",{className:"text-center",children:"Đơn giá"}),v.jsx("th",{className:"text-center",children:"Thành tiền"})]})}),v.jsx("tbody",{children:t.products.map((p,g)=>v.jsxs("tr",{children:[v.jsx("td",{className:"text-center",children:g+1}),v.jsx("td",{className:"text-center",children:p.productName}),v.jsx("td",{className:"text-center",children:p.orderQuantity}),v.jsxs("td",{className:"text-center",children:[p.unitPrice.toLocaleString(),"đ"]}),v.jsxs("td",{className:"text-center",children:[p.singleProductPrice.toLocaleString(),"đ"]})]},g))})]}),v.jsx("hr",{className:"my-2"}),v.jsxs("div",{className:"mt-2",children:[v.jsxs("div",{className:"d-flex justify-content-between fw-bold",children:[v.jsx("span",{className:"text-start",children:"Thành tiền:"}),v.jsxs("span",{className:"text-end",children:[t.totalPrice.toLocaleString(),"đ"]})]}),v.jsxs("div",{className:"d-flex justify-content-between fw-bold",children:[v.jsx("span",{className:"text-start",children:"Tổng tiền:"}),v.jsxs("span",{className:"text-end",children:[t.totalPrice.toLocaleString(),"đ"]})]}),v.jsxs("div",{className:"d-flex justify-content-between fw-bold",children:[v.jsxs("span",{className:"text-start",children:["+ ",t.paymentMethod]}),v.jsxs("span",{className:"text-end",children:[t.totalPrice.toLocaleString(),"đ"]})]}),v.jsx("p",{className:"fw-bold text-center mt-2",children:"Quán Tôm & Mít"}),v.jsx("p",{className:"text-center text-muted",children:"Địa chỉ: Trục hồ Văn Khê, Nguyễn Du, Thường Tín, HN"})]})]}),v.jsxs("div",{className:"text-center mt-3",children:[v.jsx("button",{onClick:m,className:"btn btn-secondary me-2",children:"Quay lại"}),v.jsx("button",{onClick:f,className:"btn btn-primary",children:"In hóa đơn"})]})]})},WI="/tommitres/assets/Thank-you-C_o-6Xl_.jpg",ZI=()=>{const i={primary:"#FF99CC",secondary:"#FF66B2",backgroundLight:"#FFF0F5",textDark:"#3A1F25",textMuted:"#5C3A42"},n=(()=>{const a=window.innerWidth<=768;return{container:{minHeight:"100vh",background:i.backgroundLight,padding:a?"1rem 0":"2rem 0",display:"flex",alignItems:"center",justifyContent:"center"},card:{borderRadius:"20px",border:"none",background:"white",boxShadow:"0 15px 35px rgba(255, 153, 204, 0.2)",maxWidth:a?"90%":"500px",width:"100%",margin:"0 auto",animation:"fadeIn 0.5s ease-in-out"},cardBody:{padding:a?"1.5rem":"2.5rem",textAlign:"center"},imageWrapper:{position:"relative",width:a?"140px":"180px",height:a?"140px":"180px",margin:a?"0 auto 1.5rem":"0 auto 2rem"},image:{width:"100%",height:"100%",borderRadius:"50%",objectFit:"cover",border:`4px solid ${i.primary}`,boxShadow:"0 5px 20px rgba(255, 153, 204, 0.3)"},title:{fontSize:a?"1.75rem":"2.25rem",fontWeight:800,background:`linear-gradient(45deg, ${i.primary}, ${i.secondary})`,WebkitBackgroundClip:"text",backgroundClip:"text",WebkitTextFillColor:"transparent",marginBottom:a?"1rem":"1.25rem",textShadow:"1px 1px 2px rgba(255, 255, 255, 0.8)"},leadText:{fontSize:a?"1rem":"1.15rem",color:i.textDark,marginBottom:"1rem",fontWeight:600,textShadow:"0 1px 2px rgba(255, 255, 255, 0.6)"},secondaryText:{fontSize:a?"0.85rem":"0.95rem",color:i.textMuted,marginBottom:a?"1.5rem":"2rem",lineHeight:"1.6",fontWeight:500,textShadow:"0 1px 1px rgba(255, 255, 255, 0.5)"},button:{background:`linear-gradient(45deg, ${i.primary}, ${i.secondary})`,border:"none",borderRadius:"30px",padding:a?"0.6rem 2rem":"0.75rem 2.5rem",fontWeight:700,fontSize:a?"0.9rem":"1rem",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(255, 153, 204, 0.4)",color:"#FFFFFF",textShadow:"0 1px 2px rgba(0, 0, 0, 0.2)"},facebookButton:{background:"#1877F2",border:"none",borderRadius:"30px",padding:a?"0.5rem 1.5rem":"0.6rem 2rem",fontWeight:700,fontSize:a?"0.9rem":"1rem",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(24, 119, 242, 0.4)",color:"#FFFFFF",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",margin:"0 auto"},fbLogo:{width:a?"20px":"50px",height:"auto"}}})();return v.jsx(VE,{fluid:!0,style:n.container,children:v.jsx(T_,{style:n.card,children:v.jsxs(T_.Body,{style:n.cardBody,children:[v.jsx("div",{style:n.imageWrapper,children:v.jsx("img",{src:WI,alt:"Thank You",style:n.image})}),v.jsx("h1",{style:n.title,children:"Cảm ơn quý khách!"}),v.jsx("p",{style:n.leadText,children:"Chúng tôi trân trọng sự ủng hộ của quý khách"}),v.jsx("p",{style:n.secondaryText,children:"Đơn hàng đã được xác nhận thành công."}),v.jsx("p",{style:n.secondaryText,children:"Vui lòng đợi trong giây lát!"}),v.jsx("a",{href:"https://www.facebook.com/TOM.MIT.88/?locale=vi_VN",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:v.jsxs(er,{style:n.facebookButton,children:[v.jsx("img",{src:Qb,alt:"Facebook",style:n.fbLogo}),"Theo dõi chúng tôi"]})})]})})})},JI=()=>v.jsxs(bw,{children:[v.jsx(Re,{path:"/tommitres",element:v.jsx(P0,{children:v.jsx(sI,{})})}),v.jsx(Re,{path:"/tommitres/Login",element:v.jsx(YN,{})}),v.jsx(Re,{path:"/tommitres/Reservation",element:v.jsx(WN,{})}),v.jsx(Re,{path:"/tommitres/Order",element:v.jsx(fI,{})}),v.jsx(Re,{path:"/tommitres/Order/Takeaway",element:v.jsx(cr,{})}),v.jsx(Re,{path:"/tommitres/DetailedRevenue",element:v.jsx(YI,{})}),v.jsx(Re,{path:"/tommitres/manageOrder",element:v.jsx(P0,{children:v.jsx(aI,{})})}),v.jsx(Re,{path:"/tommitres/manageAccount",element:v.jsx(KI,{})}),v.jsx(Re,{path:"/tommitres/Invoice",element:v.jsx(XI,{})}),v.jsx(Re,{path:"/tommitres/ThankYou",element:v.jsx(ZI,{})}),v.jsx(Re,{path:"/tommitres/Order/Table1",element:v.jsx(cr,{tableID:1})}),v.jsx(Re,{path:"/tommitres/Order/Table2",element:v.jsx(cr,{tableID:2})}),v.jsx(Re,{path:"/tommitres/Order/Table3",element:v.jsx(cr,{tableID:3})}),v.jsx(Re,{path:"/tommitres/Order/Table4",element:v.jsx(cr,{tableID:4})}),v.jsx(Re,{path:"/tommitres/Order/Table5",element:v.jsx(cr,{tableID:5})}),v.jsx(Re,{path:"/tommitres/Order/Table6",element:v.jsx(cr,{tableID:6})}),v.jsx(Re,{path:"/tommitres/Order/Table7",element:v.jsx(cr,{tableID:7})}),v.jsx(Re,{path:"/tommitres/Order/Table8",element:v.jsx(cr,{tableID:8})}),v.jsx(Re,{path:"/tommitres/Order/Table9",element:v.jsx(cr,{tableID:9})}),v.jsx(Re,{path:"/tommitres/Order/Table10",element:v.jsx(cr,{tableID:10})}),v.jsx(Re,{path:"/tommitres/yourorder",element:v.jsx($I,{})})]}),tO=()=>v.jsx(JI,{});OS.createRoot(document.getElementById("root")).render(v.jsx(S.StrictMode,{children:v.jsx(Qw,{children:v.jsx(tO,{})})}));
